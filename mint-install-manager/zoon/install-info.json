{
  "objectType" : "InstallInfo",
  "properties" : {},
  "jobs" : [
    {
      "objectType":"Job",
      "name":"GetInstallData",
      "use":true,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"GetInstallData",
          "use":true,
          "executor":"pep.per.mint.install.job.task.GIDTaskExecutor",
          "doNextOnError":false,
          "params":{
            "jdbcDriver":"oracle.jdbc.driver.OracleDriver",
            "jdbcUrl":"jdbc:oracle:thin:@10.10.1.35:1521:IIP",
            "jdbcUsername":"msm",
            "jdbcPassword":"msm",
            "pathForCreateData100":"${HOME}/dist/mint-data-create-100",
            "pathForCreateData200":"${HOME}/dist/mint-data-create-200"
          }
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"CreateMteSchema",
      "use":true,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"CreateMteSchema",
          "use":true,
          "executor":"pep.per.mint.install.job.task.RunSqlTaskExecutor",
          "doNextOnError":true,
          "params":{
            "source":"files",
            "onError":"continue",
            "files":["${HOME}/dist/mte-schema2.sql"],
            "jdbcDriver":"${install.jdbc.driver.class.name}",
            "jdbcUrl":"${install.jdbc.url}",
            "jdbcUsername":"${install.jdbc.username}",
            "jdbcPassword":"${install.jdbc.password}"
          }
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"100.CopyWarToDestination",
      "use":false,
      "doNextOnError":true,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"101.CopyWar",
          "use":true,
          "executor":"pep.per.mint.install.job.task.CopyFileTaskExecutor",
          "doNextOnError":false,
          "params":{
            "source":"${install.war.file}",
            "destination":"${install.war.tar.path}"
          }
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"200.DropAndCreateSchema",
      "use":true,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"201.DropAndCreateSchema",
          "use":true,
          "executor":"pep.per.mint.install.job.task.RunSqlTaskExecutor",
          "doNextOnError":true,
          "params":{
            "source":"files",
            "onError":"continue",
            "files":["${HOME}/dist/mint-schema-drop.sql","${HOME}/dist/mint-schema-create.sql"],
            "jdbcDriver":"${install.jdbc.driver.class.name}",
            "jdbcUrl":"${install.jdbc.url}",
            "jdbcUsername":"${install.jdbc.username}",
            "jdbcPassword":"${install.jdbc.password}"
          }
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"300.RunBasicCodeData",
      "use":true,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"301.DeleteBasicCode",
          "use":true,
          "executor":"pep.per.mint.install.job.task.RunSqlTaskExecutor",
          "doNextOnError":false,
          "params":{
            "source":"directory",
            "path":"${HOME}/dist/mint-data-delete-100",
            "onError":"stop",
            "jdbcDriver":"${install.jdbc.driver.class.name}",
            "jdbcUrl":"${install.jdbc.url}",
            "jdbcUsername":"${install.jdbc.username}",
            "jdbcPassword":"${install.jdbc.password}"
          }
        },
        {
          "objectType":"Task",
          "name":"302.InsertBasicCode",
          "use":true,
          "executor":"pep.per.mint.install.job.task.RunSqlTaskExecutor",
          "doNextOnError":false,
          "params":{
            "source":"directory",
            "path":"${HOME}/dist/mint-data-create-100",
            "onError":"stop",
            "jdbcDriver":"${install.jdbc.driver.class.name}",
            "jdbcUrl":"${install.jdbc.url}",
            "jdbcUsername":"${install.jdbc.username}",
            "jdbcPassword":"${install.jdbc.password}"
          }
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"400.RunSiteCodeData",
      "use":true,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"401.DeleteSiteCode",
          "use":true,
          "executor":"pep.per.mint.install.job.task.RunSqlTaskExecutor",
          "doNextOnError":false,
          "params":{
            "source":"directory",
            "path":"${HOME}/dist/mint-data-delete-200",
            "onError":"stop",
            "jdbcDriver":"${install.jdbc.driver.class.name}",
            "jdbcUrl":"${install.jdbc.url}",
            "jdbcUsername":"${install.jdbc.username}",
            "jdbcPassword":"${install.jdbc.password}"
          }
        },
        {
          "objectType":"Task",
          "name":"402.InsertSiteCode",
          "use":true,
          "executor":"pep.per.mint.install.job.task.RunSqlTaskExecutor",
          "doNextOnError":false,
          "params":{
            "source":"directory",
            "path":"${HOME}/dist/mint-data-create-200",
            "onError":"stop",
            "jdbcDriver":"${install.jdbc.driver.class.name}",
            "jdbcUrl":"${install.jdbc.url}",
            "jdbcUsername":"${install.jdbc.username}",
            "jdbcPassword":"${install.jdbc.password}"
          }
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"500.UpdatePortalEnv",
      "use":true,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"501.UpdatePortalEnv",
          "use":true,
          "executor":"pep.per.mint.install.job.task.UpdatePortalEnvTaskExecutor",
          "doNextOnError":false,
          "params":{}
        }
      ]
    },
    {
      "objectType":"Job",
      "name":"MigrationNHData",
      "use":false,
      "doNextOnError":false,
      "init":"init",
      "tasks":[
        {
          "objectType":"Task",
          "name":"MigrationNHDataTask",
          "use":true,
          "executor":"pep.per.mint.install.job.task.NHMigExecutor",
          "doNextOnError":false,
          "params":{
          	"fromDay" : "20170101",
          	"toDay"   : "20180930",
          	"commitCount" : 1000
          }
        }
      ]
    }
  ]
}
