<!--
	Screen ID : SU-99-99-003
	Screen NM : REST API 관리
-->
<div class="row wrapper border-bottom white-bg page-heading menu dhkim">
	<div id="oldPath"  class="col-lg-5">
	    <h2><lb class="">REST API 관리</lb></h2>
		<ol class="breadcrumb">
	        <li><lb class="lb-636"></lb></li>
	        <li><lb class="lb-25"></lb></li>
	        <li class="active"><strong><lb class="">REST API 관리</lb></strong></li>
 		</ol>
	</div>
	<div id="menuPath" class="col-lg-5">
    </div>
    <div class="col-lg-7">
        <div class="title-action" >
        </div>
    </div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">
	<div class="row">
       	<div class="ibox float-e-margins">
       		<div class="ibox-title">
                <h5><lb class="lb-78"></lb></h5>
                <div class="ibox-tools">
                    <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </div>
				<div style="float: right; padding: 0px 20px 0px 0px;">
					<a id="btnListSearch" class="btn btn-w-m btn-default btn-outline"><i class="fa fa-search "></i> <lb class="lb-10"></lb> </a>
		            <a id="btnCreate" class="btn btn-w-m btn-default btn-outline"><i class="fa fa-plus-circle"></i> <lb class="lb-11"></lb> </a>
				</div>
			</div>
			<div class="ibox-content">
				<div class="row">
                       <div class="col-sm-4">
                           <span class="lable_tag"><lb class="lb-9999">서비스 코드</lb></span>
                        <span class="k-widget k-autocomplete k-header k-state-default input-width" style="width:63%;">
                            <input id="searchCd" type="text" class="k-input" placeholder="" style="width: 100%;">
                        </span>
                       </div>
                       <div class="col-sm-4">
                           <span class="lable_tag"><lb class="lb-9999">서비스 명</lb></span>
                        <span class="k-widget k-autocomplete k-header k-state-default input-width" style="width:63%;">
                            <input id="searchNm" type="text" class="k-input" placeholder="" style="width: 100%;">
                        </span>
                       </div>
				</div>
			</div>
		</div>
   	</div>
	<div class="row">
		<div class="tabs-container">
			<div class="tabs-lefts">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#service-tab01" class="restFul"><lb class="lb-9999">RESTful</lb></a></li>
					<li class=""><a data-toggle="tab" href="#service-tab02" class="webSocket"><lb class="lb-9999">WebSocket</lb></a></li>
					<li class=""><a data-toggle="tab" href="#service-tab03" class="frontPush"><lb class="lb-9999">FrontPushService</lb></a></li>
					<li class=""><a data-toggle="tab" href="#service-tab04" class="agentPush"><lb class="lb-9999">AgentPushService</lb></a></li>
				</ul>
				<div class="tab-content">
					<div id="service-tab01" class="tab-pane active">
						<div class="panel-body">
							<div id="restFul-grid"></div>
						</div>
					</div>
					<div id="service-tab02" class="tab-pane">
						<div class="panel-body">
							<div id="webSocket-grid"></div>
						</div>
					</div>
					<div id="service-tab03" class="tab-pane">
						<div class="panel-body">
							<div id="frontPush-grid"></div>
						</div>
					</div>
					<div id="service-tab04" class="tab-pane">
						<div class="panel-body">
							<div id="agentPush-grid"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="detail">
		<div style="float:right; padding:0 20px 10px 0;">
			<a id="btnDelete" class="btn btn-danger btn-w-m btn-default btn-outline"><i class="fa fa-trash-o"></i> <lb class="lb-343"></lb> </a>
			<a id="btnSave" class="btn btn-w-m btn-default btn-outline" style="display:none;"><i class="fa fa-save"></i> <lb class="lb-310"></lb> </a>
			<a id="btnModify" class="btn btn-w-m btn-default btn-outline" style="display:none;"><i class="fa fa-pencil"></i> <lb class="lb-342"></lb> </a>
		</div>
		<div class="ibox-content">
			<div class="row">
				<div class="col-sm-6">
					<label class="label-tag-4"><lb class="lb-9999">서비스 코드</lb></label>
					<input id="serviceId" type="hidden">
					<input id="serviceCd" class="input-tag-4 k-textbox" type="text">
				</div>
				<div class="col-sm-6">
					<label class="label-tag-4"><lb class="lb-9999">서비스 명</lb></label>
					<input id="serviceNm" class="input-tag-4 k-textbox" type="text">
				</div>

				<hr class="hr-space">

				<div class="col-sm-12">
					<label class="label-tag-4" style="width:17%;"><lb class="lb-9999">서비스 URI</lb></label>
					<input id="serviceUri" class="input-tag-4 k-textbox" type="text" style="width:80%;">
				</div>
				<div class="col-sm-6">
					<label class="label-tag-4"><lb class="lb-9999">스케줄 유형</lb></label>
					<input id="scheduleType" type="combobox" class="input-text-4">
				</div>
				<div class="col-sm-6">
					<label class="label-tag-4"><lb class="lb-9999">실행주기</lb></label>
					<input id="schedule" class="input-tag-4 k-textbox" type="text" placeholder="" maxLength="100">
				</div>

				<hr class="hr-space">

				<div class="col-sm-6">
					<label class="label-tag-4"><lb class="lb-9999">서비스 PARAMETER</lb></label>
					<input id="params" class="input-tag-4 k-textbox" type="text" placeholder="" maxLength="100">
				</div>
				<div class="col-sm-6">
					<label class="label-tag-4"><lb class="lb-9999">사용여부</lb></label>
					<input id="useYn">
				</div>

				<hr class="hr-space">

				<div class="col-sm-12">
					<label class="label-tag-4" style="width:17%;"><lb class="lb-9999">비고</lb></label>
					<textarea id="comments" class="input-tag-4 k-textbox" rows="4" onKeyUp="javascript:$.main.fn_chkByte(this.value)" style="width:80%;"></textarea>
					<div style="text-align:right; padding:5px 30px 0 0;"><span id="byteInfo">0</span> / 1000byte</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script>
	$(document).ready(function() {
		//=======================================================================
		//(1) function 및 variable scope 설정 :: (메인은 main, 팝업 및 서브는 sub)
		//=======================================================================
		screenName = "SU-99-99-003";
		targetGridId = "restFul-grid";
		$.extend({
			main : {
				//=======================================================================
				// (2) Screen 에서 사용할 variable 정의
				//=======================================================================
				//=======================================================================
				// (3) Screen 에서 사용할 function 정의
				//=======================================================================

				//-----------------------------------------------------------------------
				// Description :: 화면 초기화
				//-----------------------------------------------------------------------
				fn_init : function() {
					try {
						mint.init('$.main.fn_initCallback');
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_init"});
					}
				},//end fn_init()

				//-----------------------------------------------------------------------
				// Description :: 화면 초기화 콜백
				//-----------------------------------------------------------------------
				fn_initCallback : function() {
					try {
						$.main.fn_initGrid("restFul-grid", 0);
						$.main.fn_initGrid("webSocket-grid", 1);
						$.main.fn_initGrid("frontPush-grid", 2);
						$.main.fn_initGrid("agentPush-grid", 3);

						$.main.fn_initPopup();

						$.main.fn_searchGridList();

						mint.common.siteMenuPath(screenName);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initCallback"});
					}
				},//end fn_initCallback()

				//-----------------------------------------------------------------------
				// Description :: grid 초기화
				//-----------------------------------------------------------------------
				fn_initGrid : function(gridId, gridType) {
					try{
						$("#"+gridId).kendoGrid({
							dataSource : {
				 				  data: ""
				 				, pageSize : mint.ui.getPageSizesS({'currentPage' : true})
							}
							, width : "100%"
							, selectable: "row"
							, resizable: true
						    , sortable : true
						    , filterable: true
							, pageable : {
								  refresh : false
								, pageSizes	: mint.ui.getPageSizesS()
						    	, buttonCount : 10
						    	, input : true
							}
							, columns : $.main.fn_getColumn_Grid(gridType)
						    , dataBound: function (e) {
						    	if(0 == $("#"+gridId).data().kendoGrid.dataSource.view().length) {
						    		var gridHeight = window.innerHeight - ($('.navbar-static-top').height() + $('.page-heading').height() + $('.col-lg-12').height());

						    		$("#"+gridId).children(".k-grid-content").height(gridHeight /2.5);
						    	} else {
						    		$("#"+gridId).children(".k-grid-content").height('auto');
						    	}

						    	//-----------------------------------------------------------------------
								// ROW / COL CSS 처리
								//-----------------------------------------------------------------------
								var items = e.sender.dataItems();
								if( items.length > 0 ) {
									for(var i = 0; i < items.length; i++ ) {
										var tr = e.sender.wrapper.find("tr[data-uid='" + items[i].uid + "']:first");
										var len = tr[0].cells.length;
										if( items[i].useYn === 'N' ) {
											tr.css('text-decoration', 'line-through');
										}
									}
								}

						    	//-----------------------------------------------------------------------
								// 더블클릭 이벤트
								//-----------------------------------------------------------------------
						    	this.tbody.find("tr").dblclick(function(e) {
									$.main.fn_detailEditorEvent(true);
									$.main.fn_getServiceDetail();
									$("#detail").data("kendoWindow").center().open();
						    	});
						    }
						}).data("kendoGrid");

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initGrid"});
					};
				},//end fn_initGrid

				fn_initPopup : function() {
					try {
						$("#detail").kendoWindow({
							width: "1000px",
	                        title: mint.label.getLabel('lb-353'),
	                        visible: false,
							resizable: false,
							modal: true,
	                        actions: [
	                            "Minimize",
	                            "Maximize",
	                            "Close"
	                        ]
						});

						$("#useYn").kendoSwitch();

						mint.ui.setDropDownList('scheduleType', mint.common.commonCodeMap.get("cds").SU06, 0, 'nm', 'cd');
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initPopup"});
					}
				},

				fn_getColumn_Grid : function(gridType) {
					try {
						var columnsData = [
							{
								  field 	: "serviceId"
								, hidden : true, "menu": false
							}
							, {
								  title 	: "서비스 코드"
								, width		: "200px"
								, field 	: "serviceCd"
								, template	: "<span title='${serviceCd}'>${serviceCd}</span>"
								, headerAttributes: {
									 style: "text-align: center; vertical-align:middle;"
								}
								, attributes: {
						              style: 'white-space: nowrap; text-align: center;'
					            }
								, filterable: { multi: true, search: true }
							}
							, {
								  title 	: "서비스 명"
								, width		: "250px"
								, field 	: "serviceNm"
								, template	: "<span title='${serviceNm}'>${serviceNm}</span>"
								, headerAttributes: {
									 style: "text-align: center; vertical-align:middle;"
								}
								, attributes: {
						              style: 'white-space: nowrap;'
					            }
								, filterable: { multi: true, search: true }
							}
						];

						if(gridType == 0) {
							columnsData.push(
								{
									  title 	: "서비스 URI"
									, width		: "550px"
									, field 	: "serviceUri"
									, template	: "<span title='${serviceUri}'>${serviceUri}</span>"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}
							);
							columnsData.push(
								{
									  title 	: "서비스 파라미터"
									, width		: "300px"
									, field 	: "paramsString"
									, template	: "<span title='${paramsString}'>${paramsString}</span>"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}
							);
						} else {
							columnsData.push(
								{
									  title 	: "사용여부"
									, width		: "100px"
									, field 	: "useYn"
									, template  : "#= $.main.fn_gridUseYnTemplate(useYn) #"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap; text-align:center;'
						            }
									, filterable: { multi: true, search: true }
								}
							);
							columnsData.push(
								{
									  title 	: "스케줄타입"
									, width		: "100px"
									, field 	: "scheduleType"
									, template	: "#= $.main.fn_gridScheduleTypeTemplate(scheduleType) #"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap; text-align:center;'
						            }
									, filterable: { multi: true, search: true }
								}
							);
							columnsData.push(
								{
									  title 	: "스케줄주기"
									, width		: "100px"
									, field 	: "schedule"
									, template	: "<span title='${schedule}'>${schedule}</span>"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap; text-align:center;'
						            }
									, filterable: { multi: true, search: true }
								}
							);
							columnsData.push(
								{
									  title 	: "서비스 파라미터"
									, width		: "300px"
									, field 	: "paramsString"
									, template	: "<span title='${paramsString}'>${paramsString}</span>"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}
							);
						}

						return columnsData;
					} catch(e) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getColumn_Grid"});
					}
				},

				//-----------------------------------------------------------------------
	            // Description :: 조회
	            //-----------------------------------------------------------------------
				fn_searchGridList : function(serviceType) {
					try {
						var requestObject = new Object();
						if(targetGridId == "restFul-grid") {
							requestObject.serviceType = "0";
						} else if(targetGridId == "webSocket-grid") {
							requestObject.serviceType = "1";
						} else if(targetGridId == "frontPush-grid") {
							requestObject.serviceType = "2";
						} else if(targetGridId == "agentPush-grid") {
							requestObject.serviceType = "3";
						}

						requestObject.serviceCd = $("#searchCd").val();
						requestObject.serviceNm = $("#searchNm").val();

						mint.callService(
								requestObject
						 		, screenName
								, 'REST-R01-SU-10-02'
								, function(jsonData) {
									console.log(jsonData);
							 		var dataSource = new kendo.data.DataSource({
										  data: jsonData
									    , page:1
									    , pageSize: mint.ui.getPageSizesS({'currentPage' : true})
									});
									//데이터 재설정
									$("#"+targetGridId).data("kendoGrid").setDataSource(dataSource);
									kendo.resize("#"+targetGridId);
								}
								, {errorCall : true}
						);
					} catch(e) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_searchGridList"});
					}
				}, // end fn_searchGridList

				fn_editorClear : function() {
					$("#btnSave").show();
					$("#btnModify").hide();
					$("#btnDelete").hide();

					$("#serviceCd").prop("disabled", false).removeClass("k-state-disabled");
					$("#serviceNm").prop("disabled", false).removeClass("k-state-disabled");
					$("#serviceUri").prop("disabled", false).removeClass("k-state-disabled");
					$("#scheduleType").data("kendoDropDownList").enable(true);
					$("#schedule").prop("disabled", false).removeClass("k-state-disabled");
					$("#params").prop("disabled", false).removeClass("k-state-disabled");
					$("#useYn").data('kendoSwitch').enable(true);
					$("#comments").prop("disabled", false).removeClass("k-state-disabled");

					$("#serviceId").val("");
			        $("#serviceCd").val("");
			        $("#serviceNm").val("");
			        $("#serviceUri").val("");
			        $("#scheduleType").data("kendoDropDownList").value("0");
			        $("#schedule").val("");
			        $("#useYn").data("kendoSwitch").check(true);
			        $("#params").val("");
			        $("#comments").val("");
			        $.main.fn_chkByte("");

					if(targetGridId == "restFul-grid") {
						$("#serviceUri").closest("div").show();
						$("#scheduleType").closest("div").hide();
						$("#schedule").closest("div").hide();
						$("#params").closest("div").show();
						$("#useYn").closest("div").hide();
					} else {
						$("#serviceUri").closest("div").hide();
						$("#scheduleType").closest("div").show();
						$("#schedule").closest("div").show();
						$("#params").closest("div").show();
						$("#useYn").closest("div").show();
					}
				},

				//-----------------------------------------------------------------------
				// Description :: 활성화 or 비활성화
				//-----------------------------------------------------------------------
				fn_detailEditorEvent : function(disabled) {
					try {
						if(disabled){ // 비활성
							$("#btnSave").hide();
							$("#btnModify").show();
							$("#btnDelete").show();
							$("#serviceCd").prop("disabled", true).addClass("k-state-disabled");
							$("#serviceNm").prop("disabled", true).addClass("k-state-disabled");
							$("#serviceUri").prop("disabled", true).addClass("k-state-disabled");
							$("#scheduleType").data("kendoDropDownList").enable(false);
							$("#schedule").prop("disabled", true).addClass("k-state-disabled");
							$("#params").prop("disabled", true).addClass("k-state-disabled");
							$("#useYn").data('kendoSwitch').enable(false);
							$("#comments").prop("disabled", true).addClass("k-state-disabled");
						} else{ // 활성
							$("#btnSave").show();
							$("#btnModify").hide();
							$("#btnDelete").show();
							$("#serviceCd").prop("disabled", false).removeClass("k-state-disabled");
							$("#serviceNm").prop("disabled", false).removeClass("k-state-disabled");
							$("#serviceUri").prop("disabled", false).removeClass("k-state-disabled");
							$("#scheduleType").data("kendoDropDownList").enable(true);
							$("#schedule").prop("disabled", false).removeClass("k-state-disabled");
							$("#params").prop("disabled", false).removeClass("k-state-disabled");
							$("#useYn").data('kendoSwitch').enable(true);
							$("#comments").prop("disabled", false).removeClass("k-state-disabled");
						}

						if(targetGridId == "restFul-grid") {
							$("#serviceUri").closest("div").show();
							$("#scheduleType").closest("div").hide();
							$("#schedule").closest("div").hide();
							$("#params").closest("div").show();
							$("#useYn").closest("div").hide();
						} else {
							$("#serviceUri").closest("div").hide();
							$("#scheduleType").closest("div").show();
							$("#schedule").closest("div").show();
							$("#params").closest("div").show();
							$("#useYn").closest("div").show();
						}
					} catch(e) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_detailEditorEvent"});
					}
				},//end fn_detailEditorEvent

				//-----------------------------------------------------------------------
	            // Description :: 상세 조회
	            //-----------------------------------------------------------------------
				 fn_getServiceDetail : function() {
					try {
						var entityGrid = $("#"+targetGridId).data("kendoGrid");
				        var selectedItem = entityGrid.dataItem(entityGrid.select());

				        $("#serviceId").val(selectedItem.serviceId);
				        $("#serviceCd").val(selectedItem.serviceCd);
				        $("#serviceNm").val(selectedItem.serviceNm);
				        $("#serviceUri").val(selectedItem.serviceUri);
				        $("#scheduleType").data("kendoDropDownList").value(selectedItem.scheduleType);
				        $("#schedule").val(selectedItem.schedule);
				        if(selectedItem.useYn == "Y") {
					        $("#useYn").data("kendoSwitch").check(true);
				        } else {
					        $("#useYn").data("kendoSwitch").check(false);
				        }
				        $("#params").val(selectedItem.paramsString);
				        $("#comments").val(selectedItem.comments);
				        $.main.fn_chkByte(selectedItem.comments);
					} catch(e) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getServiceDetail"});
					}
				}, // end fn_getServerDetail

				//-----------------------------------------------------------------------
				// Description :: fn_gridUseYnTemplate
				//-----------------------------------------------------------------------
				fn_gridUseYnTemplate : function( value ) {
					try {
						if( value == 'Y' ) {
							return "<b style='color:blue'>사용</b>";
						} else {
							return "<b style='color:red'>미사용</b>";
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_gridUseYnTemplate"});
					}
				},//end fn_gridColumnValueTemplate()

				//-----------------------------------------------------------------------
				// Description :: fn_gridScheduleTypeTemplate
				//-----------------------------------------------------------------------
				fn_gridScheduleTypeTemplate : function( value ) {
					try {
						var scheduleTypeMap = mint.common.commonCodeMap.get("cds").SU06;
						for(var i=0; i<scheduleTypeMap.length; i++) {
							if(scheduleTypeMap[i].cd === value) {
								return scheduleTypeMap[i].nm;
							}
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_gridScheduleTypeTemplate"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: 비고(textarea) Byte계산
				//-----------------------------------------------------------------------
				fn_chkByte : function(strValue) {
	            	try {
	            		var rbyte = 0;
	            		var rlen = 0;
	            		var one_char = "";
	            		var str2 = "";

	            		for(var i=0; i<strValue.length; i++) {
	            			one_char = strValue.charAt(i);
	            			if(escape(one_char).length > 4) {
	            				rbyte += 2;
	            			} else {
	            				rbyte++;
	            			}

	            			if(rbyte <= 1000) {
	            				rlen = i+1;
	            			}
	            		}

	            		if(rbyte > 1000) {
            				str2 = strValue.substr(0, rlen);
            				$("#comments").val(str2);
            			} else {
            				$("#byteInfo").text(rbyte);
            			}
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_chkByte"});
	                }
	            }
			}// end main
		}); // end extends


		//=======================================================================
		// (4) 이벤트 핸들러 정의
		//=======================================================================

		//조회
		$("#btnListSearch").click(function () {
			$.main.fn_searchGridList();
        });

		//생성
		$('#btnCreate').click(function(e) {
			$.main.fn_editorClear();
			$("#detail").data("kendoWindow").center().open();
		});

		//저장
		$("#btnSave").click(function(e) {
			if('' == $("#serviceCd").val()) { //서비스코드가 비었을 때
				mint.common.alert('CW00001', "서비스 코드");
			} else if('' == $("serviceNm").val()) { //서비스명이 비었을 때
				mint.common.alert('CW00001', "서비스 명");
			} else {
				var restUrl = "";
				var alertId = "";
				var confirmId = "";
				var requestObject = new Object();

				requestObject.objectType = "Service";
				requestObject.serviceId = $("#serviceId").val();
				requestObject.serviceCd = $("#serviceCd").val();
				requestObject.serviceNm = $("#serviceNm").val();
				requestObject.serviceUri = $("#serviceUri").val();

				if(targetGridId == "restFul-grid") {
					requestObject.serviceType = "0";
					requestObject.scheduleType = "";
				} else {
					if(targetGridId == "webSocket-grid") {
						requestObject.serviceType = "1";
					} else if(targetGridId == "frontPush-grid") {
						requestObject.serviceType = "2";
					} else if(targetGridId == "agentPush-grid") {
						requestObject.serviceType = "3";
					}
					requestObject.scheduleType = $("#scheduleType").data("kendoDropDownList").value();
				}

		        requestObject.schedule = $("#schedule").val();
		        var useYn = $('#useYn').data("kendoSwitch").check();
				if(useYn) {
					requestObject.useYn = 'Y';
				} else {
					requestObject.useYn = 'N';
				}
		        requestObject.paramsString = $("#params").val();
		        requestObject.comments = $("#comments").val();

		        if('' == $("#serviceId").val()) { //생성
		        	confirmId = "CI00005";
					alertId = "CI00105";
		        	restUrl = 'REST-C01-SU-10-02'
		        } else { //수정
		        	confirmId = "CI00002";
					alertId = "CI00102";
		        	restUrl = 'REST-U01-SU-10-02'
		        }

		        var confirmCheck = mint.common.confirm(confirmId, null);
				if(confirmCheck == true) {
					mint.callService(requestObject, screenName, restUrl, function(jsonData){
						if(null != jsonData) {
							mint.common.alert('CI00105', null);
							$.main.fn_searchGridList();
							$("#detail").data("kendoWindow").close();
						}
					}, {errorCall : true });
				}
			}
		});


		//수정
		$('#btnModify').click(function(e) {
			$.main.fn_detailEditorEvent(false);
		});

		//삭제
		$('#btnDelete').click(function(e) {
			var confirmCheck = mint.common.confirm('CI00003', null);

		    if (confirmCheck == true) {
				mint.callService(null, screenName,'REST-D01-SU-10-02', function(jsonData){
						mint.common.alert('CI00103', null);
						$.main.fn_searchGridList();
						$("#detail").data("kendoWindow").close();
				}, {errorCall : true
					, params : {
					  	  serviceId  : $("#serviceId").val()
					}
				}
				);
		    }
		});

		$('.restFul').on('click', function(e) {
			targetGridId = "restFul-grid";
			$.main.fn_searchGridList();
		});

		$('.webSocket').on('click', function(e) {
			targetGridId = "webSocket-grid";
			$.main.fn_searchGridList();
		});

		$('.frontPush').on('click', function(e) {
			targetGridId = "frontPush-grid";
			$.main.fn_searchGridList();
		});

		$('.agentPush').on('click', function(e) {
			targetGridId = "agentPush-grid";
			$.main.fn_searchGridList();
		});

		//-----------------------------------------------------------------------
		// (5) Description :: 조회조건 KeyDown 이벤트 설정 (상단)
		//-----------------------------------------------------------------------
		$('#searchCd').keydown(function(event) {
			if(event.keyCode == 13) {
				$.main.fn_searchGridList();
	     	}
		});

		$('#searchNm').keydown(function(event) {
			if(event.keyCode == 13) {
				$.main.fn_searchGridList();
	     	}
		});

		//=======================================================================
		// (6) 화면 로딩시 실행할 항목 기술
		//=======================================================================
		$.main.fn_init();
		mint.label.attachLabel(null);
	});
</script>
</body>
</html>
<style>
	.k-grid-header
	{
	   padding: 0 !important;
	}

	.k-grid-content
	{
	   overflow-y: visible;
	}

	.k-grid tr {
	    cursor : pointer;
	}

</style>