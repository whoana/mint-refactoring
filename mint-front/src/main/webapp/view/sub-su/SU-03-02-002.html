<!--
	Screen ID : SU-03-02-002
	Screen NM : 기간별 집계(비교)
-->

<!--location -->
<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-5">
		<h2><lb class="lb-47"></lb></h2>
		<ol class="breadcrumb">
            <li ><lb class="lb-631"></lb></li>
            <li ><lb class="lb-632"></lb></li>
			<li class="active"><strong><lb class="lb-47"></lb></strong></li>
		</ol>
	</div>
	<!--button-->
	<div class="col-lg-7">
		<div class="title-action">
			
		</div>
	</div>
	<!--button end-->
</div>
<!--location end-->

<!--wrapper wrapper-content-->
<div class="wrapper wrapper-content animated fadeInRight">
	<!--row-->
	<div class="row">
		<!--col-lg-12-->
		<div class="col-lg-12">
			<!--ibox float-e-margins-->
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5><lb class="lb-78"></lb></h5>
					<div class="ibox-tools">
						<a class="help-over-pannel" onclick="mint.ui.help(this, 'AP00000032','H001')"></a>
						<a class="collapse-link"> <i class="fa fa-chevron-up"></i></a>
						<!-- <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-wrench"></i></a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="#">Config option 1</a></li>
							<li><a href="#">Config option 2</a></li>
						</ul>
						<a class="close-link"> <i class="fa fa-times"></i></a> -->
					</div>
					<div style="float: right; padding: 0px 20px 0px 0px;">
						<a class="btn btn-w-m btn-default btn-outline btn-search"><i class="fa fa-search "></i> <lb class="lb-10"></lb></a>
					</div>						
				</div>
				
				<!--ibox-content-->
				<div class="ibox-content">
					<!--row-->
					<div class="row">
						<!--col-sm-4 1 -->
						<div class="col-sm-4">
							<!-- <form class="form-horizontal"> -->
								<!--form-group -->
								<div class="form-group">
									<span class="lable_tag"><lb class="lb-10"></lb> <lb class="lb-494"></lb></span>
									<!--comboBox-->
									<input id="sc-su0302002-category" type="text" style="width: 63%;" />
									<!--comboBox end-->
								</div>
								<!--form-group end-->
							<!-- </form> -->
						</div>
						<!--end col-sm-4 1 -->
						
						<!--col-sm-4 2 -->
						<div class="col-sm-4">
							<!--form-group -->
								<div class="form-group">
									<!--comboBox-->
									<span id="sc-su0302002-category-detail" class="lable_tag"><lb class="lb-153"></lb></span>
									<span id="sc-su0302002-category-detail-interface">
										<input id="sc-su0302002-cb-interfaceNm" type="text" placeholder="Search..." style="width:63%;" />
									</span>
									<span id="sc-su0302002-category-detail-process" class="k-widget k-autocomplete k-header k-state-default input-width" style="display: none;">
										<input id="tf-processNm" type="text" class="k-input" placeholder="Search..." style="width: 100%;" readonly="readonly">
										<input id="tf-processId_hidden" type="hidden">
									</span>
									<span id="sc-su0302002-category-detail-channel" style="display: none;">
										<input id="sc-su0302002-cb-channel" type="text" placeholder="Search..." style="width:63%;" />
									</span>
									<span id="sc-su0302002-category-detail-system" style="display: none;">
										<span class="k-widget k-autocomplete k-header k-state-default input-width" style="width: 63%;">
											<input id="tf-systemNm" type="text" class="k-input" style="width: 100%;" readonly="readonly" placeholder="Search...">
											<input id="tf-systemNm_hidden" type="hidden">
											<input id="tf-systemId_hidden" type="hidden">
										</span>
										<!--									
										<input id="sc-su0302002-cb-system" type="text" placeholder="Search..." style="width:63%;" />
										-->
									</span>
									<!--comboBox end-->
								</div>
								<!--form-group end-->
						</div>
						<!--end col-sm-4 2 -->
						
						<div id="sc-expand" class="col-sm-4" style="display: none;">
							<!--form-group -->
							<div class="form-group">
								<span id="sc-su0302002-expand-title" class="lable_tag"><lb class="lb-10"></lb> <lb class="lb-478"></lb></span>
								<span id="sc-su0302002-expand-nodetype">
									<input id="sc-su0302002-nodetype" type="text" style="width: 63%;" />
								</span>
								<span id="sc-su0302002-expand-interface">
									<input id="sc-su0302002-cb-interfaceId" type="text" placeholder="Search..." style="width: 63%;" />
								</span>
							</div>
							<!--form-group end-->
						</div>
						
						<hr class="hr-space">
						
						<!--col-sm-4 3 -->
						<div class="col-sm-4">
							<!-- <form class="form-horizontal"> -->
								<!--form-group -->
								<div class="form-group">
									<span class="lable_tag"><lb class="lb-10"></lb> <lb class="lb-542"></lb></span>
									<input id="sc-su0302002-criteria" type="text"  style="width:63%;" />
								</div>
								<!--form-group end-->
						</div>
						<!--end col-sm-4 3 -->
					</div>
					<!--end row-->
				</div>
				<!--end ibox-content-->
			</div>
			<!--end ibox float-e-margins-->
		</div>
		<!--end col-lg-12-->
	</div>
	<!--end row-->
	
	<!--row start-->
	<div class="row">
		<!--col-lg-12-->
		<div class="col-lg-12">
			<!--ibox float-e-margins-->
			<div class="ibox float-e-margins">

				<!--ibox-title-->
				<div class="ibox-title">
					<h5><lb class="lb-91"></lb></h5>
					<div class="ibox-tools">
						<a class="help-over-pannel" onclick="mint.ui.help(this, 'AP00000032','H002')"></a>
						<a class="collapse-link"> <i class="fa fa-chevron-up"></i></a> 
						<!-- <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-wrench"></i></a>
						<ul class="dropdown-menu dropdown-user">
							<li><a href="#">Config option 1</a></li>
							<li><a href="#">Config option 2</a></li>
						</ul>
						<a class="close-link"> <i class="fa fa-times"></i></a> -->
					</div>

				</div>
				<!--ibox-title end-->

				<div class="ibox-content">
					<div class="tabs-container">
						<ul id="tabs-menu-list" class="nav nav-tabs">
		                    <li class="active"><a data-toggle="tab" href="#tab-01"><lb class="lb-631"></lb></a></li>
		                    <li class=""><a data-toggle="tab" href="#tab-02"><lb class="lb-606"></lb></a></li>
		                </ul>
		                <div class="tab-content">
		                    <div id="tab-01" class="tab-pane active">
		                        <div class="panel-body">
		                            <div id="grid_su0302002"></div>
		                        </div>
		                    </div>
		
		                    <div id="tab-02" class="tab-pane">
		                        <div class="panel-body">
		                            <div id="grid_su0302002_detail"></div>
		                        </div>
		                    </div>
						</div>
					</div>
				</div>
				
				<!--ibox-content-->
				<!-- <div class="ibox-content">

					kendo table
					<div id="example">
						<div id="grid_su0302002"></div>
					</div>
					kendo table end

				</div> -->
				<!--ibox-content end-->

			</div>
			<!--ibox float-e-margins end-->
		</div>
		<!--col-lg-12 end-->
	</div>
	<!--row end-->
</div>
<!--end wrapper wrapper-content-->

<script>
$(document).ready(function () {
	//=======================================================================
	//(1) function 및 variable scope 설정 :: (메인은 main, 팝업 및 서브는 sub)
	//=======================================================================
	screenName = "SU-03-02-002";
	$.extend({
		main : {
			//=======================================================================
			// (2) Screen 에서 사용할 variable 정의
			//=======================================================================
			searchCondition : {},
			isLinked : "NO",
			isInitDetailGrid : true,
			tmpGridRowspanIdx : 0,
			tmpSelectedCategoryNm : "",
			
			//=======================================================================
			// (3) Screen 에서 사용할 function 정의
			//=======================================================================			
			
			//-----------------------------------------------------------------------
			// Description :: 화면 초기화
			//-----------------------------------------------------------------------
			fn_init : function() {
				try {
					mint.ui.initScreen();
					
					mint.init('$.main.fn_initSearchCondition');
				} catch( e ) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_init"});
				}
			}, // end fn_init()
			
			//-----------------------------------------------------------------------
			// Description :: 화면 초기화 콜백
			//-----------------------------------------------------------------------		
			fn_initSearchCondition : function() {
				try {
					// 조회 조건 Area
					
					// 조회 구분 
					$.main.fn_initSC_Category();
					$.main.fn_initSC_su0302002_Category_Detail();
					
					// 조회 기준
					$.main.fn_initSC_su0302002_Criteria();
					
					// 조회 유형
					$.main.fn_initSC_NodeType();
					
					

					// 탭 자동 이동
					$('#tabs-menu-list li:eq(0)').show();
					$('#tabs-menu-list a:eq(0)').tab('show');
					
					$('#tabs-menu-list li:eq(1)').hide();
					
					
					// 그리드 초기화
					var scCategoryVal = $("#sc-su0302002-category").data("kendoDropDownList").value();
					var scCategoryText = $("#sc-su0302002-category").data("kendoDropDownList").text();
					var scCriteriaVal = $("#sc-su0302002-criteria").data("kendoDropDownList").value();
					
					var columnsInfo = $.main.fn_getColumnInfo_su0302002_Grid(scCategoryVal, scCategoryText, scCriteriaVal, "DEFAULT");
					$.main.fn_initGrid(columnsInfo);
					
					//var columnsInfo = $.main.fn_getColumnInfo_su0302002_Grid(scCategoryVal, scCategoryText, scCriteriaVal, "DETAIL");
					//$.main.fn_initDetailGrid(columnsInfo);
					
					
					// start. 연계 조회(자동) 여부 체크 및 조회
					var linkedCategory = mint.common.getScreenParam("paramCategory");
					var linkedCategoryDetail = mint.common.getScreenParam("paramCategoryDetail");
					var linkedCriteria = mint.common.getScreenParam("paramCriteria");
					
					if (linkedCategory && linkedCategoryDetail && linkedCriteria) {
						
						// 조회구분 set
						$("#sc-su0302002-category").data("kendoDropDownList").value(linkedCategory);
						// 조회구분 Detail set
						$.main.fn_setSC_su0302002_Category_Detail(linkedCategory);
						if (linkedCategory == "interface") {
							if (linkedCategoryDetail == "all" || linkedCategoryDetail == "") {
								$("#sc-su0302002-cb-interfaceId").data("kendoComboBox").value("");
							}
							else {
								$("#sc-su0302002-cb-interfaceId").data("kendoComboBox").value(linkedCategoryDetail);
							}
						}
						else if (linkedCategory == "system") {
							if (linkedCategoryDetail == "all" || linkedCategoryDetail == "") {
								//$("#sc-su0302002-cb-system").data("kendoComboBox").value("");
							}
							else {
								//$("#sc-su0302002-cb-system").data("kendoComboBox").value(linkedCategoryDetail);
							}
							
							$("#sc-expand").show();
							
							$("#sc-su0302002-expand-interface").hide();
							
							$("#sc-su0302002-expand-title").show();
							$("#sc-su0302002-expand-title").html(mint.label.getLabel('lb-10') + " " + mint.label.getLabel('lb-478'));
							$("#sc-su0302002-expand-nodetype").show();
							
						}
						else {
							//
						}
						
						// 조회기준 set
						$("#sc-su0302002-criteria").data("kendoDropDownList").value(linkedCriteria)
						
						// 링크 여부
						$.main.isLinked = "YES";
						
						$.main.fn_getData();
					}
					mint.common.setScreenParam("paramCategory", null);
					mint.common.setScreenParam("paramCategoryDetail", null);
					mint.common.setScreenParam("paramCriteria", null);
					// end. 연계 조회(자동) 여부 체크 및 조회
					
				} catch( e ) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initSearchCondition"});
				}
			}, // end fn_initSearchCondition()
			
			//-----------------------------------------------------------------------
			// Description :: 조회조건 - 조회 구분 항목 초기화
			//-----------------------------------------------------------------------
			fn_initSC_Category : function() {
				try {
					var scCategory = [
							{text: mint.label.getLabel('lb-395'), value: "interface"},
							{text: mint.label.getLabel('lb-81'), value: "process"},
							{text: mint.label.getLabel('lb-80'), value: "channel"},
							{text: mint.label.getLabel('lb-82'), value: "system"}
							//{text: "인터페이스", value: "interface"},
							//{text: "ARIS 프로세스", value: "process"},
							//{text: "업무", value: "requirement"},
							//{text: "전사솔루션", value: "channel"},
							//{text: "유형", value: "type"}
					];
								
					//mint.ui.setComboBoxWithValue("sc-su0302001-category", scCategory, 0, "text", "value");
					$("#sc-su0302002-category").kendoDropDownList({
						dataTextField: "text",
						dataValueField: "value",
						dataSource: scCategory,
						index: 0,
						change: function(e) {
							
							$.main.fn_setSC_su0302002_Category_Detail(this.value());
							
							if (this.value() == "system") {
								$("#sc-expand").show();

								$("#sc-su0302002-expand-interface").hide();
								
								$("#sc-su0302002-expand-title").show();
								$("#sc-su0302002-expand-title").html(mint.label.getLabel('lb-10') + " " + mint.label.getLabel('lb-478'));
								$("#sc-su0302002-expand-nodetype").show();
							}
							else if (this.value() == "interface") {
								$("#sc-expand").show();
								
								$("#sc-su0302002-expand-nodetype").hide();
								
								$("#sc-su0302002-expand-title").show();
								$("#sc-su0302002-expand-title").html(mint.label.getLabel('lb-154'));
								$("#sc-su0302002-expand-interface").show();
							}
							else {
								$("#sc-expand").hide();
								
								$("#sc-su0302002-expand-title").hide();
								
								$("#sc-su0302002-expand-nodetype").hide();
								$("#sc-su0302002-expand-interface").hide();
							}
						}
					});
					
					$('#sc-su0302002-category').data("kendoDropDownList").wrapper.keydown(function(event) {
						$.main.fn_onKeyDownSU0302002(event);
					});	
					
				} catch( e ) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initSC_Category"});
				}
			}, // end fn_initSC_Category()
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 조건 - 검색조건 상세 초기화
			//-----------------------------------------------------------------------
			fn_initSC_su0302002_Category_Detail : function() {
				try {
					
					// 인터페이스
					$("#sc-su0302002-category-detail").html(mint.label.getLabel('lb-153'));
					mint.ui.setComboBoxWithValue('sc-su0302002-cb-interfaceNm', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'interfaceNm', 'interfaceNm');
					/* $("#sc-su0302002-cb-interfaceNm").data("kendoComboBox").bind("change", function(e) {
						var widget = e.sender;
						if (widget.value() && widget.select() === -1) {
							widget.value("");
						} 
					}); */
					$("#sc-su0302002-cb-interfaceNm").data("kendoComboBox").input.keydown($.main.fn_onKeyDownSU0302002);
					// 인터페이스 ID
					//mint.ui.setComboBoxWithValue('sc-su0302002-cb-interfaceId', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'interfaceId', 'interfaceId');
					mint.ui.setComboBoxWithValue('sc-su0302002-cb-interfaceId', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'integrationId', 'integrationId');
					/* $("#sc-su0302002-cb-interfaceId").data("kendoComboBox").bind("change", function(e) {
						var widget = e.sender;
						if (widget.value() && widget.select() === -1) {
							widget.value("");
						}
					}); */
					$("#sc-su0302002-cb-interfaceId").data("kendoComboBox").input.keydown($.main.fn_onKeyDownSU0302002);
					
					$("#sc-expand").show();
					
					$("#sc-su0302002-expand-nodetype").hide();
					
					$("#sc-su0302002-expand-title").show();
					$("#sc-su0302002-expand-title").html(mint.label.getLabel('lb-154'));
					$("#sc-su0302002-expand-interface").show();
					
					
					// 전사솔루션 - channel
					//$("#sc-su0302002-category-detail").html("전사솔루션");
					mint.ui.setComboBoxWithValue('sc-su0302002-cb-channel', mint.common.commonCodeMap.get("channelList"), 0, 'channelNm', 'channelId');
					/* $("#sc-su0302002-cb-channel").data("kendoComboBox").bind("change", function(e) {
						var widget = e.sender;
						if (widget.value() && widget.select() === -1) {
							widget.value("");
						} 
					}); */
					$("#sc-su0302002-cb-channel").data("kendoComboBox").input.keydown($.main.fn_onKeyDownSU0302002);
					
					// 시스템 - system
					//$("#sc-su0302002-category-detail").html("시스템");
					//mint.ui.setComboBoxWithValue('sc-su0302002-cb-system', mint.common.commonCodeMap.get("systemCdList"), 0, 'systemNm', 'systemId');
					/* $("#sc-su0302002-cb-system").data("kendoComboBox").bind("change", function(e) {
						var widget = e.sender;
						if (widget.value() && widget.select() === -1) {
							widget.value("");
						} 
					}); */
					//$("#sc-su0302002-cb-system").data("kendoComboBox").input.keydown($.main.fn_onKeyDownSU0302002);
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initSC_SU0302001_Category_Detail"});
				}
			}, // end fn_initSC_SU0302001_Category_Detail()
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 조건 - 검색조건별 상세 설정
			//-----------------------------------------------------------------------
			fn_setSC_su0302002_Category_Detail : function(categoryVal) {
				try {
					$("#sc-su0302002-category-detail").hide();
					
					$("#sc-su0302002-category-detail-interface").hide();
					$("#sc-su0302002-category-detail-process").hide();
					$("#sc-su0302002-category-detail-channel").hide();
					$("#sc-su0302002-category-detail-system").hide();
					
					if (categoryVal == "interface") {
						$("#sc-su0302002-category-detail").html(mint.label.getLabel('lb-153'));
						
						$("#sc-su0302002-category-detail").show();
						$("#sc-su0302002-category-detail-interface").show();
					}
					else if (categoryVal == "process") {
						$("#sc-su0302002-category-detail").html(mint.label.getLabel('lb-81'));
						
						$("#sc-su0302002-category-detail").show();
						$("#sc-su0302002-category-detail-process").show();
					}
					else if (categoryVal == "channel") {
						$("#sc-su0302002-category-detail").html(mint.label.getLabel('lb-80'));
						
						$("#sc-su0302002-category-detail").show();
						$("#sc-su0302002-category-detail-channel").show();
					}
					else if (categoryVal == "system") {
						$("#sc-su0302002-category-detail").html(mint.label.getLabel('lb-82'));
						
						$("#sc-su0302002-category-detail").show();
						$("#sc-su0302002-category-detail-system").show();
					}
					else {
						// default
					}
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setSC_su0302002_Category_Detail"});
				}
			}, // end fn_setSC_su0302002_Category_Detail()
			
			//-----------------------------------------------------------------------
			// Description :: 조회조건 - 조회 유형 초기화
			//-----------------------------------------------------------------------
			fn_initSC_NodeType : function() {
				
				var scNodeType = [
									{text: "Provider", value: "2"},
									{text: "Consumer", value: "0"},
									{text: mint.label.getLabel('lb-89'), value: "ALL"}
							];
				
				$("#sc-su0302002-nodetype").kendoDropDownList({
					dataTextField: "text",
					dataValueField: "value",
					dataSource: scNodeType,
					index: 2
				});
				
				$('#sc-su0302002-nodetype').data("kendoDropDownList").wrapper.keydown(function(event) {
					$.main.fn_onKeyDownSU0302002(event);
				});	
				
			}, // end fn_initSC_NodeType()
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 기준 초기화
			//-----------------------------------------------------------------------
			fn_initSC_su0302002_Criteria : function() {
				try {
					var scCriteria = [
							  {text: mint.label.getLabel('lb-456') + "/" + mint.label.getLabel('lb-4'), value: "Days"}
							, {text: mint.label.getLabel('lb-548') + "/" + mint.label.getLabel('lb-549'), value: "Weeks"}
							, {text: mint.label.getLabel('lb-550') + "/" + mint.label.getLabel('lb-551'), value: "Months"}
					];
					
					$("#sc-su0302002-criteria").kendoDropDownList({
						dataTextField: "text",
						dataValueField: "value",
						dataSource: scCriteria,
						index: 0,
						change: function(e) {
							//
						}
					});
					
					$('#sc-su0302002-criteria').data("kendoDropDownList").wrapper.keydown(function(event) {
						$.main.fn_onKeyDownSU0302002(event);
					});	
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initSC_su0302002_Criteria"});
				}
			}, // end fn_initSC_su0302002_Criteria()
			
			//-----------------------------------------------------------------------
			// Description :: - 그리드 컬럼 동적 설정
			//-----------------------------------------------------------------------
			fn_getColumnInfo_su0302002_Grid : function(categoryValue, categoryText, criteriaValue, gridMode) {
				try {
					
					var prevCriteriaText = "";
					var currCriteriaText = "";
					
					if (criteriaValue == "Days") {
						prevCriteriaText = mint.label.getLabel('lb-456');
						currCriteriaText = mint.label.getLabel('lb-4');
					}
					else if (criteriaValue == "Weeks") {
						prevCriteriaText = mint.label.getLabel('lb-548');
						currCriteriaText = mint.label.getLabel('lb-549');
					}
					else if (criteriaValue == "Months") {
						prevCriteriaText = mint.label.getLabel('lb-550');
						currCriteriaText = mint.label.getLabel('lb-551');
					}
					else {
						//
					}
					
					var innerColumnInfo_prev = [];
					
					if (gridMode == "DETAIL") {
						innerColumnInfo_prev.push(
								{
									field : "procDate_prev",
									title : mint.label.getLabel('lb-536'),
									headerAttributes: {
										 style: "text-align: center;"
									}, 
									template: '#= (procDate_prev.length==8)?procDate_prev.substring(0,4)+"/"+procDate_prev.substring(4,6)+"/"+procDate_prev.substring(6,8):procDate_prev #',
									attributes: {
										 style: "text-align: center; white-space: nowrap;"
									}
								}
						);
					}
					
					innerColumnInfo_prev.push(
							{
								field : "totalCount_prev",
								title : mint.label.getLabel('lb-89') + " " + mint.label.getLabel('lb-349'),
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", totalCount_prev)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap;"
								}
							}
					);
					
					innerColumnInfo_prev.push(
							{
								field : "finishedCount_prev",
								title : mint.label.getLabel('lb-477'),
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", finishedCount_prev)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap;"
								}
							}
					);
					
					innerColumnInfo_prev.push(
							{
								field : "errorCount_prev",
								title : mint.label.getLabel('lb-476'),
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", errorCount_prev)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap; color: red;"
								}
							}
					);
					
					innerColumnInfo_prev.push(
							{
								field : "dataSize_prev",
								title : mint.label.getLabel('lb-474') + "(byte)",
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", dataSize_prev)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap;"
								}
							}
					);
				
					
					var innerColumnInfo_curr = [];
					
					if (gridMode == "DETAIL") {
						innerColumnInfo_curr.push(
								{
									field : "procDate_curr",
									title : mint.label.getLabel('lb-536'),
									headerAttributes: {
										 style: "text-align: center;"
									}, 
									template: '#= (procDate_curr.length==8)?procDate_curr.substring(0,4)+"/"+procDate_curr.substring(4,6)+"/"+procDate_curr.substring(6,8):procDate_curr #',
									attributes: {
										 style: "text-align: center; white-space: nowrap;"
									}
								}
						);
					}
					
					innerColumnInfo_curr.push(
							{
								field : "totalCount_curr",
								title : mint.label.getLabel('lb-89') + " " + mint.label.getLabel('lb-349'),
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", totalCount_curr)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap;"
								}
							}
					);
					
					innerColumnInfo_curr.push(
							{
								field : "finishedCount_curr",
								title : mint.label.getLabel('lb-477'),
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", finishedCount_curr)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap;"
								}
							}
					);
					
					innerColumnInfo_curr.push(
							{
								field : "errorCount_curr",
								title : mint.label.getLabel('lb-476'),
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", errorCount_curr)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap; color: red;"
								}
							}
					);
					
					innerColumnInfo_curr.push(
							{
								field : "dataSize_curr",
								title : mint.label.getLabel('lb-474') + "(byte)",
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								template: '#=kendo.format("{0:n0}", dataSize_curr)#',
								attributes: {
									 style: "text-align: center; white-space: nowrap;"
								}
							}
					);
				
					var columnInfo = [];
					
					if (gridMode == "DETAIL") {
						columnInfo.push(
								{
									field : "categoryNm",
									title : categoryText,
									width : "20%",
									template: "#= $.main.fn_rowsGrouping(categoryNm) #",
									headerAttributes: {
										 style: "text-align: center; vertical-align: middle;"
									}, 
									attributes: {
										 style: "text-align: center; white-space: nowrap;"
									}
								}
						);
						
						columnInfo.push(
								{
									field : "categoryId",
									hidden : true
								}
						);
					}
					else {
						columnInfo.push(
								{
									field : "categoryNm",
									title : categoryText,
									width : "20%",
									headerAttributes: {
										 style: "text-align: center; vertical-align: middle;"
									}, 
									attributes: {
										 style: "text-align: center; white-space: nowrap;"
									}
								}
						);
						
						if (categoryValue == "interface") {
							columnInfo.push(
									{
										field : "categoryId",
										title : categoryText + " ID",
										width : "10%",
										headerAttributes: {
											 style: "text-align: center; vertical-align: middle;"
										}, 
										attributes: {
											 style: "text-align: center; white-space: nowrap;"
										}
									}
							);
						}
						else {
							columnInfo.push(
									{
										field : "categoryId",
										hidden : true
									}
							);
						}
						
					}
					
					if (gridMode != "DETAIL") {
						columnInfo.push(
								{
									field : "compareRate",
									title : mint.label.getLabel('lb-552'),
									template : "#= (totalCount_curr == 0 || totalCount_prev == 0)?'-':kendo.format('{0:p2}', ((totalCount_curr)/ totalCount_prev)) #",
									headerAttributes: {
										 style: "text-align: center; vertical-align: middle;"
									}, 
									attributes: {
										 style: "text-align: center; white-space: nowrap;"
									},
									sortable: {
										compare: function (a, b) {
											var aRate = (a.totalCount_curr == 0 || a.totalCount_prev == 0)?0:(Math.floor(((a.totalCount_curr)/ a.totalCount_prev) * 1000) / 1000);
											var bRate = (b.totalCount_curr == 0 || b.totalCount_prev == 0)?0:(Math.floor(((b.totalCount_curr)/ b.totalCount_prev) * 1000) / 1000);
											return aRate === bRate ? 0 : (aRate > bRate) ? 1 : -1;
										}
									}
								}
						);
						
					}
					
					columnInfo.push(
							{
								field : "prevCriteriaNm",
								title : prevCriteriaText,
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								columns : innerColumnInfo_prev
							}
					);
					
					columnInfo.push(
							{
								field : "currCriteriaNm",
								title : currCriteriaText,
								headerAttributes: {
									 style: "text-align: center;"
								}, 
								columns : innerColumnInfo_curr
							}
					);
					
					return columnInfo;
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getColumnInfo_su0302002_Grid"});
				}
			}, // end fn_getColumnInfo_su0302002_Grid()
			
			//-----------------------------------------------------------------------
			// Description :: - 그리드 초기화
			//-----------------------------------------------------------------------
			fn_initGrid : function(columnsInfo) {
				try {
					$("#grid_su0302002").kendoGrid({
						dataSource : {
							data: [],
							pageSize : mint.ui.getPageSizesS({'currentPage' : true})
						},
						selectable: "row",
						resizable: true,
						sortable: true,
						pageable : {
								refresh : false,
								pageSizes : mint.ui.getPageSizesS(),
								buttonCount : 5
						},
						toolbar: ["excel"],
						excel: {
							  allPages: true
							, filterable: true
							, fileName: mint.label.getLabel('lb-395') + " " + mint.label.getLabel('lb-47') + " " + mint.label.getLabel('lb-631') + ".xlsx"
						}, 
						messages: {
							commands: {
							  excel: mint.label.getLabel('lb-508')
							}
						}, excelExport: function(e) {
							//스타일 편집
							var sheet = e.workbook.sheets[0];
							
							//console.log(sheet);
							// columns 기준
							for(var cw=0; cw<sheet.columns.length; cw++) {
								//sheet.columns[cw].width = 15;
								sheet.columns[cw].autoWidth = true;
								
								if (cw > 0) {
									sheet.columns[cw].width = 20;
								}
							}
							
							// custom TH title set
							var searchCondition = $.main.searchCondition;
							
							// rows 기준
							for (var i = 0; i < sheet.rows.length; i++) {
								for (var ci = 0; ci < sheet.rows[i].cells.length; ci++) {
									sheet.rows[i].cells[ci].vAlign = "center";
									
									//정렬 기준
									if(0 == i || 1 == i) {
										//컬럼 헤더일 경우
										sheet.rows[i].cells[ci].hAlign = "center";
										sheet.rows[i].cells[ci].bold = true;
										
										if (i == 0 && ci == 0) {
											if (searchCondition.scCategoryNm && searchCondition.scCategoryNm != "") {
												sheet.rows[i].cells[ci].value = searchCondition.scCategoryNm;
											}
										}
										
										if (searchCondition.scCategory == "interface") {
											//
											if (i == 0 && ci == 3) {
												sheet.rows[i].cells[ci].value = $("#grid_su0302002 th[data-field=prevCriteriaNm]").html();
											}
											if (i == 0 && ci == 4) {
												sheet.rows[i].cells[ci].value = $("#grid_su0302002 th[data-field=currCriteriaNm]").html();
											}
										}
										else {
											//
											if (i == 0 && ci == 2) {
												sheet.rows[i].cells[ci].value = $("#grid_su0302002 th[data-field=prevCriteriaNm]").html();
											}
											if (i == 0 && ci == 3) {
												sheet.rows[i].cells[ci].value = $("#grid_su0302002 th[data-field=currCriteriaNm]").html();
											}
										}
										
									} else {
										//데이터 내용일 경우
										/*
										if(1 == ci || 2 == ci || 3 == ci) {
										   sheet.rows[i].cells[ci].hAlign = "left";
										} else {
										   sheet.rows[i].cells[ci].hAlign = "center";
										}
										*/
										sheet.rows[i].cells[ci].hAlign = "center";
										
										if (searchCondition.scCategory == "interface") {
											if (ci == 2) {
												if (sheet.rows[i].cells[7].value == 0 || sheet.rows[i].cells[3].value == 0) {
													sheet.rows[i].cells[ci].value = "-";
												}
												else {
													sheet.rows[i].cells[ci].value = kendo.format('{0:p2}', (sheet.rows[i].cells[7].value / sheet.rows[i].cells[3].value ) );
												}
											}
										}
										else {
											if (ci == 1) {
												if (sheet.rows[i].cells[6].value == 0 || sheet.rows[i].cells[2].value == 0) {
													sheet.rows[i].cells[ci].value = "-";
												}
												else {
													sheet.rows[i].cells[ci].value = kendo.format('{0:p2}', (sheet.rows[i].cells[6].value / sheet.rows[i].cells[2].value ) );
												}
											}
										}
									}
								}
							}
							
							e.preventDefault();
							var createExcelFileName = mint.label.getLabel('lb-395') + " " + mint.label.getLabel('lb-47') + " " + mint.label.getLabel('lb-631') + ".xlsx";
							mint.downloadExcelFile(createExcelFileName, sheet, screenName);
							
						},
						columns : columnsInfo,
						dataBound: function (e) {
							if(1 > $("#grid_su0302002").data().kendoGrid.dataSource.view().length) {
								var gridHeight = window.innerHeight - ($('.navbar-static-top').height() + $('.page-heading').height() + $('.col-lg-12').height());
								
								$("#grid_su0302002").children(".k-grid-content").height(gridHeight /2.5);
								$("#grid_su0302002").children(".k-grid-content-locked").height(gridHeight / 2.5);
							} else {
								$("#grid_su0302002").children(".k-grid-content").height('auto');
								$("#grid_su0302002").children(".k-grid-content-locked").height('auto');
							}
						}
					});
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_initGrid"});
				}
			}, // end fn_initGrid()
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 Data Grid set
			//-----------------------------------------------------------------------
			fn_set_su0302002_GridData : function(jsonData) {
				try {
					//console.log(jsonData);
					var gridData = $.main.fn_get_su0302002_custom_GridData(jsonData);
					
					var dataSource = new kendo.data.DataSource({
						  data: gridData
					    , page:1
					    , pageSize: mint.ui.getPageSizesS({'currentPage' : true})
					});
					
					//데이터 재설정
					$("#grid_su0302002").data("kendoGrid").setDataSource(dataSource);
					// Title reset
					$("#grid_su0302002 th[data-field=prevCriteriaNm]").html($("#grid_su0302002 th[data-field=prevCriteriaNm]").html() + " (" + jsonData[jsonData.length-1].prevTitle + ")");
					$("#grid_su0302002 th[data-field=currCriteriaNm]").html($("#grid_su0302002 th[data-field=currCriteriaNm]").html() + " (" + jsonData[jsonData.length-1].currTitle + ")");
					
					// 탭 자동 이동
					$('#tabs-menu-list li:eq(0)').show();
					$('#tabs-menu-list a:eq(0)').tab('show');
					
					$('#tabs-menu-list li:eq(1)').hide();
					
					/* 
					// 상세 그리드 초기화
					$("#grid_su0302002_detail").empty();
					
					var scCategoryVal = $("#sc-su0302002-category").data("kendoDropDownList").value();
					var scCategoryText = $("#sc-su0302002-category").data("kendoDropDownList").text();
					var scCriteriaVal = $("#sc-su0302002-criteria").data("kendoDropDownList").value();
					
					var columnsInfo = $.main.fn_getColumnInfo_su0302002_Grid(scCategoryVal, scCategoryText, scCriteriaVal, "DETAIL");
					$.main.fn_initDetailGrid(columnsInfo);
					 */
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_set_su0302002_GridData"});
				}
			}, // end fn_set_su0302002_GridData
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 Data customizing set 반환 
			//-----------------------------------------------------------------------
			fn_get_su0302002_custom_GridData : function(jsonData) {
				try {
					var statisticsInterfaceCompareList = [];
					var statisticsInterfaceCompareData;
					var su0302002GridData = {};
					
					if (jsonData) {
						var len = jsonData.length - 1;
						for (var i=0; i<len; i++) {
							statisticsInterfaceCompareList[i] = {
									  "categoryId" : jsonData[i].categoryId
									, "categoryNm" : jsonData[i].categoryNm
									, "dataSize_prev" : jsonData[i].dataSize_prev
									, "dataSize_curr" : jsonData[i].dataSize_curr
									, "errorCount_prev" : jsonData[i].errorCount_prev
									, "errorCount_curr" : jsonData[i].errorCount_curr
									, "finishedCount_prev" : jsonData[i].finishedCount_prev
									, "finishedCount_curr" : jsonData[i].finishedCount_curr
									, "totalCount_prev" : jsonData[i].totalCount_prev
									, "totalCount_curr" : jsonData[i].totalCount_curr
							}
						}
						/* 
						for (var d in jsonData) {
							statisticsInterfaceCompareData = jsonData[d];
							
							statisticsInterfaceCompareList.push(statisticsInterfaceCompareData);
						}
						 */
					}
					
					//console.log(statisticsInterfaceCompareList);
				
					return statisticsInterfaceCompareList;
					
				} catch (e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_get_su0302002_custom_GridData"});
				}
				
			}, // end fn_get_su0302002_custom_GridData(jsonData)
			
			//-----------------------------------------------------------------------
			// Description :: - 상세 그리드 초기화
			//-----------------------------------------------------------------------
			fn_initDetailGrid : function(columnsInfo) {
				try {
					$("#grid_su0302002_detail").kendoGrid({
						dataSource : {
							data: [],
							pageSize : mint.ui.getPageSizesS({'currentPage' : true})
						},
						//selectable: "row",
						resizable: true,
						sortable: true,
						pageable : {
								refresh : false,
								pageSizes : mint.ui.getPageSizesS(),
								buttonCount : 5
						},
						toolbar: ["excel"],
						excel: {
							  allPages: true
							, filterable: true
							, fileName: mint.label.getLabel('lb-395') + " " + mint.label.getLabel('lb-47') + " " + mint.label.getLabel('lb-631') + " " + mint.label.getLabel('lb-353') + ".xlsx"
						}, 
						messages: {
							commands: {
							  excel: mint.label.getLabel('lb-508')
							}
						}, excelExport: function(e) {
							//스타일 편집
							var sheet = e.workbook.sheets[0];
							
							//console.log(sheet);
							// columns 기준
							for(var cw=0; cw<sheet.columns.length; cw++) {
								//sheet.columns[cw].width = 15;
								sheet.columns[cw].autoWidth = true;
								
								if (cw > 0) {
									sheet.columns[cw].width = 20;
								}
							}
							
							// custom TH title set
							var searchCondition = $.main.searchCondition;
							
							// rows 기준
							for (var i = 0; i < sheet.rows.length; i++) {
								for (var ci = 0; ci < sheet.rows[i].cells.length; ci++) {
									sheet.rows[i].cells[ci].vAlign = "center";
									
									//정렬 기준
									if(0 == i || 1 == i) {
										//컬럼 헤더일 경우
										sheet.rows[i].cells[ci].hAlign = "center";
										sheet.rows[i].cells[ci].bold = true;
										
										if (0 == i && ci == 0) {
											if (searchCondition.scCategoryNm && searchCondition.scCategoryNm != "") {
												sheet.rows[i].cells[ci].value = searchCondition.scCategoryNm;
											}
										}
										

										if (i == 0 && ci == 1) {
											sheet.rows[i].cells[ci].value = $("#grid_su0302002_detail th[data-field=prevCriteriaNm]").html();
										}
										if (i == 0 && ci == 2) {
											sheet.rows[i].cells[ci].value = $("#grid_su0302002_detail th[data-field=currCriteriaNm]").html();
										}
										
										
										if (i == 1 && ci == 0) {
											sheet.rows[i].cells[ci].value = $("#grid_su0302002_detail th[data-field=procDate_prev]").html();
										}
										if (i == 1 && ci == 5) {
											sheet.rows[i].cells[ci].value = $("#grid_su0302002_detail th[data-field=procDate_curr]").html();
										}
										
									} else {
										//데이터 내용일 경우
										/*
										if(1 == ci || 2 == ci || 3 == ci) {
										   sheet.rows[i].cells[ci].hAlign = "left";
										} else {
										   sheet.rows[i].cells[ci].hAlign = "center";
										}
										*/
										sheet.rows[i].cells[ci].hAlign = "center";
									}
								}
							}
							
							e.preventDefault();
							var createExcelFileName = mint.label.getLabel('lb-395') + " " + mint.label.getLabel('lb-47') + " " + mint.label.getLabel('lb-631') + " " + mint.label.getLabel('lb-353') + ".xlsx";
							mint.downloadExcelFile(createExcelFileName, sheet, screenName);
							
						},
						columns : columnsInfo,
						dataBound: function (e) {
							if(1 > $("#grid_su0302002_detail").data().kendoGrid.dataSource.view().length) {
								var gridHeight = window.innerHeight - ($('.navbar-static-top').height() + $('.page-heading').height() + $('.col-lg-12').height());
								
								$("#grid_su0302002_detail").children(".k-grid-content").height(gridHeight /2.5);
								$("#grid_su0302002_detail").children(".k-grid-content-locked").height(gridHeight / 2.5);
							} else {
								$("#grid_su0302002_detail").children(".k-grid-content").height('auto');
								$("#grid_su0302002_detail").children(".k-grid-content-locked").height('auto');
							}
							
							$.main.tmpGridRowspanIdx = 0;
						}
					});
					
					$.main.isInitDetailGrid = false;
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_initDetailGrid"});
				}
			}, // end fn_initDetailGrid()
			
			//-----------------------------------------------------------------------
			// Description :: - 그리드 row의 column 데이터 중복 시 그룹핑
			//-----------------------------------------------------------------------
			fn_rowsGrouping : function(colValue) {
			
				try {
					var result = "";
					
					var currentPageSize = $("#grid_su0302002_detail").data("kendoGrid").dataSource.pageSize();
					var page = $("#grid_su0302002_detail").data("kendoGrid").dataSource.page();
					var totalDataSize = $("#grid_su0302002_detail").data("kendoGrid").dataSource.total();
					
					var lastPage = parseInt(totalDataSize / currentPageSize) + 1;
					var lastPageRowsCount = (totalDataSize % currentPageSize);
					
					var rowsHalf = 0;
					if (page == lastPage) {
						rowsHalf = Math.round(lastPageRowsCount/2);
					}
					else {
						rowsHalf = (currentPageSize > totalDataSize) ? Math.round(totalDataSize/2) : Math.round(currentPageSize/2);
					}
					
					
					$.main.tmpGridRowspanIdx++;
					
					if ($.main.tmpGridRowspanIdx == rowsHalf) {
						result = $.main.tmpSelectedCategoryNm;
					}
					else {
						result = "";
					}
					
					return result;
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_rowsGrouping"});
				}
				
			}, // end fn_rowsGrouping
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 Data Detail(상세) Grid set
			//-----------------------------------------------------------------------
			fn_set_su0302002_DetailGridData : function(jsonData) {
				try {
					//console.log(jsonData);
					var gridData = $.main.fn_get_su0302002_custom_DetailGridData(jsonData);
					
					var dataSource = new kendo.data.DataSource({
						  data: gridData
					    , page:1
					    , pageSize: mint.ui.getPageSizesS({'currentPage' : true})
					});
					
					//데이터 재설정
					$("#grid_su0302002_detail").data("kendoGrid").setDataSource(dataSource);
					// Title reset
					var prevCriteriaText = "";
					var currCriteriaText = "";
					if ($.main.searchCondition.scCriteria == "Days") {
						prevCriteriaText = mint.label.getLabel('lb-456');
						currCriteriaText = mint.label.getLabel('lb-4');
					}
					else if ($.main.searchCondition.scCriteria == "Weeks") {
						prevCriteriaText = mint.label.getLabel('lb-548');
						currCriteriaText = mint.label.getLabel('lb-549');
					}
					else if ($.main.searchCondition.scCriteria == "Months") {
						prevCriteriaText = mint.label.getLabel('lb-550');
						currCriteriaText = mint.label.getLabel('lb-551');
					}
					else {
						//
					}
					
					
					// Title reset
					$("#grid_su0302002_detail th[data-field=categoryNm]").html($.main.searchCondition.scCategoryNm);
					
					$("#grid_su0302002_detail th[data-field=prevCriteriaNm]").html(prevCriteriaText + " (" + jsonData[jsonData.length-1].prevTitle + ")");
					$("#grid_su0302002_detail th[data-field=currCriteriaNm]").html(currCriteriaText + " (" + jsonData[jsonData.length-1].currTitle + ")");
					if ($.main.searchCondition.scCriteria == "Days") {
						//procDate_prev
						$("#grid_su0302002_detail th[data-field=procDate_prev]").html(mint.label.getLabel('lb-510'));
						$("#grid_su0302002_detail th[data-field=procDate_curr]").html(mint.label.getLabel('lb-510'));
					}
					else {
						$("#grid_su0302002_detail th[data-field=procDate_prev]").html(mint.label.getLabel('lb-536'));
						$("#grid_su0302002_detail th[data-field=procDate_curr]").html(mint.label.getLabel('lb-536'));
					}
					
					// 탭 자동 이동
					//$('#tabs-menu-list li:eq(1)').show();
					$('#tabs-menu-list a:eq(1)').tab('show');
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_set_su0302002_DetailGridData"});
				}
			}, // end fn_set_su0302002_DetailGridData
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 Data Detail(상세) Grid customizing set 반환 
			//-----------------------------------------------------------------------
			fn_get_su0302002_custom_DetailGridData : function(jsonData) {
				try {
					var statisticsInterfaceCompareList = [];
					var statisticsInterfaceCompareData;
					var su0302002GridData = {};
					
					if (jsonData) {
						var tmpProcDate_prev = "";
						var tmpProcDate_curr = "";
						var len = jsonData.length - 1;
						for (var i=0; i<len; i++) {
							if ($.main.searchCondition.scCriteria == "Days") {
								tmpProcDate_prev = jsonData[i].procDate_prev.substring(8,10);
								jsonData[i].procDate_prev = tmpProcDate_prev + mint.label.getLabel('lb-167') + " ~ " + mint.common.leadingZeros((Number(tmpProcDate_prev) + 1), 2) + mint.label.getLabel('lb-167');
								tmpProcDate_curr = jsonData[i].procDate_curr.substring(8,10);
								jsonData[i].procDate_curr = tmpProcDate_curr + mint.label.getLabel('lb-167') + " ~ " + mint.common.leadingZeros((Number(tmpProcDate_curr) + 1), 2) + mint.label.getLabel('lb-167');
							}
							
							statisticsInterfaceCompareList[i] = {
									  "categoryId" : jsonData[i].categoryId
									, "categoryNm" : jsonData[i].categoryNm
									, "procDate_prev" : jsonData[i].procDate_prev
									, "procDate_curr" : jsonData[i].procDate_curr
									, "dataSize_prev" : jsonData[i].dataSize_prev
									, "dataSize_curr" : jsonData[i].dataSize_curr
									, "errorCount_prev" : jsonData[i].errorCount_prev
									, "errorCount_curr" : jsonData[i].errorCount_curr
									, "finishedCount_prev" : jsonData[i].finishedCount_prev
									, "finishedCount_curr" : jsonData[i].finishedCount_curr
									, "totalCount_prev" : jsonData[i].totalCount_prev
									, "totalCount_curr" : jsonData[i].totalCount_curr
							}
						}
						/* 
						for (var d in jsonData) {
							statisticsInterfaceCompareData = jsonData[d];
							
							statisticsInterfaceCompareList.push(statisticsInterfaceCompareData);
						}
						 */
					}
				
					return statisticsInterfaceCompareList;
					
				} catch (e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_get_su0302002_custom_DetailGridData"});
				}
				
			}, // end fn_get_su0302002_custom_DetailGridData(jsonData)
			
			//-----------------------------------------------------------------------
			// Description :: - 조회 조건 - ARIS 프로세스 검색 팝업 결과 설정
			//-----------------------------------------------------------------------
			fn_returnBizPopupData : function(rtnBizData) {
				try {
					if(null == rtnBizData) {
						$('#tf-processNm').val('');
						$('#tf-processId_hidden').val('');
					} else {
						$('#tf-processNm').val(rtnBizData.businessNm);
						$('#tf-processId_hidden').val(rtnBizData.businessId);
					}
				} catch( e ) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_returnBizPopupData"});
				}
			}, // end fn_returnBizPopupData(Object)
			
			//-----------------------------------------------------------------------
			// Description :: - 선택된 조회조건 정보 컨트롤 / 반환
			//-----------------------------------------------------------------------
			fn_getSearchCondition : function() {
				try {
					var resultConditions = {
							scCategory : "",
							scCategoryNm : "",
							scCategoryDetailId : "",
							scCategoryDetailNm : "",
							scCriteria : "",
							scNodeType : "",
							searchMode : "DEFAULT"
					};
					
					
					resultConditions.scCategory = $("#sc-su0302002-category").data("kendoDropDownList").value().replace(/\s/g,'');
					resultConditions.scCategoryNm = $("#sc-su0302002-category").data("kendoDropDownList").text();
					resultConditions.scCriteria = $("#sc-su0302002-criteria").data("kendoDropDownList").value().replace(/\s/g,'');
					
					if (resultConditions.scCategory == "interface") {
						resultConditions.scCategoryDetailId = $("#sc-su0302002-cb-interfaceId").data("kendoComboBox").value().replace(/\s/g,'');
						resultConditions.scCategoryDetailNm = $("#sc-su0302002-cb-interfaceNm").data("kendoComboBox").value();
					}
					else if (resultConditions.scCategory == "process") {
						//searchCondition.criteriaDetailId = $("#tf-processId_hidden").val();
						//searchCondition.criteriaDetailNm = $("#tf-processNm").val();
						resultConditions.scCategoryDetailId = $("#tf-processId_hidden").val();
					}
					else if (resultConditions.scCategory == "channel") {
						resultConditions.scCategoryDetailId = $("#sc-su0302002-cb-channel").data("kendoComboBox").value().replace(/\s/g,'');
					}
					else if (resultConditions.scCategory == "system") {
						resultConditions.scCategoryDetailId = $('#tf-systemId_hidden').val();
						//resultConditions.scCategoryDetailId = $("#sc-su0302002-cb-system").data("kendoComboBox").value().replace(/\s/g,'');
					}
					
					
					if (resultConditions.scCategory == "system") {
						resultConditions.scNodeType = $("#sc-su0302002-nodetype").data("kendoDropDownList").value().replace(/\s/g,'');
					}
					else {
						resultConditions.scNodeType = "";
					}
					
					if (resultConditions.scNodeType == "ALL") {
						resultConditions.scNodeType = "";
					}
					
					
					return resultConditions;
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getSearchCondition"});
				}
			}, // end fn_getSearchCondition
			
			//-----------------------------------------------------------------------
			// Description :: - 기간별(비교) Data 조회
			//-----------------------------------------------------------------------
			fn_getData : function() {
				try {
					// 그리드 초기화
					$("#grid_su0302002").empty();
					
					var scCategoryVal = $("#sc-su0302002-category").data("kendoDropDownList").value();
					var scCategoryText = $("#sc-su0302002-category").data("kendoDropDownList").text();
					var scCriteriaVal = $("#sc-su0302002-criteria").data("kendoDropDownList").value();
					
					var columnsInfo = $.main.fn_getColumnInfo_su0302002_Grid(scCategoryVal, scCategoryText, scCriteriaVal, "DEFAULT");
					$.main.fn_initGrid(columnsInfo);
					
					
					// 조회 조건 get
					$.main.searchCondition = $.main.fn_getSearchCondition();
					
					$.main.searchCondition.searchMode = "DEFAULT";
					//console.log(searchCondition);
					
					
					$.main.searchCondition.isLinked = $.main.isLinked;
					
					
					//조회 - REST-R03-SU-03-02
					//데이터 조회
				    mint.callService($.main.searchCondition, screenName, 'REST-R03-SU-03-02', '$.main.fn_set_su0302002_GridData', {errorCall : true});
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getDate"});
				}
			}, // end fn_getDate
			
			//-----------------------------------------------------------------------
			// Description :: 엔터키 이벤트
			//-----------------------------------------------------------------------
			fn_onKeyDownSU0302002 : function(event) {
				try {
					if(event.keyCode == 13) {
						$.main.fn_getData();
					}
				}
				catch(e) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_onKeyDownSU0302002"});
				}
			}, // end fn_onKeyDownSU0302002
			
			//-----------------------------------------------------------------------
			// Description :: System 리턴 값
			//-----------------------------------------------------------------------
			fn_returnSystemPopupData : function(rtnSystemData) {
				try {
					if( mint.common.isEmpty(rtnSystemData) ) {
						$('#tf-systemNm').val('');
						$('#tf-systemNm_hidden').val('');
						$('#tf-systemId_hidden').val('');
					} else {
						$('#tf-systemNm').val(rtnSystemData.systemNm + '(' + rtnSystemData.systemCd + ')');
						$('#tf-systemNm_hidden').val(rtnSystemData.systemNm);
						$('#tf-systemId_hidden').val(rtnSystemData.systemId);
						
					}
				} catch( e ) {
					mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_returnSystemPopupData"});
				}
			}//end fn_returnSystemPopupData()				
			
			
		} // end main
	}); //end extends
	
	//=======================================================================
	// (4) 이벤트 핸들러 정의
	//=======================================================================
	$(".btn-search").bind("click", function(e) {
		
		try {
			$.main.fn_getData();
		}
		catch(e) {
			mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "btn-search.click"});
		}
		
	});
	
	// 조회 조건 - ARIS 프로세스 검색 팝업 연계
	$("#tf-processNm").bind("click", function() {
		
		try {
			$.ajax({
	     		url: "../sub-co/CO-01-00-003.html",
	     		success:function(data){
	     			$("#serchBizModal").html('');
	         		$("#serchBizModal").html(data);
	         		
	         		$('#pop_biz_search').modal({
	    				backdrop: 'static'
	    			});
	     		}
	 		});
		}
		catch(e) {
			mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "tf-processNm.click"});
		}
		
	});
	
	
	
	$('#grid_su0302002').on('dblclick', "tr.k-state-selected", function () {
		
		try {
			
			var entityGrid = $("#grid_su0302002").data("kendoGrid");
	        var selectedItem = entityGrid.dataItem(entityGrid.select());
	        
	        //console.log(selectedItem);
	        
	        // 어제 / 오늘의 경우 날짜 기준의 비교가 필요없으므로 상세 그리드를 열지 않는다.
	        //if ($.main.searchCondition.scCriteria != "Days") {

		        // 탭 자동 이동
				$('#tabs-menu-list li:eq(1)').show();
				$('#tabs-menu-list a:eq(1)').tab('show');
				if($.main.isInitDetailGrid) {
					// 그리드 초기화
		    		$("#grid_su0302002_detail").empty();
					var scCategoryVal = $("#sc-su0302002-category").data("kendoDropDownList").value();
		    		var scCategoryText = $("#sc-su0302002-category").data("kendoDropDownList").text();
		    		var scCriteriaVal = $("#sc-su0302002-criteria").data("kendoDropDownList").value();
		    		
		    		var columnsInfo = $.main.fn_getColumnInfo_su0302002_Grid(scCategoryVal, scCategoryText, scCriteriaVal, "DETAIL");
		    		$.main.fn_initDetailGrid(columnsInfo);
				}
		        
				
	    		// 조회 조건 set		
	    		$.main.searchCondition.searchMode = "DETAIL";
	    		$.main.searchCondition.scCategoryDetailId = selectedItem.categoryId;
	    		//console.log(searchCondition);
	    		
	    		// 상세 그리드 그룹핑을 위해 선택된 카테고리 명을 임시 저장
	    		$.main.tmpSelectedCategoryNm = selectedItem.categoryNm;
	    		
	    		//조회 - REST-R03-SU-03-02
	    		//데이터 조회
	    	    mint.callService($.main.searchCondition, screenName, 'REST-R03-SU-03-02', '$.main.fn_set_su0302002_DetailGridData', {errorCall : true});
	    		
	        //}
			
		}
		catch(e) {
			mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "grid_su0302002.dblclick"});
		}
		
	});
	
	//-----------------------------------------------------------------------
	// Description :: 시스템명 변경시 event 함수
	//-----------------------------------------------------------------------
	$('#tf-systemNm').on('click', function () {
		//팝업에 필요한 div 를 동적으로 생성하도록 한다.
		var attachDiv = 'attachSystemSearchPop';
		$('#' + attachDiv).remove();
		$('#page-wrapper').append($('<div id="' + attachDiv + '"></div>'));
		
		$.ajax({
     		url: "../sub-co/CO-01-00-901.html",
     		success:function(data){
     			$('#' + attachDiv).html('');
         		$('#' + attachDiv).html(data);
         		
         		$('#pop_system_search').modal({
    				backdrop: 'static'
    			}).on('hidden.bs.modal', function(event) {
    				$('#' + attachDiv).html('');
    			});
     		}
 		});
	});			
	
	//=======================================================================
	// (5) 기타 Function 정의
	//=======================================================================		
	
	//=======================================================================
	// (6) 화면 로딩시 실행할 항목 기술
	//=======================================================================		
	$.main.fn_init();
	mint.label.attachLabel(null);
	
});
</script>

<style>
/* GRID Scroll hidden */
.k-grid-header
{
   padding: 0 !important;
}

.k-grid-content
{
   overflow-y: visible;
}
/* end GRID Scroll hidden */

/* GRID Cursor set */
#grid_su0302002_detail tr {
    cursor : default !important;
}
/* end GRID Cursor set */
</style>