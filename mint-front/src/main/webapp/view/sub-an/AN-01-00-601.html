<!--
	Screen ID : AN-01-00-601
	Screen NM : 현대해상-인터페이스 조회
		[변경 이력]
	* YYYYMMDD-###
	  - xx
	* 20170119-001
	  - 프로그램 개선
	* 20170615-001
	  - 페이징 처리
	* 20170804-001
	  - 인터페이스명/인터페이스ID/전문객체/호출서비스ID 를 Combobox -> TextField 로 변경하였음
	  - 연관검색이 필요없게 되었음. 연관검색은 향후 삭제할 필요가 있음
	* 20170807-001
	  - 조회조건에 수신서비스 항목을 추가하였음(하드코딩)
	* 20170920-001
	  - 인터페이스ID 검색시 '_' 문자열 포함될 경우 SQL 에서 escape 처리하도록 보완하였음
-->

<!--location -->
<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-5">
		<h2><lb class="lb-10"></lb></h2>
		<ol class="breadcrumb">
	        <li><lb class="lb-9"></lb></li>
	        <li class="active"><strong><lb class="lb-10"></lb></strong></li>
 		</ol>
	</div>

	<!--button-->
	<div class="col-lg-7">
		<div class="title-action" >
	        <!-- <a href="#" class="btn btn-primary btn-register"><i class="fa fa-check "></i> <lb class="lb-11"></a> -->
		</div>
	</div>
	<!--button end-->
</div>
<!--location end-->

<!--wrapper wrapper-content-->
<div class="wrapper wrapper-content animated fadeInRight">
	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5><lb class="lb-78"></h5>&nbsp;&nbsp;&nbsp;
					<div class="ibox-tools">
						<a class="help-over-pannel" onclick="mint.ui.help(this, 'AP00000005','H002')"></a>
                   		<a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</div>
					<div style="float: right; padding: 0px 20px 0px 0px;">
						<a class="btn btn-w-m btn-default btn-outline btn-clear"><i class="fa fa-check "></i> <lb class="lb-79"></lb></a>
						<a class="btn btn-w-m btn-default btn-outline btn-search"><i class="fa fa-search "></i> <lb class="lb-10"></lb></a>
						<!--<a class="btn btn-w-m btn-primary btn-register"><i class="fa fa-check "></i> <lb class="lb-11"></a>-->
						<a class="btn btn-w-m btn-default btn-export" style="display: none"><i class="fa fa-check "></i> 내보내기</a>
						<a class="btn btn-w-m btn-default btn-import" style="display: none"><i class="fa fa-check "></i> 들여오기</a>
						<!-- 다른 메뉴로 뺐으므로 주석처리함.20170717 -->
						<!--
						<a class="btn btn-w-m btn-primary btn-export-server"><i class="fa fa-check "></i> 내보내기(서버)</a>
						<a class="btn btn-w-m btn-primary btn-import-server"><i class="fa fa-check "></i> 들여오기(서버)</a>
						-->
					</div>
				</div>
             	<div class="ibox-content">
               		<div class="row">
						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-82"></lb></span>
								<input id="tf-systemNm" type="text" class="input-tag-4 k-textbox" readonly="readonly" placeholder="Search...">
								<input id="hd-systemNm" type="hidden">
								<input id="hd-systemId" type="hidden">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-153"></lb></span>
								<input id="tf-search-interfaceNm" type="text" class="input-tag-4 k-textbox" placeholder="">
								<!--<input id="cb-interfaceNm" type="text" class="input-tag-4" placeholder="Search...">-->
							</div>
						</div>

						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-154"></lb></span>
								<input id="tf-search-integrationId" type="text" class="input-tag-4 k-textbox" placeholder="">
								<!--<input id="cb-integrationId" type="text" class="input-tag-4" placeholder="Search...">-->
							</div>
						</div>

						<hr class="hr-space">

						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-87"></lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000005','H006')"></a></span>
								<input id="tf-search-svcNm" type="text" class="input-tag-4 k-textbox" placeholder="">
								<!--<input id="cb-svcNm" type="text" class="input-tag-4" placeholder="Search...">-->
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-556"></lb></span>
								<input id="tf-search-svcDesc" type="text" class="input-tag-4 k-textbox" placeholder="">
								<!--<input id="cb-svcDesc" type="text" class="input-tag-4" placeholder="Search...">-->
							</div>
						</div>

						<!-- <div class="col-sm-4">
							<div class="form-group">
								<label class="label-tag-4"><lb class="lb-688">인터페이스 유형</lb></label>
								<input id="cb-hasDataMap" name="hasDataMapNm" type="combobox" class="input-tag-4" placeholder="Search...">
							</div>
						</div> -->

						<div id="chl-search-attr-div"></div>

						<div class="col-sm-4" style="display:none;">
                            <div class="form-group">
                            	<span class="label-tag-4"><lb class="lb-80"></lb><</span>
                               	<input id="cb-channelId" type="text" class="input-tag-4" placeholder="Search...">
                           	</div>
						</div>

						<div class="col-sm-4">
							<div class="form-group" style="display: none">
								<span class="label-tag-4"><lb class="lb-86"></lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000005','H005')"></a></span>
								<input id="cb-resourceNm" type="text" class="input-tag-4" placeholder="Search...">
							</div>
						</div>
						<hr class="hr-space">

						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-155"></lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000005','H005')"></a></span>
								<input id="cb-dataPrDir" type="text" class="input-tag-4" placeholder="Search...">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-162"></lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000005','H006')"></a></span>
								<input id="cb-appPrMethod" type="text" class="input-tag-4" placeholder="Search...">
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-196"></lb></span>
								<input id="cb-importance" type="text" class="input-tag-4" placeholder="Search...">
							</div>
						</div>

						<!-- <hr class="hr-space"> -->



						<div class="col-sm-4" style="display:none;">
							<div class="form-group">
								<span class="label-tag-4"><lb class="lb-88"></lb></span>
								<span style="padding: 0px 0px 0px 0px;">
					            	<div class="radio radio-inline" style="padding-left:20px; padding-top:5px;">
										<span class="radio-danger" style="padding-right: 20px;"><input id="radio0" type="radio" name="rd-search-range" value="N" checked="checked"><label for="radio0"><lb class="lb-89"></label></span>
		                                <span class="radio-info"   style="padding:0px 20px;"><input id="radio1" type="radio" name="rd-search-range" value="Y"><label for="radio1"><lb class="lb-90"></label></span>
                                	</div>
                                </span>
							</div>
						</div>
                   	</div>
                </div>
				<!--ibox-content end-->
           	</div>
			<!--ibox float-e-margins end-->
		</div>
		<!--col-lg-12 end-->
	</div>
	<!--row end-->


	<div class="row">
 		<div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
					<h5><lb class="lb-91"></h5>
                    <div class="ibox-tools">
                   		<a class="help-over-pannel" onclick="mint.ui.help(this, 'AP00000005','H001')"></a>
                   		<a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</div>
               	</div>

                <div class="ibox-content">
	     			<div id="grid"></div>
					<div id="grid-excel" style="display:none"></div>
               	</div>
            </div>
       	</div>
	</div>
</div>

<!-- ----------------------------------------- -->
<!-- whoana.170727 							   -->
<!-- ----------------------------------------- -->
<div class="modal inmodal" id="AN-01-00-601-POPUP-01" tabindex="-1" role="dialog"  aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content animated fadeIn">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" style="padding:15px;">
					<span aria-hidden="true">&times;</span>
					<span class="sr-only"></span>
				</button>
				<div>
					<h2 class="popupTitle"><lb class="lb-whoana-5">인터페이스 Upload</lb></h2>
				</div>
			</div>
			<div class="modal-body">
				<div class="panel-body">
					<div class="col-lg-12">
						<div class="form-group">
							<span class="lable_tag6"><lb class="lb-398">설명</lb></span>
							<span class="k-widget k-autocomplete k-header k-state-default" style="width:80%;">
								<input id="tf-upload-comments" type="text" class="k-input required" placeholder="" style="width:100%;">
							</span>
						</div>
						<hr class="hr-space">
						<div class="form-group" style="widht:99.5%;">
							<input name="interfaceFileUpload" id="interfaceFileUpload" type="file" accept=".json"/>
						</div>
					</div>
				</div>
			</div>
			<hr class="hr-space">
			<hr class="hr-space">

            <div class="modal-footer-original">
                <button type="button" class="btn btn-primary btn-jsonUpload-save" ><i class="fa fa-arrow-up"></i>  <lb class="lb-673">Upload</lb></button>
                <button type="button" class="btn btn-danger btn-outline" data-dismiss="modal"><i class="fa fa-ban"></i>  <lb class="lb-143"></lb></button>
            </div>
		</div>
	</div>
</div>

<script type="text/x-kendo-template" id="template-search-channelAttribute">
	<div class="col-sm-4">
		<div class="form-group">
			<label class="label-tag-4">#= attrNm #</label>
			<input id="tf-search-chlattr-#= attrCd #" name="#= attrCd #" type="text" class="input-tag-4 k-textbox" placeholder="">
		</div>
	</div>
</script>

<script type="text/x-kendo-template" id="template-grid-pattern-label">
<span
	id='#= "pattern-" + uid #'
	data-uid='#= uid #'
	data-flag='Y'
	class='label label-success label-flag'
	style='position: absolute; left:#= left #px; top:#= top #px;'>#= patternValue #
</span>
</script>

<script type="text/x-kendo-template" id="template-grid-system-detail">
<table class="table table-hover no-margins">
	<thead>
		<tr>
			<th class="mint-th-m-right">#= mint.label.getLabel('lb-494') #</th>
			<th class="mint-th-m-right">#= mint.label.getLabel('lb-82') #</th>
			<th class="mint-th-m-right">#= mint.label.getLabel('lb-86') #</th>
			<th class="mint-th-m-right">#= mint.label.getLabel('lb-87') #</th>
			<th class="mint-th-m-right">#= mint.label.getLabel('lb-556') #</th>
		</tr>
	</thead>
	<tbody>
	# for ( var i = 0; i < interface.senderSystemInfoList.length; i++ ) { #
		<tr>
			<td class="mint-td-m-right">#= interface.senderSystemInfoList[i].nodeTypeNm #</td>
			<td class="mint-td-m-right">#= interface.senderSystemInfoList[i].systemNm ##= mint.lb ##= interface.senderSystemInfoList[i].systemCd ##= mint.rb #</td>
			<td class="mint-td-m-right">#= interface.senderSystemInfoList[i].resourceNm #</td>
			<td class="mint-td-m-right">#= interface.senderSystemInfoList[i].service #</td>
			<td class="mint-td-m-right">#= interface.senderSystemInfoList[i].serviceDesc #</td>
		</tr>
	# } #
	# for ( var i = 0; i < interface.receiverSystemInfoList.length; i++ ) { #
		<tr>
			<td class="mint-td-m-right">#= interface.receiverSystemInfoList[i].nodeTypeNm #</td>
			<td class="mint-td-m-right">#= interface.receiverSystemInfoList[i].systemNm ##= mint.lb ##= interface.receiverSystemInfoList[i].systemCd ##= mint.rb #</td>
			<td class="mint-td-m-right">#= interface.receiverSystemInfoList[i].resourceNm #</td>
			<td class="mint-td-m-right">#= interface.receiverSystemInfoList[i].service #</td>
			<td class="mint-td-m-right">#= interface.receiverSystemInfoList[i].serviceDesc #</td>
		</tr>
	# } #
	</tbody>
</table>
</script>

<script>
	$(document).ready(function() {
		//=======================================================================
		//(1) function 및 variable scope 설정 :: (메인은 main, 팝업 및 서브는 sub)
		//=======================================================================
		screenName = "AN-01-00-001";
		$.extend({
			main : {
				//=======================================================================
				// (2) Screen 에서 사용할 variable 정의
				//=======================================================================
				//-----------------------------------------------------------------------
				// 연관검색 필드
				//-----------------------------------------------------------------------
				searchNode : "",
				//-----------------------------------------------------------------------
				// [페이지 관련] - Page Control Variable
				//-----------------------------------------------------------------------
				page : 1,
				perCount : 1,
				totalCount : 0,
				//-----------------------------------------------------------------------
				// 조회 - 엑셀다운도드 조회조건 sycn
				//-----------------------------------------------------------------------
				requestObject : new Object(),
				//-----------------------------------------------------------------------
				// add.17070622
				// 인터페이스내보내기용 스트럭처
				//-----------------------------------------------------------------------
				interfaceListCheckbox : {},
				//=======================================================================
				// (3) Screen 에서 사용할 function 정의
				//=======================================================================

				//-----------------------------------------------------------------------
				// Description :: 화면 초기화
				//-----------------------------------------------------------------------
				fn_init : function() {
					try {
						mint.init('$.main.fn_initCallback');
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_init"});
					}
				},//end fn_init()

				//-----------------------------------------------------------------------
				// Description :: 화면 초기화 콜백
				//-----------------------------------------------------------------------
				fn_initCallback : function() {
					try {
						mint.back(null);
						$.main.fn_initSearchNode();
						$.main.fn_initComboBox();
						$.main.fn_initGrid();
						$.main.fn_initInterfaceFileUpload();
						$.main.fn_initImportExportButton();
						//-----------------------------------------------------------------------
						// [페이지 관련] - 그리드 페이지 컨트롤 이벤트 설정
						//-----------------------------------------------------------------------
						{
							var grid = $('#grid').data('kendoGrid');
							var pager = grid.pager;
							pager.element.bind('change', function(e) {
								$.main.fn_gridItemPerPageEvent(e);
							});
							$.main.perCount = pager.pageSize();
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initCallback"});
					}
				},//end fn_initCallback()

				//-----------------------------------------------------------------------
	            // Description :: [연관검색 관련] - searchNode 초기화
	            //-----------------------------------------------------------------------
	            fn_initSearchNode : function() {
	                try {
	                    $.main.searchNode = new Object();

	                    $.main.searchNode.previous = null;
	                    $.main.searchNode.current = null;
	                    $.main.searchNode.previousType = null;
	                    $.main.searchNode.currentType = null;
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initSearchNode"});
	                }
	            },

	            //-----------------------------------------------------------------------
	            // Description :: [연관검색 관련] - 검색 조건 초기화
	            //-----------------------------------------------------------------------
	            fn_clearSearchArea : function() {
	                try {

	                 	// 시스템
	                    $('#tf-systemNm').val('');
						$('#hd-systemNm').val('');
						$('#hd-systemId').val('');
						$('#tf-systemNm').prop("disabled", false);
						$('#tf-systemNm').css("background-color", "#FFFFFF");

						//-----------------------------------------------------------------------
	                    // 인터페이스명
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
	                    //var combobox = $("#cb-interfaceNm").data("kendoComboBox");
	                    //combobox.enable(true);
	                    //combobox.value('');
	                    //mint.ui.setComboBoxWithValueSort('cb-interfaceNm', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'interfaceNm', 'interfaceNm', '');
	                    //-----------------------------------------------------------------------
	                    //-----------------------------------------------------------------------
	                    $("#tf-search-interfaceNm").val('');

	                  	//-----------------------------------------------------------------------
	                  	// 인터페이스 ID
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
	                    //var combobox = $("#cb-integrationId").data("kendoComboBox");
	                    //combobox.enable(true);
	                    //combobox.value('');
	                    //mint.ui.setComboBoxWithValueSort('cb-integrationId', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'integrationId', 'integrationId', '');
						//-----------------------------------------------------------------------
						 $("#tf-search-integrationId").val('');

	                  	// 리소스
	                    $('#cb-resourceNm').data("kendoComboBox").value('');

	                  	//-----------------------------------------------------------------------
	                	// 서비스
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
	                    //$('#cb-svcNm').data("kendoComboBox").value('');
	                    //$('#cb-svcDesc').data("kendoComboBox").value('');
	                    //-----------------------------------------------------------------------
	                    $('#tf-search-svcNm').val('');
						$('#tf-search-svcDesc').val('');

	                    $('#cb-dataPrDir').data("kendoComboBox").value('');
	                    $('#cb-appPrMethod').data("kendoComboBox").value('');
	                    $('#cb-importance').data("kendoComboBox").value('');
	                    //$('#cb-hasDataMap').data("kendoComboBox").value('');

	                    $('input[type=text]').val('');

	                    $.main.fn_initSearchNode();
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_clearSearchArea"});
	                }
	            },

	            //-----------------------------------------------------------------------
	            // Description :: [연관검색 관련] - 검색 조건 조회 request object 세팅
	            //-----------------------------------------------------------------------
	            fn_getSearchObject : function(flag, data) {
	            	try {
	                    var searchObject = new Object();

	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
                    	//if($("#cb-interfaceNm").val() != null && $("#cb-interfaceNm").val() != "") {
                        //	searchObject.interfaceNm = $("#cb-interfaceNm").val();
                        //}
	                    //-----------------------------------------------------------------------
                    	if($("#tf-search-interfaceNm").val() != null && $("#tf-search-interfaceNm").val() != "") {
                        	searchObject.interfaceNm = $("#tf-search-interfaceNm").val();
                        }

	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
                    	//if($("#cb-integrationId").val() != null && $("#cb-integrationId").val() != "") {
	                    //	searchObject.integrationId = $("#cb-integrationId").val();
                        //}
	                    //-----------------------------------------------------------------------
                    	if($("#tf-search-integrationId").val() != null && $("#tf-search-integrationId").val() != "") {
	                    	searchObject.integrationId = $("#tf-search-integrationId").val();
                        }

                        if($("#hd-systemNm").val() != null && $("#hd-systemNm").val() != "") {
                            searchObject.systemNm = $("#hd-systemNm").val();
                        }

	                    return searchObject;
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getSearchObject"});
	                }
	            },

	            //-----------------------------------------------------------------------
	            // Description :: [연관검색 관련] - 검색 조건 조회
	            //-----------------------------------------------------------------------
	            fn_getSearchInfo : function(flag, data) {
	                try {
	                	mint.callService($.main.fn_getSearchObject(flag, data), screenName, 'REST-R02-CO-02-00-000', '$.main.fn_setSearchInfo', {errorCall : true });
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getSearchInfo"});
	                }
	            },

	          	//-----------------------------------------------------------------------
	            // Description :: [연관검색 관련] - 검색 조건 조회 - 콜백
	            //-----------------------------------------------------------------------
	            fn_setSearchInfo : function(jsonData) {
	                try {
	                    if(jsonData != null) {

	                    	if($("#hd-systemNm").val() == "" && jsonData.systemCdList  != null) {

	                        }

		                    //-----------------------------------------------------------------------
		                    // 20170804 :: combobox --> textfield  로 변경
		                    //-----------------------------------------------------------------------
	                        //if($("#cb-interfaceNm").val() == "" && jsonData.interfaceCdList != null) {
	                        //    mint.ui.setComboBoxWithValueSort('cb-interfaceNm', jsonData.interfaceCdList, 0, 'interfaceNm', 'interfaceNm');
	                        //}
		                    //-----------------------------------------------------------------------

		                    //-----------------------------------------------------------------------
		                    // 20170804 :: combobox --> textfield  로 변경
		                    //-----------------------------------------------------------------------
	                        //if($("#cb-integrationId").val() == "" && jsonData.interfaceCdList != null) {
	                        //    mint.ui.setComboBoxWithValueSort('cb-integrationId', jsonData.interfaceCdList, 0, 'integrationId', 'integrationId');
	                        //}
		                    //-----------------------------------------------------------------------

		                    //-----------------------------------------------------------------------
		                    // 20170804 :: combobox --> textfield  로 변경
		                    //-----------------------------------------------------------------------
	                        //if($("#cb-svcNm").val() == "" && jsonData.serviceList != null) {
	                        //    //mint.ui.setComboBoxWithValueSort('cb-svcNm', jsonData.serviceList, 0, '', '');
	                        //}
		                    //-----------------------------------------------------------------------

		                    //-----------------------------------------------------------------------
		                    // 20170804 :: combobox --> textfield  로 변경
		                    //-----------------------------------------------------------------------
	                        //if($("#cb-svcDesc").val() == "" && jsonData.serviceDescList != null) {
	                        //    //mint.ui.setComboBoxWithValueSort('cb-svcDesc', jsonData.serviceDescList, 0, '', '');
	                        //}
		                    //-----------------------------------------------------------------------

	                	}
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setSearchInfo"});
	                }
	            },

	            //-----------------------------------------------------------------------
	            // Description :: [연관검색 관련] - searchNode 데이터 세팅
	            //-----------------------------------------------------------------------
	            fn_setSearchNode : function(currentId, type) {
	                try {
	                	if($.main.searchNode.current != currentId) {
	                        $.main.searchNode.previous = $.main.searchNode.current;
	                        $.main.searchNode.previousType = $.main.searchNode.currentType;

	                        $.main.searchNode.current = currentId;
	                        $.main.searchNode.currentType = type;

	                        if($.main.searchNode.previousType == 'combo') {
	                        	if($.main.searchNode.previous != null) {
	                                var combobox = $("#" + $.main.searchNode.previous).data("kendoComboBox");
	                                combobox.enable(false);
	                            }
	                        } else {
	                        	if( ! mint.common.isEmpty( $.main.searchNode ) && ! mint.common.isEmpty( $.main.searchNode.previous ) ) {
		                        	$("#" + $.main.searchNode.previous).prop("disabled", true);
		                        	$("#" + $.main.searchNode.previous).css("background-color", "#F9F8F8");
	                        	}
	                        }
	                    }
	                } catch( e ) {
	                    mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setSearchNode"});
	                }
	            },

				//-----------------------------------------------------------------------
				// Description ::  검색 조건 - ComboBox 설정
				//-----------------------------------------------------------------------
				fn_initComboBox : function() {
					try {
						// Channel
						mint.ui.setDropDownList('cb-channelId'      , mint.common.commonCodeMap.get("channelList"), 0, 'channelNm', 'channelNm');
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
						//mint.ui.setComboBoxWithValueSort('cb-interfaceNm', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'interfaceNm', 'interfaceNm');
						//mint.ui.setComboBoxWithValueSort('cb-integrationId', mint.common.commonCodeMap.get("interfaceCdList"), 0, 'integrationId', 'integrationId');
						//-----------------------------------------------------------------------

						mint.ui.setComboBoxWithValue('cb-resourceNm', mint.common.commonCodeMap.get("cds").IM04, 0, 'nm', 'nm');

	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
						//mint.ui.setComboBoxWithValueSort('cb-svcNm', mint.common.commonCodeMap.get("serviceList"), 0, '', '');
						//mint.ui.setComboBoxWithValueSort('cb-svcDesc', mint.common.commonCodeMap.get("serviceDescList"), 0, '', '');
						//-----------------------------------------------------------------------

						//mint.ui.setComboBoxWithValue('cb-hasDataMap', mint.common.commonCodeMap.get("cds").AN14   , 0, 'nm'       , 'cd'       );

						mint.ui.setComboBoxWithValue('cb-dataPrDir', mint.common.commonCodeMap.get("cds").IM01, 0, 'nm', 'cd');
						mint.ui.setComboBoxWithValue('cb-appPrMethod', mint.common.commonCodeMap.get("cds").IM02, 0, 'nm', 'cd');
						mint.ui.setComboBoxWithValue('cb-importance', mint.common.commonCodeMap.get("cds").IM07, 0, 'nm', 'cd');

	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
						//$("#cb-interfaceNm").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);
						//$("#cb-integrationId").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);
						//-----------------------------------------------------------------------
						$("#tf-search-interfaceNm").keydown($.main.fn_enterKeyEvent);
						$("#tf-search-integrationId").keydown($.main.fn_enterKeyEvent);

						$("#cb-resourceNm").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);

	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
						//$("#cb-svcNm").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);
						//$("#cb-svcDesc").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);
						//-----------------------------------------------------------------------
						$("#tf-search-svcNm").keydown($.main.fn_enterKeyEvent);
						$("#tf-search-svcDesc").keydown($.main.fn_enterKeyEvent);

						$("#cb-dataPrDir").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);
						$("#cb-appPrMethod").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);
						$("#cb-importance").data("kendoComboBox").input.keydown($.main.fn_enterKeyEvent);

						$.main.fn_channelAdditionalAttribute();

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initComboBox"});
					}
				},//end fn_initComboBox()

				//-----------------------------------------------------------------------
				// Description :: 엔터키 이벤트
				//-----------------------------------------------------------------------
				fn_enterKeyEvent : function() {
					try {
						if(event.keyCode == 13) {
							$.main.fn_getData(true);
				     	}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_enterKeyEvent"});
					}
				},//end fn_enterKeyEvent()

				//-----------------------------------------------------------------------
				// Description ::  Interface List Grid
				//-----------------------------------------------------------------------
				fn_initGrid : function() {
					try {

						//-----------------------------------------------------------------------
						// 조회 결과 그리드
						//-----------------------------------------------------------------------
						var grid = $("#grid").kendoGrid({
							dataSource : {
				 				  data: ""
				 				, pageSize : mint.ui.getPageSizesS({'currentPage' : true})
							}
							, filterable: true
						    , sortable : true
							, selectable: "row"
							, resizable: true
							, columnMenu: true
							, reorderable: true
							, pageable : {
								  refresh 		: false
								, pageSizes		: mint.ui.getPageSizesS()
						    	, buttonCount 	: 5
						    	//----------------------------------------------
						    	//add.170622
						    	//----------------------------------------------
						    	, change:function(e) {
					            	$.main.interfaceListCheckbox = {};
					            	$("#interface-list-checkbox-checkAll").prop('checked', false);
						       	}
								//----------------------------------------------
							}
						    , toolbar: ["excel"]
						    , excel: {
						          allPages: true
						        , filterable: true
						        , fileName: mint.common.remakeYYMMDD(new Date()).substring(0, 14) + '_' + mint.label.getLabel('lb-10') + '.xlsx'
						    }
						    , messages: {
						        commands: {
						          excel: mint.label.getLabel('lb-508')
						        }
						    }
						    , page: function(e) {
						    	$.main.fn_gridPageEvent(e);
						    }
						    , excelExport: function(e) {
						    	/*
								var allData = [];
						    	for( var i = 0; i < e.data.length; i++ ) {
						    		var sCnt = e.data[i].interface.senderSystemInfoList.length;
						    		var rCnt = e.data[i].interface.receiverSystemInfoList.length;

						    		for( var s = 0; s < sCnt; s++ ) {

						    			for( var r = 0; r < rCnt; r++ ) {

						    				var senderSystemInfoList = [];
						    				senderSystemInfoList.push( e.data[i].interface.senderSystemInfoList[s] );

						    				var receiverSystemInfoList = [];
						    				receiverSystemInfoList.push( e.data[i].interface.receiverSystemInfoList[r] );


											var row = JSON.parse(JSON.stringify(e.data[i]));
											row.interface.senderSystemInfoList   = senderSystemInfoList;
											row.interface.receiverSystemInfoList = receiverSystemInfoList;


											allData.push(row);
						    			}
						    		}

						    	}
								$.main.fn_setGridExcelData(allData);
							    var gridExcel = $("#grid-excel").data("kendoGrid");
							    gridExcel.saveAsExcel();
							    e.preventDefault();
							    */


							    //-----------------------------------------------------------------------
							    // 20170804 성능문제로 주석 처리
							    //-----------------------------------------------------------------------
							    //$.main.fn_getGridExcelData();
							    //e.preventDefault();


								//-----------------------------------------------------------------------
						    	// 스타일 편집
						    	//-----------------------------------------------------------------------
						        var sheet = e.workbook.sheets[0];
						        for (var i = 0; i < sheet.rows.length; i++) {
						        	for (var ci = 0; ci < sheet.rows[i].cells.length; ci++) {
						            	sheet.rows[i].cells[ci].vAlign = "center";
						            	//정렬
						            	if( sheet.rows[i].type == 'header' ) {
						            		//헤더일 경우
						            		sheet.rows[i].cells[ci].hAlign = "center";
						            		sheet.rows[i].cells[ci].bold = true;
						            	}
						        	}
						    	}

					      	}
						    , columns : $.main.fn_getGridColumns()
						    , dataBound: function (e) {
						    	if(0 == $("#grid").data().kendoGrid.dataSource.view().length) {
						    		var gridHeight = window.innerHeight - ($('.navbar-static-top').height() + $('.page-heading').height() + $('.col-lg-12').height());

						    		$("#grid").children(".k-grid-content").height(gridHeight /3.5);
						    		$("#grid").children(".k-grid-content-locked").height(gridHeight / 3.5);
						    	} else {
						    		$("#grid").children(".k-grid-content").height('auto');
							    	$("#grid").children(".k-grid-content-locked").height('auto');
						    	}
								//-----------------------------------------------------------------------
								// ROW / COL CSS 처리
								//-----------------------------------------------------------------------
								var items = e.sender.dataItems();
								if( items.length > 0 ) {
									for(var i = 0; i < items.length; i++ ) {
										var tr = e.sender.wrapper.find("tr[data-uid='" + items[i].uid + "']:first");
										if( !mint.common.isEmpty(items[i].interface.pattern)  ) {
											var td = tr.find("td:eq(0)");
											if( td.find("span[data-flag='Y']").length == 0 ) {
												var htmlTemplate = kendo.template($('#template-grid-pattern-label').html());
												td.prepend( htmlTemplate( {uid: items[i].uid, left: td.position().left, top: td.position().top, patternValue: items[i].interface.pattern} ) );
											}
										}
									}
								}
						    }
						});

						//-----------------------------------------------------------------------
						// Excel export 그리드
						//-----------------------------------------------------------------------
						var gridExcel = $("#grid-excel").kendoGrid({
							dataSource : {
				 				  data: ""
				 				, pageSize : mint.ui.getPageSizesS({'currentPage' : true})
							}
							, filterable: true
						    , sortable : true
							, selectable: "row"
							, resizable: true
							, columnMenu: true
							, reorderable: true
							, pageable : {
								  refresh 		: false
								, pageSizes		: mint.ui.getPageSizesS()
						    	, buttonCount 	: 5

							}
						    , toolbar: ["excel"]
						    , excel: {
						          allPages: true
						        , filterable: true
						        , fileName: mint.common.remakeYYMMDD(new Date()).substring(0, 14) + '_' + mint.label.getLabel('lb-10') + '.xlsx'
						    }
						    , messages: {
						        commands: {
						          excel: mint.label.getLabel('lb-508')
						        }
						    }
						    , excelExport: function(e) {
								//-----------------------------------------------------------------------
						    	// 스타일 편집
						    	//-----------------------------------------------------------------------
						        var sheet = e.workbook.sheets[0];
						        for (var i = 0; i < sheet.rows.length; i++) {
						        	for (var ci = 0; ci < sheet.rows[i].cells.length; ci++) {
						            	sheet.rows[i].cells[ci].vAlign = "center";
						            	//정렬
						            	if( sheet.rows[i].type == 'header' ) {
						            		//헤더일 경우
						            		sheet.rows[i].cells[ci].hAlign = "center";
						            		sheet.rows[i].cells[ci].bold = true;
						            	}
						        	}
						    	}
						      	//-----------------------------------------------------------------------
								// 서버요청 방식 다운로(더이상 사용하지 않을 예정)
								//-----------------------------------------------------------------------
						        //e.preventDefault();
						        //mint.downloadExcelFile(mint.common.remakeYYMMDD(new Date()).substring(0, 14) + mint.label.getLabel('lb-10') + '.xlsx', sheet, 'AN-02-00-001');
					      	}
						    , columns : $.main.fn_getGridColumns()
						    , dataBound: function (e) {
								//-----------------------------------------------------------------------
								// ROW / COL CSS 처리
								//-----------------------------------------------------------------------
								var items = e.sender.dataItems();
								if( items.length > 0 ) {
									for(var i = 0; i < items.length; i++ ) {
										var tr = e.sender.wrapper.find("tr[data-uid='" + items[i].uid + "']:first");
										if( !mint.common.isEmpty(items[i].interface.pattern)  ) {
											var td = tr.find("td:eq(0)");
											if( td.find("span[data-flag='Y']").length == 0 ) {
												var htmlTemplate = kendo.template($('#template-grid-pattern-label').html());
												td.prepend( htmlTemplate( {uid: items[i].uid, left: td.position().left, top: td.position().top, patternValue: items[i].interface.pattern} ) );
											}
										}
									}
								}
						    }
						});

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initGrid"});
					}
				},//end fn_initGrid()

				//-----------------------------------------------------------------------
				// Description :: fn_getGridColumns
				//-----------------------------------------------------------------------
				fn_getGridColumns : function() {
					try {
						var fixLeftGridWidth = ($('#grid')[0].clientWidth / 10) * 7;
						var fixLeftCoulmnWidth = fixLeftGridWidth / 4;

						var labelCoulmn = $.main.fn_setGridColumnLabel();
						var columns =
						[
						 		/*
								{
									  title 	: labelCoulmn['#lbl-channelNm']
									, field 	: "interface.channel.channelNm"
									, width 	: fixLeftCoulmnWidth / 2
									, template  : "#= $.main.fn_gridColumnValueTemplate(interface.channel.channelNm) #"
									, locked	: true
									, hidden 	: true
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'text-align: center; white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-biz']
									, field 	: "business.businessNm"
									, width 	: fixLeftCoulmnWidth / 1.5
									, template  : "#= $.main.fn_gridColumnValueTemplate(business.businessNm) #"
									, locked	: true
									, hidden 	: true
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								},
								*/
								//----------------------------------------------
						    	//add.170622
						    	//----------------------------------------------
								{
									  title 	: "<input type='checkbox' id='interface-list-checkbox-title' onclick='$.main.fn_checkAllInterfaceGridRow(this)'>"
									, template 	: "<input type='checkbox' name='interface-list-checkbox' class='if-popup-ifCheckbox' onclick='$.main.fn_checkInterfaceGridRow(this)' >"
									, width   	: "60px"
									, locked	: true
									, headerAttributes: {
										 style	: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;  text-align: center;'
						            }
									, filterable: { multi: true, search: true }
								}
								,
								{
									  title 	: labelCoulmn['#lbl-integrationId']
									, field 	: "interface.integrationId"
			 						, width 	: fixLeftCoulmnWidth / 1.5
			 						, template  : "#= $.main.fn_gridColumnValueTemplate(interface.integrationId) #"
			 						, locked	: true
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;  text-align: center;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-interfaceNm']
									, field 	: "interface.interfaceNm"
									, width 	: fixLeftCoulmnWidth / 1.25
									, template  : "#= $.main.fn_gridColumnValueTemplate(interface.interfaceNm) #"
									, locked	: true
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}

								, {
									  title 	: labelCoulmn['#lbl-integrationType']
									, field 	: "interface.hasDataMapNm"
			 						, width 	: fixLeftCoulmnWidth / 1.7
			 						, template  : "#= $.main.fn_gridColumnValueTemplate(interface.hasDataMapNm) #"
			 						, locked	: false
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;  text-align: center;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-dataPrDir']
									, field 	: "interface.dataPrDirNm"
			 						, width 	: fixLeftCoulmnWidth / 1.8
			 						, template  : "#= $.main.fn_gridColumnValueTemplate(interface.dataPrDirNm) #"
			 						, locked	: false
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;  text-align: center;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-appPrMethod']
									, field 	: "interface.appPrMethodNm"
			 						, width 	: fixLeftCoulmnWidth / 1.8
			 						, template  : "#= $.main.fn_gridColumnValueTemplate(interface.appPrMethodNm) #"
			 						, locked	: false
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;  text-align: center;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-importance']
									, field 	: "interface.importanceNm"
			 						, width 	: fixLeftCoulmnWidth / 1.8
			 						, template  : "#= $.main.fn_gridColumnValueTemplate(interface.importanceNm) #"
			 						, locked	: false
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'white-space: nowrap;  text-align: center;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-source']['#lbl-source']
									, field 	: "merage1"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, columns: [
										{
											  title		: labelCoulmn['#lbl-source']['#lbl-orgNm']
											, field 	: "interface.senderSystemInfoList[0].orgNm"
											, template  : "#= $.main.fn_gridColumnNamePlusCodeTemplate(interface.senderSystemInfoList[0].orgNm, interface.senderSystemInfoList[0].orgCd) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "white-space: nowrap; text-align: center;"
											}
											, hidden 	: true
											, filterable: { multi: true, search: true }
										}
										, {
											  title		: labelCoulmn['#lbl-source']['#lbl-sysNm']
											, field 	: "interface.senderSystemInfoList[0].systemNm"
											, template  : "#= $.main.fn_gridColumnNamePlusCodeTemplate(interface.senderSystemInfoList[0].systemNm, interface.senderSystemInfoList[0].systemCd) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "white-space: nowrap; text-align: center;"
											}
											, filterable: { multi: true, search: true }
										}
										, {
											  title		: labelCoulmn['#lbl-source']['#lbl-resourceNm']
											, field 	: "interface.senderSystemInfoList[0].resourceNm"
											, template  : "#= $.main.fn_gridColumnValueTemplate(interface.senderSystemInfoList[0].resourceNm) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
											, filterable: { multi: true, search: true }
										}
										, {
											  title		: labelCoulmn['#lbl-source']['#lbl-svcNm']
											, field 	: "interface.senderSystemInfoList[0].service"
											, template  : "#= $.main.fn_gridColumnValueTemplate(interface.senderSystemInfoList[0].service) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
											, filterable: { multi: true, search: true }
										}
										, {
											  title		: labelCoulmn['#lbl-source']['#lbl-svcDescNm']
											, field 	: "interface.senderSystemInfoList[0].serviceDesc"
											, template  : "#= $.main.fn_gridColumnValueTemplate(interface.senderSystemInfoList[0].serviceDesc) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
											, filterable: { multi: true, search: true }
										}
									]

								}
								, {
									  title 	: labelCoulmn['#lbl-target']['#lbl-target']
									, field 	: "merage2"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, columns: [
										{
											  title		: labelCoulmn['#lbl-target']['#lbl-orgNm']
											, field 	: "interface.receiverSystemInfoList[0].orgNm"
											, template  : "#= $.main.fn_gridColumnNamePlusCodeTemplate(interface.receiverSystemInfoList[0].orgNm, interface.receiverSystemInfoList[0].orgCd) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "white-space: nowrap; text-align: center;"
											}
											, hidden 	: true
											, filterable: { multi: true, search: true }
										}
										, {
											  title		: labelCoulmn['#lbl-target']['#lbl-sysNm']
											, field 	: "interface.receiverSystemInfoList[0].systemNm"
											, template  : "#= $.main.fn_gridColumnNamePlusCodeTemplate(interface.receiverSystemInfoList[0].systemNm, interface.receiverSystemInfoList[0].systemCd) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "white-space: nowrap; text-align: center;"
											}
											, filterable: { multi: true, search: true }
										}
										, {
											  title		: labelCoulmn['#lbl-target']['#lbl-resourceNm']
											, field 	: "interface.receiverSystemInfoList[0].resourceNm"
											, template  : "#= $.main.fn_gridColumnValueTemplate(interface.receiverSystemInfoList[0].resourceNm) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
											, filterable: { multi: true, search: true }
										}
										, {
											  title: labelCoulmn['#lbl-target']['#lbl-svcNm']
											, field 	: "interface.receiverSystemInfoList[0].service"
											, template  : "#= $.main.fn_gridColumnValueTemplate(interface.receiverSystemInfoList[0].service) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
											, filterable: { multi: true, search: true }
										}
										, {
											  title: labelCoulmn['#lbl-target']['#lbl-svcDescNm']
											, field 	: "interface.receiverSystemInfoList[0].serviceDesc"
											, template  : "#= $.main.fn_gridColumnValueTemplate(interface.receiverSystemInfoList[0].serviceDesc) #"
											, width 	: fixLeftCoulmnWidth / 1.5
											, headerAttributes: {
												 style: "text-align: center;"
											}
											, attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
											, filterable: { multi: true, search: true }
										}
									]
								}
								, {
									  title 	: labelCoulmn['#lbl-regDate']
									, field 	: "regDate"
									, width 	: fixLeftCoulmnWidth / 1.5
									, template  : "#= $.main.fn_gridColumnValueTemplate(kendo.toString(kendo.parseDate(regDate, 'yyyyMMddHHmm'), 'yyyy/MM/dd')) #"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'text-align: center; white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}
								, {
									  title 	: labelCoulmn['#lbl-modDate']
									, field 	: "modDate"
									, width 	: fixLeftCoulmnWidth / 1.5
									, template  : "#= $.main.fn_gridColumnValueTemplate(kendo.toString(kendo.parseDate(modDate, 'yyyyMMddHHmm'), 'yyyy/MM/dd')) #"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'text-align: center; white-space: nowrap;'
						            }
									, filterable: { multi: true, search: true }
								}
								/*
								, {
									  title 	: labelCoulmn['#lbl-realFinYmd']
									, field 	: "realFinYmd"
									, width 	: fixLeftCoulmnWidth / 1.5
									, template  : "#= $.main.fn_gridColumnValueTemplate(kendo.toString(kendo.parseDate(realFinYmd, 'yyyyMMdd'), 'yyyy/MM/dd')) #"
									, headerAttributes: {
										 style: "text-align: center; vertical-align:middle;"
									}
									, attributes: {
							              style: 'text-align: center; white-space: nowrap;'
						            }
									, hidden 	: true
									, filterable: { multi: true, search: true }
								}
								,{
									  title 	: labelCoulmn['#lbl-stat']
									, field 	: "statusNm"
									, width 	: fixLeftCoulmnWidth / 1.5
									, template  : "#= $.main.fn_gridColumnValueTemplate(statusNm) #"
									, headerAttributes: {
										 style: "text-align:center; vertical-align:middle;"
									}
									, attributes: {
										 style: "text-align: center; white-space: nowrap;"
									}
									, filterable: { multi: true, search: true }
								}
								*/

						];

						//-----------------------------------------------------------------------
						// 사이트별 특성( 인터페이스 추가 속성 )
						//-----------------------------------------------------------------------
						var additionalAttributeList = mint.common.getCommonCode('interfaceAdditionalAttributeList');
						if( !mint.common.isEmpty( additionalAttributeList ) && additionalAttributeList.length > 0 ) {

							var columnList = [];
							var columnMerge =
							{
								title 	: mint.label.getLabel('lb-395') + ' ' + mint.label.getLabel('lb-209'),
								headerAttributes: {
									 style: "text-align: center; vertical-align:middle;"
								},
								columns : columnList,
							};

							for( var i = 0; i < additionalAttributeList.length; i++ ) {
								var item =   'add_' + additionalAttributeList[i].attrId;
								var column =
								{
									title 	: additionalAttributeList[i].attrNm,
									field   : "interface.propertiesValue." + item,
									width 	: fixLeftCoulmnWidth / 1.5,
									template: "#= $.main.fn_gridColumnValueTemplate(" + "interface.propertiesValue." + item  + ") #",
									headerAttributes: {
										 style: "text-align:center; vertical-align:middle;"
									},
									attributes: {
										 style: "text-align: center; white-space: nowrap;"
									},
									filterable: { multi: true, search: true }
								};
								columnList.push(column);
							}
							columns.push(columnMerge);
						}

						//-----------------------------------------------------------------------
						// 연계채널 특성
						//-----------------------------------------------------------------------
						var channelList = mint.common.commonCodeMap.get("channelList");
						if( !mint.common.isEmpty(channelList) && channelList.length > 0 ) {
							for( var i = 0; i < channelList.length; i++ ) {
								var relChlAttributes = channelList[i].relChlAttributes;
								if( !mint.common.isEmpty(relChlAttributes) && relChlAttributes.length > 0 ) {
									var columnList = [];
									var columnMerge =
									{
										title 	: mint.label.getLabel('lb-80') + '(' + channelList[i].channelNm + ') ' + mint.label.getLabel('lb-2004'),
										headerAttributes: {
											 style: "text-align: center; vertical-align:middle;"
										},
										columns : columnList,
									};

									for( var j = 0; j < relChlAttributes.length; j++ ) {
										var channelItem = channelList[i].channelId + '_' + relChlAttributes[j].attrId;
										var column =
										{
											title 	: relChlAttributes[j].attrNm,
											field   : "interface.propertiesValue." + channelItem,
											width 	: fixLeftCoulmnWidth / 1.5,
											template: "#= $.main.fn_gridColumnValueTemplate(" + "interface.propertiesValue." + channelItem  + ") #",
											headerAttributes: {
												 style: "text-align:center; vertical-align:middle;"
											},
											attributes: {
												 style: "text-align: center; white-space: nowrap;"
											},
											filterable: { multi: true, search: true }
										};
										columnList.push(column);
									}
									columns.push(columnMerge);
								}
							}
						}

						return columns;


					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getGridColumns"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: Grid Column Name + Code Template
				//-----------------------------------------------------------------------
				fn_gridColumnNamePlusCodeTemplate : function( name, code ) {
					try {
						if( mint.common.isEmpty(name) ) {
							return '';
						} else {
							return $.main.fn_gridColumnValueTemplate(name + mint.lb + code + mint.rb);
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_gridColumnNamePlusCodeTemplate"});
					}
				},//end fn_gridColumnNamePlusCodeTemplate()

				//-----------------------------------------------------------------------
				// Description :: Grid Column Value Template
				//-----------------------------------------------------------------------
				fn_gridColumnValueTemplate : function( value ) {
					try {
						if( mint.common.isEmpty(value) ) {
							return '';
						} else {
							return "<span title='"+ value +"'>"+ value +"</span>";
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_gridColumnValueTemplate"});
					}
				},//end fn_gridColumnValueTemplate()

				//-----------------------------------------------------------------------
				// Description :: 검색 결과 - Grid 컬럼 Label 설정
				//-----------------------------------------------------------------------
				fn_setGridColumnLabel : function() {
					try {
						var returnObject = {
								  '#lbl-channelNm'	: mint.label.getLabel('lb-80')
								, '#lbl-biz' 		: mint.label.getLabel('lb-81')
								, '#lbl-reqNm' 		: mint.label.getLabel('lb-83')
								, '#lbl-interfaceNm': mint.label.getLabel('lb-153')
								, '#lbl-integrationId': mint.label.getLabel('lb-154')
								, '#lbl-integrationType': mint.label.getLabel('lb-688')
								, '#lbl-dataPrDir'	: mint.label.getLabel('lb-155')
								, '#lbl-appPrMethod': mint.label.getLabel('lb-162')
								, '#lbl-importance' : mint.label.getLabel('lb-196')
								, '#lbl-source' 	:  {
										 '#lbl-source' 		: mint.label.getLabel('lb-98')
										,'#lbl-orgNm' 		: mint.label.getLabel('lb-820')
										,'#lbl-sysNm' 		: mint.label.getLabel('lb-82')
										,'#lbl-resourceNm' 	: mint.label.getLabel('lb-86')
									 	,'#lbl-svcNm' 		: mint.label.getLabel('lb-87')
									 	,'#lbl-svcDescNm'	: mint.label.getLabel('lb-556')
								}
								, '#lbl-target' 	:  {
									 	 '#lbl-target'		: mint.label.getLabel('lb-102')
									 	,'#lbl-orgNm' 		: mint.label.getLabel('lb-820')
										,'#lbl-sysNm' 		: mint.label.getLabel('lb-82')
										,'#lbl-resourceNm' 	: mint.label.getLabel('lb-86')
										,'#lbl-svcNm' 		: mint.label.getLabel('lb-87')
										,'#lbl-svcDescNm' 	: mint.label.getLabel('lb-556')
								}
								, '#lbl-stat'			: mint.label.getLabel('lb-106')
								, '#lbl-regDate'		: mint.label.getLabel('lb-71')
								, '#lbl-modDate'		: mint.label.getLabel('lb-582')
								, '#lbl-realFinYmd'		: mint.label.getLabel('lb-20')
						};
						return returnObject;
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setGridColumnLabel"});
					}
				},//end fn_setGridColumnLabel()

				//-----------------------------------------------------------------------
				// Description :: [페이지 관련] - Grid Page Event
				//-----------------------------------------------------------------------
				fn_gridPageEvent : function(event) {
					try {
						$.main.page     = parseInt(event.page);
						$.main.perCount = parseInt(event.sender.pager.pageSize());

						$.main.fn_getData(false);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_gridPageEvent"});
					}
				},//end fn_gridPageEvent()

				//-----------------------------------------------------------------------
				// Description :: [페이지 관련] - Grid ItemPerPage Event
				//-----------------------------------------------------------------------
				fn_gridItemPerPageEvent : function(event) {
					try {
						var grid = $('#grid').data('kendoGrid');
						if( $.main.perCount != grid.pager.pageSize() ) {
							$.main.perCount = grid.pager.pageSize();
							// 조회가 완료된 이후 페이지 값이 변경되면, 다시 조회하여 초기화 한다
							if( grid.dataSource.total() > 0 ) {
								$.main.fn_getData(true);
							}
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_gridItemPerPageEvent"});
					}
				},//end fn_gridItemPerPageEvent()

				//-----------------------------------------------------------------------
				// Description :: 조회 버튼 Click 이벤트
				//-----------------------------------------------------------------------
				fn_getData : function(isInitSearch) {
					try {
						var requestObject = new Object();

				    	//시스템명(equal)
				    	requestObject.systemId       = $('#hd-systemId').val();

				    	//-----------------------------------------------------------------------
				    	//인터페이스명(like)
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
				    	//requestObject.interfaceNm    = $("#cb-interfaceNm").data("kendoComboBox").value();
	                    //-----------------------------------------------------------------------
				    	requestObject.interfaceNm    = $("#tf-search-interfaceNm").val();

				    	//-----------------------------------------------------------------------
				    	//인터페이스 ID(like)
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
				    	//requestObject.integrationId  = $("#cb-integrationId").data("kendoComboBox").value();
	                    //-----------------------------------------------------------------------
				    	requestObject.integrationId  = $("#tf-search-integrationId").val();

				    	//-----------------------------------------------------------------------
				    	//서비스명(like)
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
				    	//requestObject.service       = $("#cb-svcNm").data("kendoComboBox").value();
	                    //-----------------------------------------------------------------------
	                    requestObject.service       = $("#tf-search-svcNm").val();

	                  	//-----------------------------------------------------------------------
				    	//서비스명(like)
	                    //-----------------------------------------------------------------------
	                    // 20170804 :: combobox --> textfield  로 변경
	                    //-----------------------------------------------------------------------
				    	//requestObject.serviceDesc    = $("#cb-svcDesc").data("kendoComboBox").value();
	                    //-----------------------------------------------------------------------
	                    requestObject.serviceDesc    = $("#tf-search-svcDesc").val();

				    	//인터페이스유형
				    	//requestObject.hasDataMap     = $("#cb-hasDataMap").data("kendoComboBox").value();

				    	//데이타 처리방향(거래종류 - 등록/조회)
				    	requestObject.dataPrDir    	= $("#cb-dataPrDir").data("kendoComboBox").value();
				    	//App 처리방식(동기구분 - 동기/비동기)
				    	requestObject.appPrMethod    = $("#cb-appPrMethod").data("kendoComboBox").value();
				    	//중요도(사용유무 - 사용/미사용)
				    	requestObject.importance     = $("#cb-importance").data("kendoComboBox").value();

	                    //-----------------------------------------------------------------------
	                    // 20170807 :: 고객 요구사항으로 '수신서비스' 조회 항목 추가.
	                    //-----------------------------------------------------------------------
						// Channel Attribute
						var propertiesList    = [];
						var channelItem = $("#cb-channelId").data("kendoDropDownList").dataItem();
						if( !mint.common.isEmpty(channelItem) ) {
							var relChlAttributes = channelItem.relChlAttributes;
							if( !mint.common.isEmpty(relChlAttributes) && relChlAttributes.length > 0 ) {
								for( var i = 0; i < relChlAttributes.length; i++ ) {
									var propertiesObject = new Object();
									propertiesObject.objectType = "InterfaceProperties";
									propertiesObject.channelId  = channelItem.channelId;
									propertiesObject.attrId     = relChlAttributes[i].attrId;
									propertiesObject.attrCd     = relChlAttributes[i].attrCd;
									propertiesObject.idx        = "0";
									propertiesObject.type       = "0"; //is Channel attribute
									propertiesObject.attrValue  = mint.common.isEmpty($('#tf-search-chlattr-' + relChlAttributes[i].attrCd).val()) ? '' : $('#tf-search-chlattr-' + relChlAttributes[i].attrCd).val();

									if( !mint.common.isEmpty(propertiesObject.attrValue) ) {
										propertiesList.push(propertiesObject);
									}

								}
							}
						}

						if( !mint.common.isEmpty(propertiesList) && propertiesList.length > 0 ) {
							requestObject.channelAttributes = propertiesList;
						}

						//-----------------------------------------------------------------------
						// [페이지 관련] - page, perCount 설정
						//-----------------------------------------------------------------------
				    	if( isInitSearch ) {
				    		$.main.page = 1;
				    	}

				    	requestObject.page     = $.main.page;
				    	requestObject.perCount = $.main.perCount;

						//-----------------------------------------------------------------------
						// 인터페이스ID 검색시 '_' escape 처리 로직
						//-----------------------------------------------------------------------
						var checkString = requestObject.integrationId;
						var idx = checkString.indexOf('_');
						if( idx == 0 || (checkString.length - 1) == idx ) {
							requestObject.integrationId = checkString.replace('_', '\\_');
							requestObject.integrationIdEscape = "\\";
						}

				    	$.main.requestObject = requestObject;

						//-----------------------------------------------------------------------
						// 페이징 처리를 위해 REST-R01-AN-01-00 --> REST-R08-AN-01-00 로 변경 되었음
						//-----------------------------------------------------------------------
				    	mint.callService(requestObject, 'AN-02-00-001', 'REST-R08-AN-01-00', '$.main.fn_setGridData', {errorCall : true, includeRequest : true});

						//-----------------------------------------------------------------------
						//add.170622
						//-----------------------------------------------------------------------
				    	$.main.interfaceListCheckbox = {};
				    	//-----------------------------------------------------------------------

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getData"});
					}
				},//end fn_getData()

				//-----------------------------------------------------------------------
				// Description :: 그리드 데이터 바인딩, 페이지 처리를 위해 serverPaging, total 설정
				//-----------------------------------------------------------------------
				fn_setGridData : function(requestObject, responseObject) {
					try {
						var dataSource = new kendo.data.DataSource({
							  data: $.main.fn_getGridDataCustom(responseObject)
						    , page: $.main.page
						    , pageSize: $.main.perCount
						    , serverPaging: true
						    , schema: {
						    	total: function() {
						    		return ($.main.totalCount = requestObject.total);
						    	}
						    }
						});


						$("#grid").data("kendoGrid").setDataSource(dataSource);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setGridData"});
					}
				},//end fn_setGridData()

				//-----------------------------------------------------------------------
				// Description :: Excel Data 조회
				//-----------------------------------------------------------------------
				fn_getGridExcelData : function() {
					try {
						$.main.requestObject.page     = 1;
						$.main.requestObject.perCount = $.main.totalCount;

				    	mint.callService($.main.requestObject, 'AN-02-00-001', 'REST-R08-AN-01-00', '$.main.fn_setGridExcelData', {errorCall : true, includeRequest : false});
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "fn_getGridExcelData"});
					}
				},//end fn_getGridExcelData()

				//-----------------------------------------------------------------------
				// Description :: 엑셀 저장용 그리드 데이터 바인딩
				//-----------------------------------------------------------------------
				fn_setGridExcelData : function(responseObject) {
					try {
						var jsonData = $.main.fn_getGridDataCustom(responseObject)
						var allData = [];

						//-----------------------------------------------------------------------
						// 송/수신 1:1, 1:N, N:1 관계의 모든 데이터를 export 하기 위해 로직 구현함
						//-----------------------------------------------------------------------
				    	for( var i = 0; i < jsonData.length; i++ ) {
				    		var sCnt = jsonData[i].interface.senderSystemInfoList.length;
				    		var rCnt = jsonData[i].interface.receiverSystemInfoList.length;

				    		for( var s = 0; s < sCnt; s++ ) {

				    			for( var r = 0; r < rCnt; r++ ) {

				    				var senderSystemInfoList = [];
				    				senderSystemInfoList.push( jsonData[i].interface.senderSystemInfoList[s] );

				    				var receiverSystemInfoList = [];
				    				receiverSystemInfoList.push( jsonData[i].interface.receiverSystemInfoList[r] );

									var row = JSON.parse(JSON.stringify(jsonData[i]));
									row.interface.senderSystemInfoList   = JSON.parse(JSON.stringify(senderSystemInfoList));
									row.interface.receiverSystemInfoList = JSON.parse(JSON.stringify(receiverSystemInfoList));

									//-----------------------------------------------------------------------
									// Name + Value 형식 반영
									//-----------------------------------------------------------------------
									{
										row.interface.senderSystemInfoList[0].orgNm    = row.interface.senderSystemInfoList[0].orgNm + mint.lb + row.interface.senderSystemInfoList[0].orgCd + mint.rb;
										row.interface.senderSystemInfoList[0].systemNm = row.interface.senderSystemInfoList[0].systemNm + mint.lb + row.interface.senderSystemInfoList[0].systemCd + mint.rb;


										row.interface.receiverSystemInfoList[0].orgNm    = row.interface.receiverSystemInfoList[0].orgNm + mint.lb + row.interface.receiverSystemInfoList[0].orgCd + mint.rb;
										row.interface.receiverSystemInfoList[0].systemNm = row.interface.receiverSystemInfoList[0].systemNm + mint.lb + row.interface.receiverSystemInfoList[0].systemCd + mint.rb;
									}

									allData.push(row);
				    			}
				    		}
				    	}

						var dataSource = new kendo.data.DataSource({
							  data: allData
						    , page:1
						    , pageSize:mint.ui.getPageSizesS({'currentPage' : true})
						});

						var gridExcel = $("#grid-excel").data("kendoGrid");
						gridExcel.setDataSource(dataSource);
					    gridExcel.saveAsExcel();

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setGridExcelData"});
					}
				},//end fn_setGridExcelData()

				//-----------------------------------------------------------------------
				// Description :: fn_getGridDataCustom
				//-----------------------------------------------------------------------
				fn_getGridDataCustom : function(jsonData) {
					try {
						if( !mint.common.isEmpty(jsonData) ) {

							for(var i=0; i<jsonData.length; i++) {
								//-----------------------------------------------------------------------
								// 연계채널별 속성, 인터페이스 추가 속성 바인딩을 위한 로직 구현
								//-----------------------------------------------------------------------
								var propertiesValue = new Object();
								jsonData[i].interface.propertiesValue = propertiesValue;
								if( !mint.common.isEmpty(jsonData[i].interface.properties) && jsonData[i].interface.properties.length > 0 ) {
									for( var k = 0; k < jsonData[i].interface.properties.length; k++ ) {
										if( jsonData[i].interface.properties[k].type == "0" ) {
											propertiesValue[jsonData[i].interface.properties[k].channelId + '_' + jsonData[i].interface.properties[k].attrId] = jsonData[i].interface.properties[k].attrValue;
										} else if ( jsonData[i].interface.properties[k].type == "1" ) {
											propertiesValue['add_' + jsonData[i].interface.properties[k].attrId] = jsonData[i].interface.properties[k].attrValue;
										}
									}
								} else {
									propertiesValue['unknown'] = '';
								}

								//-----------------------------------------------------------------------
								// 1:N, N:1 디스플레이용 로직 구현
								//-----------------------------------------------------------------------
								var senderSystemInfoList = jsonData[i].interface.senderSystemInfoList;
								var receiverSystemInfoList = jsonData[i].interface.receiverSystemInfoList;
								if( senderSystemInfoList.length == receiverSystemInfoList.length ) {
									jsonData[i].interface.pattern = ''; // 1:1
								} else if( (senderSystemInfoList.length > receiverSystemInfoList.length) && senderSystemInfoList.length > 1 ) {
									jsonData[i].interface.pattern = 'N:1';
								} else if( (senderSystemInfoList.length < receiverSystemInfoList.length) && receiverSystemInfoList.length > 1 ) {
									jsonData[i].interface.pattern = '1:N';
								} else {
									jsonData[i].interface.pattern = '';
								}
							}
						}

						return jsonData;
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getGridDataCustom"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: Grid DBClick 이벤트 - 상세 화면 이동
				//-----------------------------------------------------------------------
				fn_moveRequirementDetail : function() {
					try {
						var entityGrid = $("#grid").data("kendoGrid");
				        var selectedItem = entityGrid.dataItem(entityGrid.select());

				        mint.setDetailView('Y');
				        mint.common.setScreenParam("requirementId", selectedItem.requirementId);
			      		mint.move('../sub-an/AN-01-00-603');
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_moveRequirementDetail"});
					}
				},//end fn_moveRequirementDetail()

				//-----------------------------------------------------------------------
				// Description :: fn_systemInfoDetail
				//-----------------------------------------------------------------------
				fn_systemInfoDetail : function(event) {
					try {
						var uid          = $('#' + event.currentTarget.id).data('uid');
						var entityGrid   = $("#grid").data("kendoGrid");
						var selectedItem = entityGrid.dataItem("tr[data-uid='" + uid + "']");
						var htmlTemplate = kendo.template($('#template-grid-system-detail').html());


						var options = new Object();
						{
							options.toggle    = 'popover';
							options.trigger   = 'foucs hover';
							options.container = 'body';
							options.html      = true;
							options.title     = 'System Info Detail';
							options.content   = htmlTemplate( {interface: selectedItem.interface} );
						}

						$('#pattern-' + selectedItem.uid).popover(options);
						$('#pattern-' + selectedItem.uid).popover('show');

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_systemInfoDetail"});
					}
				},//end fn_systemInfoDetail()

		      	//-----------------------------------------------------------------------
				// Description :: 시스템 정보 셋팅
				//-----------------------------------------------------------------------
				fn_setSystemInfo : function(selectedItem) {
					try {

						if( mint.common.isEmpty(selectedItem) ) {
							$('#tf-systemNm').val('');
							$('#hd-systemNm').val('');
							$('#hd-systemId').val('');
						} else {
							$('#tf-systemNm').val(selectedItem.systemNm +  mint.lb + selectedItem.systemCd + mint.rb);
							$('#hd-systemNm').val(selectedItem.systemNm);
							$('#hd-systemId').val(selectedItem.systemId);

							//$.main.fn_setSearchNode('tf-systemNm', 'input');
	                        //$.main.fn_getSearchInfo('systemNm', selectedItem.systemNm);
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_setSystemInfo"});
					}
				},//end fn_setSystemInfo()

				//-----------------------------------------------------------------------
				// Description :: 인터페이스 들여오기 내보내기 버튼 초기화
				// add.170724
				//-----------------------------------------------------------------------
				fn_initImportExportButton : function() {
					if( mint.session.isInterfaceAdmin() == "Y") {
						$(".btn-export").show();
						$(".btn-import").show();
					}
				},//end fn_initImportExportButton
				//-----------------------------------------------------------------------
				// Description :: 인터페이스 리스트 - 그리드 체크박스 클릭 이벤트
				// add.170622
				//-----------------------------------------------------------------------
				fn_checkInterfaceGridRow : function(node) {
					try {
					    var checked = node.checked,
					    row = $(node).closest("tr"),
					    grid = $("#grid").data("kendoGrid"),
					    dataItem = grid.dataItem(row);
					    $.main.interfaceListCheckbox[dataItem.uid] = {'checked':checked, 'dataItem':dataItem};

					    if (checked) {
					        //-select the row
					        //row.addClass("k-state-selected");
					    } else {
					        //-remove selection
					        //row.removeClass("k-state-selected");
					    }
					    //console.log("checked:" + checked);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_checkIntefaceGridRow"});
					}
				},//end fn_checkDataSetGridRow()
				//-----------------------------------------------------------------------
				// Description :: 인터페이스 리스트 - 그리드 전체 체크박스 클릭 이벤트
				// add.170622
				//-----------------------------------------------------------------------
				fn_checkAllInterfaceGridRow : function(node) {
					try {
					    $('input[name=interface-list-checkbox]:checkbox').each(function() {
							$(this).prop('checked', $('#interface-list-checkbox-title').is(':checked'));
							var checked = $('#interface-list-checkbox-title').is(':checked');
							row = $(this).closest('tr');
						    grid = $('#grid').data('kendoGrid');
						    dataItem = grid.dataItem(row);
							$.main.interfaceListCheckbox[dataItem.uid] = {'checked':checked, 'dataItem':dataItem};
						    if (checked) {
						        //-select the row
						        //row.addClass("k-state-selected");
						    } else {
						        //-remove selection
						        //row.removeClass("k-state-selected");
						    }
						});
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_checkIntefaceGridRow"});
					}
				},//end fn_checkAllInterfaceGridRow()

				//-----------------------------------------------------------------------
				// Description :: 170622
				// 인터페이스 내보내기를 위한 상세 리스트 조회
				//-----------------------------------------------------------------------
				fn_getRequirementDetailList : function(requirementIdList){
					try{


						var requestObject = requirementIdList;

 						//-----------------------------------------------------------------------
						// REST-R09-AN-01-00 요건 상세 리스트 조회
						//-----------------------------------------------------------------------
				    	mint.callService(requestObject, 'AN-04-00-601', 'REST-R09-AN-01-00', '$.main.fn_saveAsJsonFile', {errorCall : true});


					}catch( e ){
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getRequirementDetailList"});
					}
				},//fn_getRequirementDetailList
				//-----------------------------------------------------------------------
				// Description :: 170622
				// 인터페이스 내보내기를 위한 상세 리스트 조회후 호출 콜백함수 - 로컬 JSON 파일로 저장 처리
				//-----------------------------------------------------------------------
				fn_saveAsJsonFile : function(interfaceList) {
					try {
						//console.log("records:" + JSON.stringify(interfaceList));
						var textToSave = JSON.stringify(interfaceList);
					    var textToSaveAsBlob = new Blob([textToSave], {type:"text/plain"});
					    var textToSaveAsURL = window.URL.createObjectURL(textToSaveAsBlob);
					    var fileNameToSaveAs = "인터페이스이관-" + mint.common.formatDateTime(new Date(),"yyyyMMdd")+".json";
					    var downloadLink = document.createElement("a");
					    downloadLink.download = fileNameToSaveAs;
					    downloadLink.innerHTML = "Download File";
					    downloadLink.href = textToSaveAsURL;
					    //downloadLink.onclick = destroyClickedElement;
					    downloadLink.style.display = "none";
					    document.body.appendChild(downloadLink);
					    downloadLink.click();
					    document.body.removeChild(downloadLink);
					}catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_saveAsJsonFile"});
					}
				},//fn_saveAsJsonFile
				//-----------------------------------------------------------------------
				// Description :: 170622
				// 인터페이스 내보내기 처리를 위한 파일 업로드 컨트롤 초기화
				//-----------------------------------------------------------------------
				fn_initInterfaceFileUpload : function() {
					try {

						kendo.ui.Upload.fn._supportsDrop = function() { return false; }
				 		$("#interfaceFileUpload").kendoUpload({
				 			  files: []
							, multiple: false
				 			, async: {
				 				saveUrl: mint.baseServiceUrl + "/ut/interface/upload",
				 				//removeUrl: "remove",
				 				autoUpload: false
				 			}
				 			, localization: {
				 				//select: mint.label.getLabel('lb-220')
				 				select : "인터페이스파일(JSON)"
				 			}

				 			, select : function(e) {
				 				//console.log('-----------------------------------------------------------------------------------');
				 				//console.log(' select ');
								//console.log(e);
								//console.log('-----------------------------------------------------------------------------------');
				 				var selectFile = e.files[0];
				 				if( ! mint.common.isEmpty(selectFile) && selectFile.extension.toLowerCase() != '.json' ) {
				 					mint.common.alert('확장자가 .json 파일만 업로드 할 수 있습니다.');
				 					e.preventDefault();
				 				}

	                    		if( mint.common.invalidFileName(selectFile.name) ) {
	                    			mint.common.alert('CW00015', selectFile.name);
	                    			e.preventDefault();
	                    		}

				 	            // custom button 활용
				 	            setTimeout(function() {
				 	            	$.main.kendoUploadButton = $(".k-upload-selected");
				 	            	$.main.kendoUploadButton.hide();
				 	            }, 1);
				 			}
				 			, upload: function(e) {
				 				//----------------------------------------------------------------------
				 				// CASE#1 e.data 에 설정하기
				 				//----------------------------------------------------------------------

				 				{
				 					e.data = {comments:$('#tf-upload-comments').val(), userId:mint.session.getUserId()};
				 				}



				 			}

				 			, progress: function(e) {
				 				mint.waitingLoad(true);
				 				//console.log('-----------------------------------------------------------------------------------');
				 				//console.log(' progress ');
								//console.log(e);
								//console.log('-----------------------------------------------------------------------------------');
				 			}
				 			, cancel: function(e) {
				 				//console.log('-----------------------------------------------------------------------------------');
				 				//console.log(' cancel ');
								//console.log(e);
								//console.log('-----------------------------------------------------------------------------------');
				 			}
				 			, error: function(e) {
				 				//console.log('-----------------------------------------------------------------------------------');
				 				//console.log(' error ');
								//console.log(e);
								//console.log('-----------------------------------------------------------------------------------');
								$.main.fn_uploadCheck(e.XMLHttpRequest)
				 			}
				 			, success: function(e) {
				 				//console.log('-----------------------------------------------------------------------------------');
				 				//console.log(' success ');
								//console.log(e);
								//console.log('-----------------------------------------------------------------------------------');
								$.main.fn_uploadCheck(e.XMLHttpRequest)
				 			}
				 			, complete: function(e) {
				 				mint.waitingLoad(false);
				 				//console.log('-----------------------------------------------------------------------------------');
				 				//console.log(' complete ');
								//console.log(e);
								//console.log('-----------------------------------------------------------------------------------');
				 			}

				 			, remove: function(e) {
				 				var files = e.files;

				 		       	for(var i=0; i<$('#interfaceFileUpload').data("kendoUpload").options.files.length; i++) {
				 		   			if(files[0].uid == $('#file').data("kendoUpload").options.files[i].uid) {
				 		   				$('li.k-file[data-uid="' + files[0].uid + '"]').remove();
				 		   				$('#interfaceFileUpload').data("kendoUpload").options.files.splice(i, 1);
				 		   			    e.preventDefault();
				 		   			}
				 		   		}
				 		    }


				 		});



					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_initInterfaceFileUpload"});
					}
				},//fn_initInterfaceFileUpload
				//-----------------------------------------------------------------------
				// Description :: 170627
				// 인터페이스 내보내기 파일 업로드 결과 처리
				//-----------------------------------------------------------------------
				fn_uploadCheck : function( xhr ) {
					try {
						var httpStatus = xhr.status;
						if( httpStatus == 200 ) {
							//-----------------------------------------------------------------------
							// Response ComMessage
							//-----------------------------------------------------------------------
							var msg = JSON.parse(xhr.responseText);
							if( msg.errorCd == 0 ) {
								var jsonData = msg.responseObject;
								var params = [jsonData.totalCount, jsonData.resultCount];
								mint.common.alert('CI00109', params);
								$('#AN-01-00-601-POPUP-01').modal('hide');

							} else {
								$('#AN-01-00-601-POPUP-01').modal('hide');
								mint.common.errorDialog('Service', msg.errorCd, msg.errorMsg, msg.errorDetail);
							}

						} else {
							switch( httpStatus ) {
								case 12029 : //server shutdown
									alertMsg = mint.message.getMessage('CE12029', null);
									break;
								case 404 :
									alertMsg = mint.message.getMessage('CE10404', null);
									break;
								default :
									alertMsg = mint.message.getMessage('CE10000', httpStatus);
									break;
							}
							mint.common.errorDialog('Http', httpStatus, alertMsg, null);
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_uploadCheck"});
					}
				},//fn_uploadCheck
				//-----------------------------------------------------------------------
				// Description :: 인터페이스 upload 실행
				//-----------------------------------------------------------------------
				fn_interfaceUpload : function() {
					try {
						$.main.kendoUploadButton.click();
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_interfaceUpload"});
					}
				},//fn_interfaceUpload

				//-----------------------------------------------------------------------
				// Description :: 170711
				//-----------------------------------------------------------------------
				//to export interface data whith json zip file format
				fn_exportInterfaces : function(){
					try{
						var requestObject = new Object();
				    	mint.callService(requestObject, 'AN-01-00-601', 'REST-S01-IM-04-03', '$.main.fn_exportInterfacesResult', {errorCall : true});
					}catch( e ){
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_exportInterfaces"});
					}
				},//fn_exportInterfaces

				//-----------------------------------------------------------------------
				// Description :: 170711
				//-----------------------------------------------------------------------
				//to export interface data whith json zip file format
				fn_exportInterfacesResult : function(responseObject, errorCd, errorMsg){
					try{
						var resultFile = responseObject.compressFilePath + '/' + responseObject.compressFileName;
						alert(errorMsg + "\n" + resultFile);

					}catch( e ){
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_exportInterfacesResult"});
					}
				},//fn_exportInterfacesResult

				//-----------------------------------------------------------------------
				// Description :: 연계 채널 추가 속성
				//-----------------------------------------------------------------------
				fn_channelAdditionalAttribute : function() {
					try {
						$('#chl-search-attr-div').html('');
						var channelItem = $("#cb-channelId").data("kendoDropDownList").dataItem();

						if( !mint.common.isEmpty(channelItem) ) {
							var relChlAttributes = channelItem.relChlAttributes;
							if( !mint.common.isEmpty(relChlAttributes) && relChlAttributes.length > 0 ) {
								for( var i = 0; i < relChlAttributes.length; i++ ) {
									// 현대해상 요구사항에 따른 하드코딩(수신서비스만 조회조건에 추가함)
									if( relChlAttributes[i].attrCd != 'A0006' ) continue;
									var htmlTemplate = kendo.template($('#template-search-channelAttribute').html());
									$('#chl-search-attr-div').append( htmlTemplate({attrCd: relChlAttributes[i].attrCd, attrNm: relChlAttributes[i].attrNm }) );
									if( (i+1) % 3  == 0 ) {
										$('#chl-search-attr-div').append('<hr class="hr-space">');
									}

									$("#tf-search-chlattr-" + relChlAttributes[i].attrCd ).keydown($.main.fn_enterKeyEvent);
								}
							} else {

							}
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_channelAdditionalAttribute"});
					}
				},

			}// end main
		});// end extends

		//=======================================================================
		// (4) 이벤트 핸들러 정의
		//=======================================================================

		//-----------------------------------------------------------------------
		// Description :: 조회 버튼 Click 이벤트
		//-----------------------------------------------------------------------
		$(".btn-search").click(function () {
			$.main.fn_getData(true);
        });

		//-----------------------------------------------------------------------
		// Description :: 등록 버튼 Click 이벤트
		//-----------------------------------------------------------------------
		$(".btn-register").click(function () {
			mint.move('../sub-an/AN-01-00-602',{detailView:'Y'});
        });

		//-----------------------------------------------------------------------
		// Description :: 검색조건 초기화 클릭
		//-----------------------------------------------------------------------
		$('.btn-clear').on('click', function() {
        	$.main.fn_clearSearchArea();
    	});

		//-----------------------------------------------------------------------
		// Description :: 인터페이스명 변경시 event 함수
		//-----------------------------------------------------------------------
		$('#cb-interfaceNm').change(function(e) {
			//$.main.fn_setSearchNode('cb-interfaceNm', 'combo');
			//$.main.fn_getSearchInfo('interfaceNm', $("#cb-interfaceNm").data("kendoComboBox").value());
		});

		//-----------------------------------------------------------------------
		// Description :: 인터페이스ID 변경시 event 함수
		//-----------------------------------------------------------------------
		$('#cb-integrationId').change(function(e) {
			//$.main.fn_setSearchNode('cb-integrationId', 'combo');
			//$.main.fn_getSearchInfo('integrationId', $("#cb-integrationId").data("kendoComboBox").value());
		});

		//-----------------------------------------------------------------------
		// Description :: 시스템명 변경시 event 함수
		//-----------------------------------------------------------------------
		$('#tf-systemNm').on('click', function () {
			mint.common.setScreenParam('orgId', $('#hd-orgId').val());
			mint.common.setScreenParam('callback', '$.main.fn_setSystemInfo');
			mint.common.searchPopup('../sub-co/CO-01-00-901.html','CO-01-00-901');
		});

		//-----------------------------------------------------------------------
		// Description :: 그리드 Row DBClick 이벤트 설정 (상세 조회)
		//-----------------------------------------------------------------------
		$('#grid').on('dblclick', "tr.k-state-selected", function () {
			$.main.fn_moveRequirementDetail();
		});

		//-----------------------------------------------------------------------
		// Description :: 그리드 .label-flag focus, hover 이벤트
		//-----------------------------------------------------------------------
		$('#grid').on('focus mouseenter', ".label-flag", function (e) {
			$.main.fn_systemInfoDetail(e);
		});

		//-----------------------------------------------------------------------
		// Description :: 인터페이스 내보내기 클릭
		//-----------------------------------------------------------------------
		$('.btn-export').on('click', function() {
			var checkboxCount = $("input[name=interface-list-checkbox]:checked").length;

			if(0 == checkboxCount) {
				mint.common.alert('BW00022', null);
			} else {

				var requirementList = [];
				for(var j in $.main.interfaceListCheckbox){
					if($.main.interfaceListCheckbox[j].checked) {
						var tempInterfaceObject = new Object();
						tempInterfaceObject = $.main.interfaceListCheckbox[j].dataItem;
						requirementList.push(tempInterfaceObject.requirementId);
					}
 				}

				$.main.fn_getRequirementDetailList(requirementList);
			}
    	});

		//-----------------------------------------------------------------------
		// Description :: 인터페이스 내보내기(전체) 클릭
		//-----------------------------------------------------------------------
		$('.btn-export-server').on('click', function() {
			$.main.fn_exportInterfaces();
    	});

		//-----------------------------------------------------------------------
		// Description ::인터페이스 들여오기 클릭
		//-----------------------------------------------------------------------
		$('.btn-import').on('click', function() {
			try {
			    $(".k-upload-files.k-reset").remove();
			    $(".k-upload-status.k-upload-status-total").remove();
			    $("#tf-upload-comments").val('');
				$('#AN-01-00-601-POPUP-01').modal({
					backdrop: 'static'
				});
			}
			catch (e) {
				mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "btn-interfaceUpload.click"});
			}

    	});

		//-----------------------------------------------------------------------
		// Description :: 인터페이스 들여오기 팝업-들여오기 실행
		//-----------------------------------------------------------------------
		$(".btn-jsonUpload-save").click(function(e) {
			try {
				$.main.fn_interfaceUpload();
			}
			catch (e) {
				mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "btn-jsonUpload-save.click"});
			}
		});


		//-----------------------------------------------------------------------
		// Description ::인터페이스 들여오기 클릭
		//-----------------------------------------------------------------------
		$('.btn-import-server').on('click', function() {
			mint.common.alert('개발중....');
    	});


		//=======================================================================
		// (5) 기타 Function 정의
		//=======================================================================

		//=======================================================================
		// (6) 화면 로딩시 실행할 항목 기술
		//=======================================================================
		$.main.fn_init();
		mint.label.attachLabel(null);

	});


</script>