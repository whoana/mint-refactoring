<!--
	Screen ID : AN-01-00-602
	Screen NM : 현대해상-인터페이스 등록/수정
	[변경 이력]
	* YYYYMMDD-###
	  - xx
	* 20170110-001
	  - 프로그램 개선
	* 20171017-001
	  - 인터페이스유형이 Routing/Mapping 일때 수신목적지 필수항목으로 체크 로직 추가
-->

<!--location -->
<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-5">
 		<h2 class="lb-change"><lb class="lb-11"></lb></h2>
		<ol class="breadcrumb">
	        <li><lb class="lb-9"></lb></li>
	        <li class="active"><strong class="lb-change"><lb class="lb-11"></lb></strong></li>
		</ol>
	</div>
</div>
<!--location end-->

<!--wrapper wrapper-content-->
<div class="wrapper wrapper-content animated fadeInRight" >

	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5><lb class="lb-109"></lb></h5>
                    <div class="ibox-tools" id="requirement-help">
                    	<!-- <a id="popupSrchInterface" class="a2" style="color: #666666;"><i class="fa fa-search"></i> <lb class="lb-314"></lb></a> -->
                    	<a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</div>
					<div style="float: right; padding: 0px 20px 0px 0px;">
			            <a class="btn btn-w-m btn-default btn-outline btn-save"><i class="fa fa-save"></i> <lb class="lb-310"></lb></a>
			            <a class="btn btn-w-m btn-default btn-outline btn-cancel" style="display:none;"><i class="fa fa-times"></i> <lb class="lb-143"></lb></a>
			            <a class="btn btn-w-m btn-default btn-outline btn-back"><i class="fa fa-reply"></i> <lb class="lb-311"></lb></a>
					</div>
				</div>

              	<div class="ibox-content">

                   	<div class="row">

						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="label-tag-4"><lb class="lb-3002"></lb></label>
									<input id="tf-businessDisplayNm" name="businessDisplayNm" type="text" class="input-tag-4 k-textbox" placeholder="" readonly="readonly">
									<input id="hd-businessId" name="businessId" type="hidden">
									<input id="hd-businessCd" name="businessCd" type="hidden">
									<input id="hd-businessNm" name="businessNm" type="hidden">
								</div>
							</div>
						</div>

						<div class="col-sm-4">
							<div class="form-horizontal">
                               	<div class="form-group">
                               		<label class="label-tag-4"><lb class="lb-3004"></lb></label>
                               		<input id="tf-interfaceNm" name="interfaceNm" type="text" class="input-tag-4 k-textbox" placeholder="">
                               		<input id="hd-interfaceId" name="interfaceId"type="hidden">
                              	</div>
							</div>
						</div>

						<div class="col-sm-4">
							<div class="form-horizontal">
	                            <div class="form-group">
	                            	<label class="label-tag-4"><lb class="lb-3005"></lb></label>
                                	<input id="tf-integrationId" name="integrationId" type="text" class="input-tag-4 k-textbox" placeholder="">
                              	</div>
							</div>
						</div>

						<hr class="hr-space">
						<div class="col-sm-12">
							<div class="b-col"></div>
						</div>
						<hr class="hr-space">

						<div class="col-sm-4">
							<div class="form-horizontal">
                               	<div class="form-group">
                               		<label class="label-tag-4"><lb class="lb-3007">등록자</lb></label>
                               		<input id="tf-regUserNm"    name="regUserNm"    type="text" class="input-tag-4 input-tag-disabled k-textbox" style="text-align:center;" placeholder="" readonly="readonly" disabled="disabled">
                               		<input id="hd-regUserId"    name="regUserId"    type="hidden">
                               		<input id="hd-regCellPhone" name="regCellPhone" type="hidden">
                               		<input id="hd-regPhone"     name="regPhone"     type="hidden">
                               		<input id="hd-regEmail"     name="regEmail"     type="hidden">
                              	</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
	                            <div class="form-group">
	                            	<label class="label-tag-4"><lb class="lb-3008">등록일</lb></label>
                                	<input id="tf-regDate" name="regDate" type="dates" class="input-tag-4 input-tag-disabled k-textbox" style="text-align:center;" placeholder="" readonly="readonly" disabled="disabled">
                              	</div>
							</div>
						</div>
						<div class="col-sm-4">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="label-tag-4"><lb class="lb-3009">수정일</lb></label>
									<input id="tf-modDate" name="modDate" type="dates" class="input-tag-4 input-tag-disabled k-textbox" style="text-align:center;" placeholder="" readonly="readonly" disabled="disabled">
								</div>
							</div>
						</div>

                       	<div class="col-sm-4" style="display:none;">
                       		<div class="form-horizontal">
                       			<div class="form-group">
									<label class="label-tag-4"><lb class="lb-3001">기관</lb></label>
									<input id="tf-orgNm" name="orgNm" type="text" class="input-tag-4 k-textbox" placeholder="" readonly="readonly">
									<input id="hd-orgId" name="orgId" type="hidden">
									<input id="hd-orgCd" name="orgCd" type="hidden">
								</div>
							</div>
						</div>
						<div class="col-sm-4" style="display:none;">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="label-tag-4"><lb class="lb-3003"></lb></label>
									<input id="tf-requirementNm" name="requirementNm" type="text" class="input-tag-4 k-textbox" placeholder="">
									<input id="hd-requirementNm" name="requirementId" type="hidden">
									<input id="hd-requirementId" name="requirementId" type="hidden">
								</div>
							</div>
						</div>
						<div class="col-sm-4" style="display:none">
							<div class="form-horizontal">
								<div class="form-group">
									<label class="label-tag-4"><lb class="lb-3006"></lb></label>
									<input id="tf-statusNm" name="statusNm" type="text" class="input-tag-4 input-tag-disabled k-textbox" style="text-align:center;" placeholder="" readonly="readonly" disabled="disabled">
									<input id="hd-statusCd" name="statusCd" type="hidden">
								</div>
							</div>
						</div>
					</div><!-- end row -->
           		</div>
           	</div>
       	</div>
   	</div>



	<div class="row">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5><lb class="lb-3010"></lb></h5>
                    <div class="ibox-tools" id="requirement-help">
                    	<a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
					</div>
				</div>
              	<div class="ibox-content">
                   	<div class="row">

                   		<div class="col-sm-4">
							<form class="form-horizontal">
                                <div class="form-group">
                               		<span class="lable_tag"><lb class="lb-196"></lb></span>
                                    <div>
                                 		<label style="padding-left:10px;"><input type="radio" name="rb-important" value="0" checked="true"> <lb class="lb-519"></lb> </label>
                                    	<label style="padding-left:10px;"><input type="radio" name="rb-important" value="1"> <lb class="lb-558"></lb> </label>
                                   	</div>
                              	</div>
                          	</form>
						</div>

                   		<hr class="hr-space">
						<div class="col-sm-12">
							<div class="b-col"></div>
						</div>
                   		<hr class="hr-space">

                       	<div class="col-sm-4">
							<div class="form-horizontal">
	                            <div class="form-group">
	                        		<label class="label-tag-4"><lb class="lb-3017">Data처리방향</lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000003','H003')"></a></label>
	                             	<input id="cb-dataPrDirNm" name="dataPrDirNm" type="combobox" class="input-tag-4">
                            	</div>
                        	</div>
						</div>

						<div class="col-sm-4">
							<div class="form-horizontal">
                               	<div class="form-group">
	                           		<label class="label-tag-4"><lb class="lb-3019">App처리방식</lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000003','H005')"></a></label>
									<input id="cb-appPrMethodNm" name="appPrMethodNm" type="combobox" class="input-tag-4">
                             	</div>
                          	</div>
						</div>

						<div class="col-sm-4">
							<div class="form-horizontal">
                               	<div class="form-group">
	                           		<label class="label-tag-4"><lb class="lb-688">인터페이스 유형</lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000003','H005')"></a></label>
									<input id="cb-hasDataMapNm" name="hasDataMapNm" type="combobox" class="input-tag-4">
                             	</div>
                          	</div>
						</div>

                   		<hr class="hr-space">

						<div class="col-sm-12">
	                   		<div id="add-attr-div" class="row"></div>
	                   	</div>

                   		<hr class="hr-space">

						<div class="col-sm-12">
	                   		<div id="chl-attr-div" class="row"></div>
	                   	</div>

					</div><!-- end row -->

					<div class="row">
						<div class="col-sm-12">
							<h4><lb class="lb-180">연계시스템</lb></h4>
							<div id="gd-system"></div>
						</div>
					</div>
           		</div>
           	</div>
       	</div>
   	</div>






	<div class="row" style="display:none;">
		<div class="col-lg-12">
			<div class="tabs-container">
				<div class="tabs-lefts">
					<ul id="tab-interface-info" class="nav nav-tabs">
						<li class="active"><a data-toggle="tab" href="#tab01"><lb class="lb-3010">기본정보</lb></a></li>
						<li class=""><a data-toggle="tab" href="#tab02"><lb class="lb-3011">연계시스템</lb></a></li>
						<li class=""><a data-toggle="tab" href="#tab03"><lb class="lb-3012">담당자</lb></a></li>
						<li class=""><a data-toggle="tab" href="#tab04"><lb class="lb-3013">스케줄</lb></a></li>
						<li class=""><a data-toggle="tab" href="#tab05"><lb class="lb-3014">부가정보</lb></a></li>
						<li class=""><a data-toggle="tab" href="#tab06"><lb class="lb-3015">기타</lb></a></li>
					</ul>
					<div class="tab-content">
						<!-- 기본정보 -->
						<div id="tab01" class="tab-pane active">
							<div class="panel-body">
		                 		<div class="row">
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
				                            <div class="form-group">
				                            	<label class="label-tag-4"><lb class="lb-3018">Data처리방식</lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000003','H004')"></a></label>
				                              	<input id="cb-dataPrMethodNm" name="dataPrMethodNm" type="combobox" class="input-tag-4">
			                              	</div>
				                   		</div>
									</div>
			                       	<div class="col-sm-4" style="display:none;">
			                       		<div class="form-horizontal">
			                       			<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3016">연계채널</lb></label>
												<input id="cb-channelNm" name="channelNm" type="combobox" class="input-tag-4">
											</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
				                            <div class="form-group">
				                            	<label class="label-tag-4"><lb class="lb-3020">데이터순차보장</lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000003','H006')"></a></label>
				                                <input id="cb-dataOrderYn" name="dataOrderYn" type="combobox" class="input-tag-4">
			                              	</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
			                               	<div class="form-group">
				                               	<label class="label-tag-4"><lb class="lb-3021">발생주기</lb></label>
				                                <input id="cb-dataFrequencyNm" name="dataFrequencyNm" type="text" class="input-tag-4">
			                              	</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
			                               	<div class="form-group">
			                               		<label class="label-tag-4"><lb class="lb-3022">발생주기상세</lb><a class="help-over-label" onclick="mint.ui.help(this, 'AP00000003','H007')"></a></label>
			                                  		<input id="tf-dataFrequencyInput" name="dataFrequencyInput" type="text" class="input-tag-4 k-textbox" placeholder="">
			                              	</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
				                            <div class="form-group">
				                            	<label class="label-tag-4"><lb class="lb-3023">건당사이즈</lb></label>
			                                  		<input id="nf-sizePerTran" name="sizePerTran" type="number" class="input-tag-4" min="0" step="1" max="999999999" placeholder="0">
			                            	</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
			                               	<div class="form-group">
			                               		<label class="label-tag-4"><lb class="lb-3024">주기별건수</lb></label>
			                                  		<input id="nf-cntPerFrequency" name="cntPerFrequency" type="number" class="input-tag-4" min="0" step="1" max="999999999" placeholder="0">
			                              	</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
										<div class="form-horizontal">
				                            <div class="form-group">
				                            	<label class="label-tag-4"><lb class="lb-3025">일일발생횟수</lb></label>
			                                	<input id="nf-cntPerDay" name="cntPerDay" type="number" class="input-tag-4" min="0" step="1" max="999999999" placeholder="0">
			                              	</div>
										</div>
									</div>
									<div class="col-sm-4" style="display:none;">
				                       	<form class="form-horizontal" >
				                            <div class="form-group" >
				                            	<label class="label-tag-4"><lb class="lb-3026">일일총전송량</lb></label>
			                                	<input id="nf-qttPerDay" type="number" class="input-tag-4" disabled="disabled">
				                           	</div>
				                       	</form>
			                   		</div>
		    					</div>
							</div><!-- end panel-body -->
						</div>

						<!-- 연계 시스템 -->
						<div id="tab02" class="tab-pane">

						</div><!-- end tab-pane -->

						<div id="tab03" class="tab-pane">
							<div class="panel-body">
		                 		<div class="row">
		 							<div class="col-lg-12">
		 	  							<div id="gd-user"></div>
			               			</div>
		    					</div>
							</div><!-- end panel-body -->
						</div><!-- end tab-pane -->


						<div id="tab04" class="tab-pane">
							<div class="panel-body">

								<div class="row">

									<div class="col-sm-4">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3027"></lb></label>
												<input id="df-devExpYmd" name="devExpYmd" class="input-tag-4" style="text-align:center;">
											</div>
										</div>
									</div>

									<div class="col-sm-4">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3029"></lb></label>
												<input id="df-testExpYmd" name="testExpYmd" class="input-tag-4" style="text-align:center;">
											</div>
										</div>
									</div>

									<div class="col-sm-4">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3031"></lb></label>
												<input id="df-realExpYmd" name="realExpYmd" class="input-tag-4" style="text-align:center;">
											</div>
										</div>
									</div>

									<hr class="hr-space">

									<div class="col-sm-4">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3028"></lb></label>
												<input id="df-devFinYmd" name="devFinYmd" class="input-tag-4" style="text-align:center;">
											</div>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3030"></lb></label>
												<input id="df-testFinYmd" name="testFinYmd" class="input-tag-4" style="text-align:center;">
											</div>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="form-horizontal">
											<div class="form-group">
												<label class="label-tag-4"><lb class="lb-3032"></lb></label>
												<input id="df-realFinYmd" name="realFinYmd" class="input-tag-4" style="text-align:center;" readonly="readonly">
											</div>
										</div>
									</div>

								</div>
							</div><!-- end panel-body -->
						</div><!-- end tab-pane -->



						<div id="tab05" class="tab-pane">
							<div class="panel-body">


			                   	<!-- 인터페이스 패턴 -->
			                   	<div id="" style="border-style: none none none; display:none;">
									<div style="float:left"><h3><lb class="lb-191"></lb><a class="help-over-title" onclick="mint.ui.help(this, 'AP00000003','H010')"></a></h3></div>
				                   	<div class="ibox-tools">
										<a id="popupInterfacePattern" class="a2" style="color: #666666;"><i class="fa fa-search"></i> <lb class="lb-192"></lb></a>
				                   	</div>

				                   	<div class="row">

										<div class="col-lg-12">
				                   			<div style="background-color:#f3f3f4; width:100%; padding:15px 0px 15px 0px;">
				                   				<div id="patternTitle" class="col-lg-5" style="padding:40px 0px 0px 70px;">
				                   					<h2></h2><h4></h4>
				                   				</div>
				                   				<div id="patternImg">
				                   					<img src="../../img/empty.png">
				                   				</div>
				                   			</div>
				                   		</div>
									</div>
	  							</div>




								<!-- 장애영향도 -->
								<div id="" style="border-style: none none none; display:none;">
			                        <ul class="category-list" style="padding: 0">
			                        	<li><i class="fa fa-circle text-primary" style="color: #1c84c6;"></i> <lb class="lb-195"></lb></li>
			                        </ul>
			                      	<div class="col-sm-4">
										<form class="form-horizontal">
			                                <div class="form-group">
			                               		<label class="label-tag-4"><lb class="lb-196"></lb></label>
			                                    <div>
			                                    	<!--
			                                 		<label style="padding-left:10px;"><input type="radio" name="rb-important" value="0" > <lb class="lb-197"></lb> </label>
			                                    	<label style="padding-left:10px;"><input type="radio" name="rb-important" value="1" checked="checked"> <lb class="lb-198"></lb></label>
			                                   		<label style="padding-left:10px;"><input type="radio" name="rb-important" value="2" > <lb class="lb-199"></lb> </label>
			                                   		-->
			                                   	</div>
			                              	</div>
			                          	</form>
									</div>

			                        <div class="col-sm-4">
										<form class="form-horizontal">
			                                <div class="form-group">
			                                   	<label class="label-tag-4"><lb class="lb-200"></lb></label>
												<input id="nf-maxDelayTime" name="maxDelayTime" type="number" class="input-tag-4" style="width: 30%;" value="1"/>
			                                    <input id="cb-maxDelayUnit" name="maxDelayUnit" type="text"   class="input-tag-4" style="width: 23%; text-align: center;">
			                           		</div>
			                           	</form>
									</div>

			                        <div class="col-sm-4">
										<form class="form-horizontal">
			                                <div class="form-group">
			                                	<span class="label-tag-4"><lb class="lb-201"></lb></span>
			                                    <input id="nf-maxErrorTime" name="maxErrorTime" type="number" class="input-tag-4" style="width: 30%;" value="1" />
												<input id="cb-maxErrorUnit" name="maxErrorUnit" type="text"   class="input-tag-4" style="width: 23%; text-align: center;">
			                             	</div>
			                        	</form>
									</div>
								</div>

								<hr class="hr-space">
								<hr class="hr-space">

		                        <ul class="category-list" style="padding: 0">
		                        	<li><i class="fa fa-circle text-primary" style="color: #1c84c6;"></i> <lb class="lb-3033"></lb></li>
		                        </ul>
			                	<div class="row">
			                       	<div class="col-sm-12">
			                       		<input id="fu-uploadFile" name="uploadFile" type="file" />
									</div>
			               		</div>

								<hr class="hr-space">
								<hr class="hr-space">

		                        <ul class="category-list" style="padding: 0">
		                        	<li><i class="fa fa-circle text-primary" style="color: #1c84c6;"></i> <lb class="lb-3034"></lb></li>
		                        </ul>
		                        <div class="row">
		                        	<div class="col-sm-12">
		                        	<textarea id="ta-description" rows="5" cols="30" style="height:200px"></textarea>
		                        	</div>
		                        </div>

								<hr class="hr-space">
								<hr class="hr-space">



							</div><!-- end panel-body -->
						</div><!-- end tab-pane -->

						<div id="tab06" class="tab-pane">
							<div id="division-line">
		                   		<hr class="hr-space">
								<div class="col-sm-12">
									<div class="b-col"></div>
								</div>
		                   		<hr class="hr-space">
							</div>
						</div><!--  end tab-pane -->

						<div class="panel-body" style="padding-top:1px;padding-bottom:15px; display:none;">
		                	<div class="row">
								<div class="col-lg-12">
									<div class="bs-callout01">
										<h4><lb class="lb-149"></lb></h4>
										<div id="requirement-user" style="float:left">
											<span id="requirement-userNm"></span><span id="requirement-cellPhone"></span><span id="requirement-phone"></span><span id="requirement-email"></span>
											<span id="requirement-userNm-hidden"></span>
											<span id="requirement-cellPhone-hidden"></span>
											<span id="requirement-phone-hidden"></span>
											<span id="requirement-email-hidden"></span>
									</div>
									<div style="float:right"><i class="fa fa-clock-o"></i> <lb class="lb-150"></lb> : <span id="requirement-regDate">2015-06-18</span></div>
									</div>
								</div>
		               		</div>
						</div><!-- end panel-body -->

					</div><!--  end tab-content -->
				</div><!-- end tab-position -->
			</div><!-- end tabs-container -->
       	</div><!--  end col-sm-12 -->
	</div><!-- end row -->
</div><!-- end wrapper -->

<script type="text/x-kendo-template" id="template-additionalAttribute">
	<div class="col-sm-4">
		<div class="form-horizontal">
			<div class="form-group">
				<label class="label-tag-4">#= attrNm #</label>
				<input id="tf-addattr-#= attrCd #" name="#= attrCd #" type="text" class="input-tag-4 k-textbox" placeholder="" data-name="#= attrNm #">
			</div>
		</div>
	</div>
</script>

<script type="text/x-kendo-template" id="template-channelAttribute">
	<div class="col-sm-4">
		<div class="form-horizontal">
			<div class="form-group">
				<label class="label-tag-4">#= attrNm #</label>
				<input id="tf-chlattr-#= attrCd #" name="#= attrCd #" type="text" class="input-tag-4 k-textbox" placeholder="" data-name="#= attrNm #">
			</div>
		</div>
	</div>
</script>


<script type="text/x-kendo-template" id="template-systemSearch">
	<div>
		<span class="btn-systemSearch" style="float: right; padding:5px 10px 5px 0px; cursor: pointer;" onclick="$.main_detail.fn_btnSystemSearchClickEvent();">
			<i class='fa fa-plus-square'></i> <lb class="lb-327"></lb></span>
		</span>
	</div>
</script>

<script type="text/x-kendo-template" id="template-userSearch">
	<div>
		<span class="btn-userSearch" style="float: right; padding:5px 10px 5px 0px; cursor: pointer;" onclick="$.main_detail.fn_btnUserSearchClickEvent();">
			<i class='fa fa-plus-square'></i> <lb class="lb-327"></lb></span>
		</span>
	</div>
</script>


<script>
	$(document).ready(function(){
		//=======================================================================
		//(1) function 및 variable scope 설정 :: (메인은 main, 팝업 및 서브는 sub)
		//=======================================================================
		screenName = "AN-01-00-002";
		$.extend({
			main_detail : {
				//=======================================================================
				// (2) Screen 에서 사용할 variable 정의
				//=======================================================================
				isSupplement : false,
				isModify : false,
				requirementId : '',
				uploadFileSelectedCount : 0,
				uploadFileCount : 0,
				uploadFileInfoList : [],
				autoCreateIntegrationID : false,
				//=======================================================================
				// (3) Screen 에서 사용할 function 정의
				//=======================================================================

				//-----------------------------------------------------------------------
				// Description :: 화면 초기화
				//-----------------------------------------------------------------------
				fn_init : function() {
					try {
						mint.init('$.main_detail.fn_initCallback');
						mint.common.siteMenuPath(screenName);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_init"});
					}
				},//end fn_init()

				//-----------------------------------------------------------------------
				// Description :: 화면 초기화 콜백
				//-----------------------------------------------------------------------
				fn_initCallback : function() {
					try {
						//-----------------------------------------------------------------------
						// 화면 초기화
						//-----------------------------------------------------------------------
						$.main_detail.isModify = mint.common.getScreenParam('isModify');
						$.main_detail.fn_initComponent(null);
						$.main_detail.fn_enableComponent(false);

						//-----------------------------------------------------------------------
						// 결재권한자가 문서보완 작업을 진행하는지 여부 체크
						//-----------------------------------------------------------------------
						$.main_detail.isSupplement = mint.common.getScreenParam('isSupplement');
						if( !mint.common.isEmpty($.main_detail.isSupplement) && $.main_detail.isSupplement === true ) {
							var msg = '<span><h4>문서보완 편집중입니다.</h4></span>';
							mint.common.jobNotification(msg);
						}

						//-----------------------------------------------------------------------
						// 수정건인지 체크
						//-----------------------------------------------------------------------
						if( !mint.common.isEmpty($.main_detail.isModify) && $.main_detail.isModify === true ) {
							$.main_detail.requirementId = mint.common.getScreenParam('requirementId');
							$('.btn-cancel').show();
							$('.lb-change').text( mint.label.getLabel('lb-12') );


				      		if( ! mint.common.isEmpty( $.main_detail.requirementId ) ) {
								mint.callService(null, 'AN-01-00-602', 'REST-R02-AN-01-00', '$.main_detail.fn_setInterfaceInfo',
									{
								    	  errorCall : true
								    	, params : {requirementId : $.main_detail.requirementId}
								    }
								);
				      		}
						}

						//-----------------------------------------------------------------------
						// Screen Parameter Clear
						//-----------------------------------------------------------------------
						{
							mint.common.removeScreenParam('isSupplement');
							mint.common.removeScreenParam('isModify');
							mint.common.removeScreenParam('requirementId');
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_initCallback"});
					}
				},//end fn_initCallback()

				//-----------------------------------------------------------------------
				// Description :: component enable/disable
				//-----------------------------------------------------------------------
				fn_enableComponent : function(flag) {
					try {
						$("#df-devFinYmd").data("kendoDatePicker").enable(flag);
						$("#df-testFinYmd").data("kendoDatePicker").enable(flag);
						$("#df-realFinYmd").data("kendoDatePicker").enable(flag);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_enableComponent"});
					}
				},//end fn_enableComponent()

				//-----------------------------------------------------------------------
				// Description :: component 초기화
				//-----------------------------------------------------------------------
				fn_initComponent : function(options) {
					try {

						//공통코드에 넣든가 하자.
						var YesNoValue = [{ nm: 'Yes', value: 'Y' }, { nm: 'No', value: 'N' }];

						mint.ui.setDropDownList('cb-channelNm'      , mint.common.commonCodeMap.get("channelList"), 0, 'channelNm', 'channelNm');
						mint.ui.setDropDownList('cb-dataPrDirNm'    , mint.common.commonCodeMap.get("cds").IM01   , 0, 'nm'       , 'nm'       );
						mint.ui.setDropDownList('cb-dataPrMethodNm' , mint.common.commonCodeMap.get("cds").IM12   , 0, 'nm'       , 'nm'       );
						mint.ui.setDropDownList('cb-appPrMethodNm'  , mint.common.commonCodeMap.get("cds").IM02   , 0, 'nm'       , 'nm'       );
						mint.ui.setDropDownList('cb-dataOrderYn'    , YesNoValue                                  , 1, 'nm'       , 'value'    );
						mint.ui.setDropDownList('cb-dataFrequencyNm', mint.common.commonCodeMap.get("cds").IM03   , 2, 'nm'       , 'nm'       );
						mint.ui.setDropDownList('cb-hasDataMapNm'	, mint.common.commonCodeMap.get("cds").AN14   , 0, 'nm'       , 'nm'       );

						mint.ui.setNumericTextBox('nf-sizePerTran'    , {min:0, step:1, decimals:1, format:'#,### byte'}, $.main_detail.fn_setQttPerDay);
						mint.ui.setNumericTextBox('nf-cntPerFrequency', {min:0, step:1, decimals:1, format:'n0'}        , $.main_detail.fn_setQttPerDay);
						mint.ui.setNumericTextBox('nf-cntPerDay'      , {min:0, step:1, decimals:1, format:'n0'}        , $.main_detail.fn_setQttPerDay);
						mint.ui.setNumericTextBox('nf-qttPerDay'      , {min:0, step:1, decimals:1, format:'#,### byte'}, $.main_detail.fn_setQttPerDay);

						//스케줄
						mint.ui.setDatePicker('df-devExpYmd');
						mint.ui.setDatePicker('df-devFinYmd');
						mint.ui.setDatePicker('df-testExpYmd');
						mint.ui.setDatePicker('df-testFinYmd');
						mint.ui.setDatePicker('df-realExpYmd');
						mint.ui.setDatePicker('df-realFinYmd');

						//장애영향도
						mint.ui.setNumericWithoutMax('nf-maxDelayTime', 1, 1, 'n0');
						mint.ui.setDropDownList('cb-maxDelayUnit', mint.common.commonCodeMap.get("cds").IM05, 0, 'nm', 'nm');

						mint.ui.setNumericWithoutMax('nf-maxErrorTime', 1, 1, 'n0');
						mint.ui.setDropDownList('cb-maxErrorUnit', mint.common.commonCodeMap.get("cds").IM06, 0, 'nm', 'nm');

						$("#cb-maxDelayUnit").data("kendoDropDownList").value('분');
						$("#cb-maxErrorUnit").data("kendoDropDownList").value('시');


						//요건 등록자 정보
						$('#tf-regUserNm').val( mint.session.getUserNm() );
						$('#hd-regUserId').val( mint.session.getUserId() );
						$('#hd-regUserCellPhone').val( mint.session.getCellPhone() );
						$('#hd-regUserPhone').val( mint.session.getPhone() );
						$('#hd-regEmail').val( mint.session.getEmail() );
				        $('#tf-regDate').val( mint.common.getTodayDate() );



						//-----------------------------------------------------------------------
						// 연계시스템 그리드
						//-----------------------------------------------------------------------
						$.main_detail.fn_initSystemGrid();

						//-----------------------------------------------------------------------
						// 담당자 그리드
						//-----------------------------------------------------------------------
						$.main_detail.fn_initUserGrid();


						//-----------------------------------------------------------------------
						// 파일 업로드
						//-----------------------------------------------------------------------
						if( mint.common.isEmpty($.main_detail.isModify) || $.main_detail.isModify === false ) {
							$.main_detail.fn_initFileUpload([]);
						}

						//-----------------------------------------------------------------------
						// Description
						//-----------------------------------------------------------------------
						$("#ta-description").kendoEditor({
				        	resizable: {
				            	  content: true
				            	, toolbar: true
				            }
				        });


						//-----------------------------------------------------------------------
						// 기타 Tab 설정.
						//-----------------------------------------------------------------------
						$.main_detail.fn_interfaceAdditionalAttribute();
						$.main_detail.fn_channelAdditionalAttribute();

						$('input[type=number]').css("text-align", 'right');

						//-----------------------------------------------------------------------
						// 환경설정값에 때라 integrationId 설정여부 . 20170317
						//-----------------------------------------------------------------------

						var envVal = mint.common.commonCodeMap.get("environmentalValues");
						if( !mint.common.isEmpty(envVal) ) {
							if( !mint.common.isEmpty(envVal["system.auto.interfaceId.create"]) ) {
								if($.parseJSON(envVal["system.auto.interfaceId.create"][0].trim().toLowerCase())){
									$("#tf-integrationId").prop("readonly", "true");
									$("#tf-integrationId").prop("disabled", "disabled");
									$("#tf-integrationId").prop("class", "input-tag-4 input-tag-disabled k-textbox");
									$.main_detail.autoCreateIntegrationID = true;

									if( !mint.common.isEmpty(envVal["system.auto.interfaceId.interface.admin.create"]) ) {
										if($.parseJSON(envVal["system.auto.interfaceId.interface.admin.create"][0].trim().toLowerCase())){
										 	if(mint.session.isInterfaceAdmin() =='Y'){
												$("#tf-integrationId").prop("readonly", "");
												$("#tf-integrationId").prop("disabled", "");
												$("#tf-integrationId").prop("class", "input-tag-4 k-textbox");
											}
										}
									}
								}
							}
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_initComponent"});
					}
				},//end fn_initComponent()


				//-----------------------------------------------------------------------
				// Description :: init System Grid
				//-----------------------------------------------------------------------
				fn_initSystemGrid : function(jsonData) {
					try {
						$("#gd-system").kendoGrid({
				          	dataSource : $.main_detail.fn_getSystemGridDataSource([])
							, filterable: false
							, scrollable: true
							, resizable: true
				            , sortable: true
				            , selectable: true
				            , editable: "inline"
				            , toolbar : kendo.template( $("#template-systemSearch").html() )
							, columns: [
										{
											//template	: '#=$.main_detail.fn_templateGridDeleteButton(reUseDelYn, "gd-system")#',
											template: '#=mint.ui.gridRowDeleteButton("gd-system", reUseDelYn, "systemDisplayNm", null)#',
											width: "30px",
											headerAttributes: {
												 style: "text-align: center; vertical-align:middle;"
											},
											attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
										},

										{
											field : "nodeTypeNm",
											title : mint.label.getLabel('lb-3035'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
											editor : mint.ui.gridEditorNodeTypeComboBox,
										},
										{
											field : "orgDisplayNm",
											title : mint.label.getLabel('lb-3036'),
											hidden : true,
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},

										},
										{
											field : "systemDisplayNm",
											title : mint.label.getLabel('lb-3037'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
										},
										{
											field : "resourceNm",
											title : mint.label.getLabel('lb-3038'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
											editor : mint.ui.gridEditorResourceTypeComboBox,
										},
										{
											field : "service",
											title :  mint.label.getLabel('lb-3039'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
										},

										{
											field : "serviceDesc",
											title : mint.label.getLabel('lb-3040'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
										},

										{ field : "systemId"   , hidden : true },
										{ field : "systemCd"   , hidden : true },
										{ field : "systemNm"   , hidden : true },
										{ field : "orgId"      , hidden : true },
										{ field : "orgCd"      , hidden : true },
										{ field : "orgNm"      , hidden : true },
										{ field : "businessId" , hidden : true },
										{ field : "businessCd" , hidden : true },
										{ field : "businessNm" , hidden : true },
										{ field : "nodeTypeCd" , hidden : true },
										{ field : "resourceCd" , hidden : true },
										{ field : "seq"        , hidden : true }

							]
							, edit : function(e) {
								var row = this.tbody.find("tr[data-role='editable']");
								this.select(row);
							}
							, dataBound: function (e) {
						    	if(0 == $("#gd-system").data().kendoGrid.dataSource.view().length) {
						    		$("#gd-system").children(".k-grid-content").height('150');
						    	} else {
						    		$("#gd-system").children(".k-grid-content").height('auto');
						    	}
						    }
				        });
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_initSystemGrid"});
					}
				},//end fn_initSystemGrid()

				//-----------------------------------------------------------------------
				// Description :: init User Grid
				//-----------------------------------------------------------------------
				fn_initUserGrid : function(jsonData) {
					try {
						$("#gd-user").kendoGrid({
				          	dataSource : $.main_detail.fn_getUserGridDataSource([])
							, filterable: false
							, scrollable: true
							, resizable: true
				            , sortable: true
				            , selectable: true
				            , editable: "inline"
				            , toolbar : kendo.template( $("#template-userSearch").html() )
							, columns: [
										{
											//template: '#=$.main_detail.fn_templateGridDeleteButton(reUseDelYn, "gd-user")#'
											template: '#=mint.ui.gridRowDeleteButton("gd-user", reUseDelYn, "userNm", null)#',
											width: "30px",
											headerAttributes: {
												 style: "text-align: center; vertical-align:middle;"
											},
											attributes: {
												 style: "text-align: center; white-space: nowrap;"
											}
										},
										{
											field : "roleTypeNm",
											title : mint.label.getLabel('lb-3041'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
											editor : mint.ui.gridEditorRoleTypeComboBox,

										},
										{
											field : "systemDisplayNm",
											title : mint.label.getLabel('lb-3042'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
											hidden : true
										},
										{
											field : "userNm",
											title : mint.label.getLabel('lb-3043'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
										},
										{
											field : "cellPhone",
											title :  mint.label.getLabel('lb-3044'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
										},
										{
											field : "phone",
											title : mint.label.getLabel('lb-3045'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},
										},
										{
											field : "email",
											title : mint.label.getLabel('lb-3046'),
											headerAttributes : {
												style : "text-align: center"
											},
											attributes : {
												style : "text-align: center; white-space: nowrap;"
											},

										},

										{ field : "userId"     , hidden : true },
										{ field : "roleTypeCd" , hidden : true },
										{ field : "systemId"   , hidden : true },
										{ field : "systemCd"   , hidden : true },
										{ field : "systemNm"   , hidden : true },
										{ field : "seq"        , hidden : true }

							]
							, edit : function(e) {
								var row = this.tbody.find("tr[data-role='editable']");
								this.select(row);
							}
							, dataBound: function (e) {
						    	if(0 == $("#gd-user").data().kendoGrid.dataSource.view().length) {
						    		$("#gd-user").children(".k-grid-content").height('150');
						    	} else {
						    		$("#gd-user").children(".k-grid-content").height('auto');
						    	}

						    }
				        });
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_initUserGrid"});
					}
				},//end fn_initUserGrid()


				//-----------------------------------------------------------------------
				// Description :: init File Upload
				//-----------------------------------------------------------------------
				fn_initFileUpload : function(jsonData) {
					try {
				 		//kendo.ui.Upload.fn._supportsDrop = function() { return false; }// kendo upload Drop 영역 비활성
				 		$("#fu-uploadFile").kendoUpload({
				 			 files: jsonData,
				 			 async: {
				 				saveUrl: mint.baseServiceUrl + "/ut/file/upload",//TODO: REST 정보에 관리되도록 조치할것.
				 				removeUrl: "remove",
				 				autoUpload: false
					 		},
				 			localization: {
				 				select: mint.label.getLabel('lb-220')
				 			},
				 			select : function(e) {
		                    	for( var i = 0; i < e.files.length; i++ ) {
		                    		if( e.files[i].size == 0 ) {
		                    			mint.common.alert('CW00013', e.files[i].name);
		                    			e.preventDefault();
		                    		}

		                    		if( mint.common.invalidFileName(e.files[i].name) ) {
		                    			mint.common.alert('CW00015', e.files[i].name);
		                    			e.preventDefault();
		                    		}
		                    	}
				 				$.main_detail.uploadFileSelectedCount = e.files.length;
				 			},
				 			upload: function(e) {
								e.data = {userId:mint.session.getUserId()};
				 			},
				 			progress: function(e) {
				 				$.main_detail.fn_uploadProgress(e);
				 			},
				 			cancel: function(e) {

				 			},
				 			error: function(e) {
				 				$.main_detail.fn_uploadCheck(e.XMLHttpRequest);
				 			},
				 			success: function(e) {
				 				$.main_detail.fn_uploadCheck(e.XMLHttpRequest);
				 			},
				 			complete: function(e) {
				 				$.main_detail.fn_uploadComplete(e);
				 			},
				 			remove: function(e) {
								$.main_detail.fn_removeFile(e);
				 		    },

				 		});
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_initFileUpload"});
					}
				},//end fn_initFileUpload()

				//-----------------------------------------------------------------------
				// Description :: System Grid DataSource
				//-----------------------------------------------------------------------
				fn_getSystemGridDataSource : function(jsonData) {
					try {

						var	dataSource = new kendo.data.DataSource({
								  data: jsonData
							    , page:1
							    //, pageSize: mint.ui.getPageSizesXXS({'currentPage' : true})
							    , schema: {
							    	model: $.main_detail.fn_getSystemGridModel()
							    }
							});

						return dataSource;
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getSystemGridDataSource"});
					}
				},//end fn_getSystemGridDataSource()

				//-----------------------------------------------------------------------
				// Description :: System Grid Model
				//-----------------------------------------------------------------------
				fn_getSystemGridModel : function() {
					try {
						var SystemGridModel = new kendo.data.Model.define({
							id: "systemId",
							fields: {
								seq             : {editable: true,   nullable: false,  defaultValue: ""},
								nodeTypeNm      : {editable: true,   nullable: false,  defaultValue: ""},
								orgDisplayNm    : {editable: false,  nullable: false,  defaultValue: ""},
								systemDisplayNm : {editable: false,  nullable: false,  defaultValue: ""},
								resourceNm      : {editable: true,   nullable: false,  defaultValue: ""},
								service         : {editable: true,   nullable: false,  defaultValue: ""},
								serviceDesc     : {editable: true,   nullable: false,  defaultValue: ""},
		            			systemId	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			systemCd	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			systemNm	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			orgId	        : {editable: false,  nullable: false,  defaultValue: ""},
		            			orgCd	        : {editable: false,  nullable: false,  defaultValue: ""},
		            			orgNm	        : {editable: false,  nullable: false,  defaultValue: ""},
		            			businessId	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			businessCd	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			businessNm	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			nodeTypeCd 	    : {editable: false,  nullable: false,  defaultValue: ""},
		            			resourceCd 	    : {editable: false,  nullable: false,  defaultValue: ""},
							}
						});

						return SystemGridModel;

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getSystemGridModel"});
					}
				}, //end fn_getSystemGridModel()

				//-----------------------------------------------------------------------
				// Description :: User Grid DataSource
				//-----------------------------------------------------------------------
				fn_getUserGridDataSource : function(jsonData) {
					try {

						var	dataSource = new kendo.data.DataSource({
								  data: jsonData
							    , page:1
							    //, pageSize: mint.ui.getPageSizesXXS({'currentPage' : true})
							    , schema: {
							    	model: $.main_detail.fn_getUserGridModel()
							    }
							});

						return dataSource;
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getUserGridDataSource"});
					}
				},//end fn_getUserGridDataSource()

				//-----------------------------------------------------------------------
				// Description :: User Grid Model
				//-----------------------------------------------------------------------
				fn_getUserGridModel : function() {
					try {

						var UserModel = new kendo.data.Model.define({
		            		id: "userId",
		            		fields: {
		            			objectType	: {editable: false, nullable: false, defaultValue: "User"},
		            			userId	    : {editable: false, nullable: false, defaultValue: ""},
		            			userNm	    : {editable: false, nullable: false, defaultValue: ""},
		            			password	: {editable: false, nullable: false, defaultValue: ""},
		            			companyNm	: {editable: false, nullable: false, defaultValue: ""},
		            			cellPhone   : {editable: false, nullable: false, defaultValue: ""},
		            			phone	    : {editable: false, nullable: false, defaultValue: ""},
		            			email	    : {editable: false, nullable: false, defaultValue: ""},
		            		}
						});

						var UserGridModel = new kendo.data.Model.define({
							id: "userId",
		            		fields: {
		            			seq	        : {editable: false, nullable: false, defaultValue: ""},
		            			roleTypeNm	: {editable: true},

		            			//TODO : 중첩필드 적용은 어떻게 하는지 찾아볼것, 테스트 결과 안되네...
			            		user        : {editable: false,  nullable: false, defaultValue: new UserModel()},
		            			userId	    : {editable: false, nullable: false, defaultValue: ""},
		            			userNm	    : {editable: false, nullable: false, defaultValue: ""},
		            			password	: {editable: false, nullable: false, defaultValue: ""},
		            			companyNm	: {editable: false, nullable: false, defaultValue: ""},
		            			cellPhone   : {editable: false, nullable: false, defaultValue: ""},
		            			phone	    : {editable: false, nullable: false, defaultValue: ""},
		            			email	    : {editable: false, nullable: false, defaultValue: ""},
		            			roleTypeCd  : {editable: false, nullable: false, defaultValue: ""},

		            			//TODO : 삼성전기버전의 필드인데, 불필요시 향후 삭제할것.
		            			systemDisplayNm	: {editable: false,  nullable: false, defaultValue: ""},
		            			systemId	: {editable: false,  nullable: true,  defaultValue: ""},
		            			systemCd	: {editable: false,  nullable: true,  defaultValue: ""},
		            			systemNm	: {editable: false,  nullable: true,  defaultValue: ""},
		            		}
						});

						return UserGridModel;

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_getUserGridModel"});
					}
				}, //end fn_getUserGridModel()



				//-----------------------------------------------------------------------
				// Description :: 파일 업로드 상태 체크
				//-----------------------------------------------------------------------
				fn_uploadCheck : function( xhr ) {
					try {
						var httpStatus = xhr.status;
						if( httpStatus == 200 ) {
							//-----------------------------------------------------------------------
							// Response ComMessage
							//-----------------------------------------------------------------------
							var msg = JSON.parse(xhr.responseText);
							if( msg.errorCd == 0 ) {

								var responseObject = msg.responseObject;
								if( !mint.common.isEmpty(responseObject) && !mint.common.isEmpty(responseObject[0]) ) {
									var uploadFileInfo = new Object();
									uploadFileInfo.fileNm   = responseObject[0].fileNm;
									uploadFileInfo.filePath = responseObject[0].filePath;
									$.main_detail.uploadFileInfoList.push(uploadFileInfo);

									$.main_detail.uploadFileCount ++;
								}

							} else {
								mint.common.errorDialog('Service', msg.errorCd, msg.errorMsg, msg.errorDetail);
								{
									$(".k-upload-files.k-reset").find("li").remove();
									$.main_detail.uploadFileSelectedCount = 0;
									$.main_detail.uploadFileCount = 0;
									$.main_detail.uploadFileInfoList = [];
								}
							}

						} else {
							switch( httpStatus ) {
								case 12029 : //server shutdown
									alertMsg = mint.message.getMessage('CE12029', null);
									break;
								case 404 :
									alertMsg = mint.message.getMessage('CE10404', null);
									break;
								default :
									alertMsg = mint.message.getMessage('CE10000', httpStatus);
									break;
							}
							mint.common.errorDialog('Http', httpStatus, alertMsg, null);
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main.fn_uploadCheck"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: 파일 업로드시 진행시.
				//-----------------------------------------------------------------------
				fn_uploadProgress : function(event) {
					try {
						mint.waitingLoad(true);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_uploadProgress"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: 파일 업로드 완료시.
				//-----------------------------------------------------------------------
				fn_uploadComplete : function(event) {
					try {
						mint.waitingLoad(false);
						//파일 업로드가 최종적으로 완료되면, save 호출.
						if( $.main_detail.uploadFileCount == $.main_detail.uploadFileSelectedCount ) {
							$.main_detail.fn_saveInterface();
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_uploadComplete"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: 파일 업로드시 선택된 파일 삭제
				//-----------------------------------------------------------------------
				fn_removeFile : function(event) {
					try {
		 				var files = event.files;

		 		       	for(var i=0; i<$('#fu-uploadFile').data("kendoUpload").options.files.length; i++) {
		 		   			if(files[0].uid == $('#fu-uploadFile').data("kendoUpload").options.files[i].uid) {
		 		   				$('li.k-file[data-uid="' + files[0].uid + '"]').remove();
		 		   				$('#fu-uploadFile').data("kendoUpload").options.files.splice(i, 1);
		 		   				event.preventDefault();
		 		   			}
		 		   		}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_removeFile"});
					}
				},


				//-----------------------------------------------------------------------
				// Description :: 기관 정보 셋팅
				//-----------------------------------------------------------------------
				fn_setOrgInfo : function(selectedItem) {
					try {
						if( !mint.common.isEmpty(selectedItem) ) {
							$('#tf-orgNm').val(selectedItem.orgNm);
							$('#hd-orgId').val(selectedItem.orgId);
							$('#hd-orgCd').val(selectedItem.orgCd);
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_setOrgInfo"});
					}
				},//end fn_setOrgInfo()


				//-----------------------------------------------------------------------
				// Description :: 업무 정보 셋팅
				//-----------------------------------------------------------------------
				fn_setBusinessInfo : function(selectedItem) {
					try {
						if( !mint.common.isEmpty(selectedItem) ) {
							$('#hd-businessId').val(selectedItem.businessId);
							$('#hd-businessCd').val(selectedItem.businessCd);
							$('#hd-businessNm').val(selectedItem.businessNm);
							$('#tf-businessDisplayNm').val(selectedItem.businessNm + '('+ selectedItem.businessCd +')');
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_setOrgInfo"});
					}
				},//end fn_setOrgInfo()


				//-----------------------------------------------------------------------
				// Description :: 사용자 정보 셋팅
				//-----------------------------------------------------------------------
				fn_setUserInfo : function(selectedItem) {
					try {

						if( !mint.common.isEmpty(selectedItem) ) {
							var userInfo = new Object();

							userInfo.roleTypeNm = ''; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM09, 'cd', '0').nm;
							userInfo.roleTypeCd = ''; // mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM09, 'cd', '0').cd;
							userInfo.userNm     = selectedItem.userNm;
							userInfo.cellPhone  = selectedItem.cellPhone;
							userInfo.phone      = selectedItem.phone;
							userInfo.email      = selectedItem.email;
							userInfo.reUseDelYn = 'Y';
							userInfo.userId     = selectedItem.userId;

							userInfo.systemNm   = '';
							userInfo.systemId   = '';
							userInfo.systemCd   = '';
							userInfo.systemDisplayNm = '';


							//담당자 중복 체크
							var isDupUser = false;
							/*
			 				for(var i=0; i<gridData.length; i++) {
			 					if(userData.userId == gridData[i].user.userId && userData.roleTypeNm == gridData[i].roleTypeNm) {
			 						gridOverlapCheck = true;
			 						alert(gridData[i].user.userNm + ' 담당자 ' + gridData[i].roleTypeNm + '업무가 동일합니다');
			 					}
			 				}
							*/

							if(!isDupUser) {
								var userGrid = $('#gd-user').data('kendoGrid');
								userGrid.dataSource.add(userInfo);


								var rowCnt = userGrid.dataSource.view().length - 1;
								var theCell = $('#gd-user tbody tr:eq('+rowCnt+') td:eq(0)');//sample selector for a cell
								$('#gd-user').data('kendoGrid').editCell(theCell);//ask the Grid to put that cell in edit mode
							}

						}


					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_setUserInfo"});
					}
				},//end fn_setUserInfo()


				//-----------------------------------------------------------------------
				// Description :: 시스템 정보 셋팅
				//-----------------------------------------------------------------------
				fn_setSystemInfo : function(selectedItem) {
					try {

						if( !mint.common.isEmpty(selectedItem) ) {
							var systemInfo = new Object();

							//TODO : nodeType -> nodeTypeCd 로 변경 필요.
							systemInfo.nodeTypeNm      = ''; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM09, 'cd', '0').nm;
							systemInfo.nodeTypeCd      = ''; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM09, 'cd', '0').cd;

							systemInfo.orgDisplayNm    = selectedItem.org.objName    + mint.lb + selectedItem.org.objCode    + mint.rb;
							systemInfo.systemDisplayNm = selectedItem.system.objName + mint.lb + selectedItem.system.objCode + mint.rb;

							systemInfo.resourceNm = '';
							systemInfo.service = '';
							systemInfo.serviceDesc = '';

							systemInfo.orgId = selectedItem.org.id;
							systemInfo.orgCd = selectedItem.org.objCode;
							systemInfo.orgNm = selectedItem.org.objName;

							systemInfo.systemId = selectedItem.system.id;
							systemInfo.systemCd = selectedItem.system.objCode;
							systemInfo.systemNm = selectedItem.system.objName;

							systemInfo.reUseDelYn = 'Y';


							//시스템 중복 체크
							var isDupSystem = false;
							/*
			 				for(var i=0; i<gridData.length; i++) {
			 					if(userData.userId == gridData[i].user.userId && userData.roleTypeNm == gridData[i].roleTypeNm) {
			 						gridOverlapCheck = true;
			 						alert(gridData[i].user.userNm + ' 담당자 ' + gridData[i].roleTypeNm + '업무가 동일합니다');
			 					}
			 				}
							*/

							if(!isDupSystem) {
								var systemGrid = $('#gd-system').data('kendoGrid');
								systemGrid.dataSource.pushCreate(systemInfo);
							}


						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_setSystemInfo"});
					}
				},//end fn_setSystemInfo()




				//-----------------------------------------------------------------------
				// Description :: 저장
				//-----------------------------------------------------------------------
				fn_save : function() {
					try {
						if( $.main_detail.fn_validationCheck() ) {
							if( $.main_detail.uploadFileSelectedCount > 0 ) {
								$('#fu-uploadFile').data('kendoUpload').upload();
							} else {
								$.main_detail.fn_saveInterface();
							}

						} else {

						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_save"});
					}
				},//end fn_save()


				//-----------------------------------------------------------------------
				// Description :: 저장 - Interface
				// TODO : 결재 프로세스 정리후 보완 필요
				//-----------------------------------------------------------------------
				fn_saveInterface : function() {
					try {
						var requestObject = $.main_detail.fn_getRequirementObject();

						if( mint.common.isEmpty(requestObject) ) return;

						if( !mint.common.isEmpty($('#hd-requirementId').val()) && $.main_detail.isModify == true ) {
							if( mint.lifecycle.isUsed() ) {
								//-----------------------------------------------------------------------
								// 수정일 경우
								//-----------------------------------------------------------------------
								if( $('#hd-statusCd').val() == 'A1' ) {
									//-----------------------------------------------------------------------
									// 신규(등록) 상태일 경우는 업데이트만 수행한다.
									//-----------------------------------------------------------------------
									mint.callService(requestObject, screenName, 'REST-U01-AN-01-00', '$.main_detail.fn_saveComplete',
											{
												  errorCall : true
												, notificationView : false
												, params 	: {requirementId : $("#hd-requirementId").val()}
											}
									);
								} else {

									if( ! mint.common.isEmpty($.main_detail.isSupplement) ) {
										//-----------------------------------------------------------------------
										// 결재권한자가 문서보완에 대한 저장 버튼 클릭시 일반 업데이트를 수행한다.
										//-----------------------------------------------------------------------
										mint.callService(requestObject, screenName, 'REST-U01-AN-01-00', '$.main_detail.fn_saveComplete',
												{
													  errorCall : true
													, notificationView : false
													, params 	: {requirementId : $("#hd-requirementId").val()}
												}
										);
									} else {
										//-----------------------------------------------------------------------
										// 신규(등록) 상태가 아닐 경우 '결재' 프로세스와 함께 업데이트를 수행한다.
										//-----------------------------------------------------------------------
										var approvalItem = new Object();
										approvalItem.type          = 'request';
										approvalItem.actionFlag    = 'B2';
										approvalItem.requirementId = $('#hd-requirementId').val();
										approvalItem.requirement   = requestObject;

										mint.common.setScreenParam('approvalItem', approvalItem);
										mint.common.setScreenParam('callback', '$.main_detail.fn_requestApprovalCallback');

										mint.common.searchPopup('../sub-co/CO-01-00-005.html','CO-01-00-005');
									}

								}
							} else {
								mint.callService(requestObject, screenName, 'REST-U01-AN-01-00', '$.main_detail.fn_saveComplete',
										{
											  errorCall : true
											, notificationView : false
											, params 	: {requirementId : $("#hd-requirementId").val()}
										}
								);
							}

						} else {
							//-----------------------------------------------------------------------
							// 등록일 경우
							//-----------------------------------------------------------------------
							mint.callService(requestObject, screenName, 'REST-C01-AN-01-00', '$.main_detail.fn_saveComplete',
								{
									  errorCall : true
									, notificationView : false
								}
							);
						}

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_saveInterface"});
					}
				},//end fn_saveInterface()


				//-----------------------------------------------------------------------
				// Description :: 저장 콜백
				//-----------------------------------------------------------------------
				fn_saveComplete : function(jsonObject) {
					try {
						if( !mint.common.isEmpty(jsonObject) ) {
							//-----------------------------------------------------------------------
							// - Alert Message 를 Display 한다.
							//-----------------------------------------------------------------------
							var msgCode = null;
							if( mint.common.isEmpty($('#hd-requirementId').val()) ) {
								msgCode = 'CI00101';
							} else {
								msgCode = 'CI00102';
							}
							//mint.common.alert(msgCode, null);

							//-----------------------------------------------------------------------
							// - 데이터 접근 권한을 사용하지 않으면, default 데이터 접근 권한을 자동 반영
							//-----------------------------------------------------------------------
							var isDataAccessUsed = false;
							if( ! isDataAccessUsed ) {
								mint.callService(null, screenName, 'REST-R05-SU-01-02', function(jsonData) {
									if( ! mint.common.isEmpty(jsonData) ) {
										var roots = jsonData.roots;
										if( !mint.common.isEmpty(roots) && roots.length > 0 ) {
									        //-----------------------------------------------------------------------
									        // root data 중 첫번째 항목을 지정
									        //-----------------------------------------------------------------------
									        var root = roots[0];
											var requestObject = new Object();
											requestObject.list = [];

											var accessRoleMapping = new Object();
											accessRoleMapping.roleId      = root.id;
											accessRoleMapping.interfaceId = jsonObject.interface.interfaceId;
											accessRoleMapping.seq         = 1;

											requestObject.list.push(accessRoleMapping);

											mint.callService(requestObject, screenName, 'REST-C10-SU-01-02', function(jsonData) {
												if( ! mint.common.isEmpty(jsonData) ) {
													mint.common.alert(msgCode, null);
													$.main_detail.fn_moveDetailView(jsonObject.requirementId);
												};
											}, { errorCall : true, params : { interfaceId : jsonObject.interface.interfaceId }  } );

										}
									};
								}, { errorCall : true, notificationView : false } );
							} else {
								mint.common.alert(msgCode, null);
								$.main_detail.fn_moveDetailView(jsonObject.requirementId);
							}

						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_saveComplete"});
					}
				},//end fn_saveComplete()

				//-----------------------------------------------------------------------
				// Description : 저장후 상세페이지 이동
				//-----------------------------------------------------------------------
				fn_moveDetailView : function(requirementId) {
					try {
						//-----------------------------------------------------------------------
						// - 공통코드를 재조회 한다.
						//-----------------------------------------------------------------------
						mint.getCommonCode(function(){
							//-----------------------------------------------------------------------
							// - 상세 페이지로 이동하는데 이전 호출 파라메터에 따라 기본상세, 수정의뢰상세 등으로 분리된다.
							//-----------------------------------------------------------------------
							mint.setDetailView('Y');
							mint.common.setScreenParam("requirementId", requirementId);

							//-----------------------------------------------------------------------
							// - 결재를 진행할 것인지 확인한다.
							//-----------------------------------------------------------------------
							mint.common.setScreenParam("isApprovalCheck", false);
							mint.move('../sub-an/AN-01-00-603');

						}, true);
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_moveDetailView"});
					}
				},

				//-----------------------------------------------------------------------
				// Description : 인터페이스 결재요청 콜백
				//-----------------------------------------------------------------------
				fn_requestApprovalCallback : function(jsonData) {
					try {
						if(null != jsonData) {
							mint.setDetailView('Y');
							mint.common.setScreenParam("requirementId", jsonData.approvalItemId);
				      		mint.move('../sub-an/AN-01-00-603');
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_requestApprovalCallback"});
					}
				},//end fn_requestApprovalCallback()


				//-----------------------------------------------------------------------
				// Description :: Requirement Object 생성
				//-----------------------------------------------------------------------
				fn_getRequirementObject : function() {
					try {
						//-----------------------------------------------------------------------
						// Business Object
						//-----------------------------------------------------------------------
						var requirementBusinessObject = new Object();
						requirementBusinessObject.objectType = 'Business';
						requirementBusinessObject.businessId = $('#hd-businessId').val();
						requirementBusinessObject.businessNm = $('#hd-businessNm').val();
						requirementBusinessObject.businessCd = $('#hd-businessCd').val();

						//-----------------------------------------------------------------------
						// Channel Object
						//-----------------------------------------------------------------------
						var channelObject = new Object();
						channelObject.objectType = 'Channel';
						channelObject.channelId  = $("#cb-channelNm").data("kendoDropDownList").dataItem().channelId;
						channelObject.channelNm  = $("#cb-channelNm").data("kendoDropDownList").dataItem().channelNm;
						channelObject.channelCd  = $("#cb-channelNm").data("kendoDropDownList").dataItem().channelCd;

						//-----------------------------------------------------------------------
						// InterfaceMapping Object
						//-----------------------------------------------------------------------
						//TODO: 향후 필요시 개발하도록 한다.
						var interfaceMappingObject = new Object();
						interfaceMappingObject.objectType      = 'InterfaceMapping';
						interfaceMappingObject.asisInterfaceId = '';
						interfaceMappingObject.channelId       = '';
						interfaceMappingObject.interfaceId     = '';
						interfaceMappingObject.regDate         = mint.common.remakeYYMMDD(new Date());
						interfaceMappingObject.regId           = mint.session.getUserId();
						interfaceMappingObject.modDate         = mint.common.remakeYYMMDD(new Date());
						interfaceMappingObject.modId           = mint.session.getUserId();

						//-----------------------------------------------------------------------
						// InterfacePattern Object
						//-----------------------------------------------------------------------
						//TODO: 향후 필요시 개발하도록 한다.
						var patternObejct = new Object();
						patternObejct.objectType = 'InterfacePattern';


						//-----------------------------------------------------------------------
						// System Object
						//-----------------------------------------------------------------------
						var systemList             = [];
						var senderSystemInfoList   = [];
						var receiverSystemInfoList = [];
						var businessList           = [];

						var systemGridView = $("#gd-system").data().kendoGrid.dataSource.view();
						for(var i=0; i < systemGridView.length; i++) {

							//시스템 리스트
							var systemObject = new Object;
							systemObject.objectType  = 'System';
							systemObject.nodeType    = systemGridView[i].nodeTypeCd; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM08, 'nm',  systemGridView[i].nodeTypeNm).cd;
							systemObject.nodeTypeNm  = systemGridView[i].nodeTypeNm;
							systemObject.seq         = i;

							systemObject.systemId    = systemGridView[i].systemId;
							systemObject.systemNm    = systemGridView[i].systemNm;
							systemObject.systemCd    = systemGridView[i].systemCd;
							systemObject.resourceCd  = systemGridView[i].resourceCd; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM04, 'nm',  systemGridView[i].resourceNm).cd;
							systemObject.resourceNm  = systemGridView[i].resourceNm;
							systemObject.service     = mint.common.isEmpty(systemGridView[i].service)     ? '' : systemGridView[i].service.trim();
							systemObject.serviceDesc = mint.common.isEmpty(systemGridView[i].serviceDesc) ? '' : systemGridView[i].serviceDesc.trim();

							systemObject.modDate     = mint.common.remakeYYMMDD(new Date());
							systemObject.modId       = mint.session.getUserId();
							systemObject.regDate     = mint.common.remakeYYMMDD(new Date());
							systemObject.regId       = mint.session.getUserId();

							systemList.push(systemObject);

							//업무 리스트
							var businessObject = new Object;
							businessObject.objectType = 'Business';
							/*
							businessObject.businessId = mint.common.isEmpty(systemGridView[i].businessId) ? $('#hd-businessId').val() : systemGridView[i].businessId;
							businessObject.businessCd = mint.common.isEmpty(systemGridView[i].businessId) ? $('#hd-businessCd').val() : systemGridView[i].businessCd;
							businessObject.businessNm = mint.common.isEmpty(systemGridView[i].businessId) ? $('#hd-businessNm').val() : systemGridView[i].businessNm;
							*/
							businessObject.businessId = $('#hd-businessId').val();
							businessObject.businessCd = $('#hd-businessCd').val();
							businessObject.businessNm = $('#hd-businessNm').val();
							businessObject.seq        = i;
							businessObject.nodeType   = systemGridView[i].nodeTypeCd; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM08, 'nm',  systemGridView[i].nodeTypeNm).cd;
							businessObject.nodeTypeNm = systemGridView[i].nodeTypeNm;
							businessObject.modDate    = mint.common.remakeYYMMDD(new Date());
							businessObject.modId      = mint.session.getUserId();
							businessObject.regDate    = mint.common.remakeYYMMDD(new Date());
							businessObject.regId      = mint.session.getUserId();

							businessList.push(businessObject);
						}

						//-----------------------------------------------------------------------
						// RelUser Object
						//-----------------------------------------------------------------------
						var relUsersList = [];
						var userGridView = $("#gd-user").data().kendoGrid.dataSource.view();
						for(var i=0; i < userGridView.length; i++) {
							//User
							var userObject = new Object;
							userObject.objectType = 'User';
							userObject.userId     = userGridView[i].userId;
							userObject.userNm     = userGridView[i].userNm;
							userObject.cellPhone  = userGridView[i].cellPhone;
							userObject.phone      = userGridView[i].phone;
							userObject.email      = userGridView[i].email;


							//RelUser
							var relUserObject = new Object();
							relUserObject.objectType = 'RelUser';
							relUserObject.roleType   = userGridView[i].roleTypeCd; //mint.common.findCommonCode(mint.common.commonCodeMap.get("cds").IM09, 'nm',  userGridView[i].roleTypeNm).cd;
							relUserObject.roleTypeNm = userGridView[i].roleTypeNm;
							relUserObject.systemId   = '';
							relUserObject.systemNm   = '';
							relUserObject.seq        = i; //( $.main_detail.isModify == true ) ? userGridView[i].seq : i;
							relUserObject.modDate    = mint.common.remakeYYMMDD(new Date());
							relUserObject.modId      = mint.session.getUserId();
							relUserObject.regDate    = mint.common.remakeYYMMDD(new Date());
							relUserObject.regId      = mint.session.getUserId();

							relUserObject.user = userObject;

							relUsersList.push(relUserObject);
						}

						//-----------------------------------------------------------------------
						// Interface Object
						//-----------------------------------------------------------------------
						var interfaceObject = new Object();
						interfaceObject.objectType            = 'Interface';
						interfaceObject.interfaceId           = $('#hd-interfaceId').val();
						interfaceObject.interfaceNm           = $('#tf-interfaceNm').val();
						interfaceObject.integrationId         = $('#tf-integrationId').val();

						//Data처리방향
						interfaceObject.dataPrDir             = $('#cb-dataPrDirNm').data("kendoDropDownList").dataItem().cd;
						interfaceObject.dataPrDirNm           = $('#cb-dataPrDirNm').data("kendoDropDownList").dataItem().nm;
						//Data처리방식
						interfaceObject.dataPrMethod          = $('#cb-dataPrMethodNm').data("kendoDropDownList").dataItem().cd;
						interfaceObject.dataPrMethodNm        = $('#cb-dataPrMethodNm').data("kendoDropDownList").dataItem().nm;
						//App처리방식
						interfaceObject.appPrMethod           = $('#cb-appPrMethodNm').data("kendoDropDownList").dataItem().cd;
						interfaceObject.appPrMethodNm         = $('#cb-appPrMethodNm').data("kendoDropDownList").dataItem().nm;

						//맵팽여부 (인터페이스 유형)
						interfaceObject.hasDataMap            = $('#cb-hasDataMapNm').data("kendoDropDownList").dataItem().cd;
						interfaceObject.hasDataMapNm          = $('#cb-hasDataMapNm').data("kendoDropDownList").dataItem().nm;

						//Data순차보장//TODO: 디비 컬럼명하고 동일하게 빈 속성 수정할것.
						//interfaceObject.dataOrderYn           = $("#cb-dataOrderYn").data("kendoDropDownList").value();
						interfaceObject.dataSeqYn             = $("#cb-dataOrderYn").data("kendoDropDownList").value();
						//발생주기
						interfaceObject.dataFrequency         = $('#cb-dataFrequencyNm').data("kendoDropDownList").dataItem().cd;
						interfaceObject.dataFrequencyNm       = $('#cb-dataFrequencyNm').data("kendoDropDownList").dataItem().nm;
						//발생주기 상세
						interfaceObject.dataFrequencyInput    = $('#tf-dataFrequencyInput').val();
						//건당사이즈
						interfaceObject.sizePerTran           = $("#nf-sizePerTran").data("kendoNumericTextBox").value();
						//주기별건수
						interfaceObject.cntPerFrequency       = $("#nf-cntPerFrequency").data("kendoNumericTextBox").value();
						//일일발생횟수
						interfaceObject.cntPerDay             = $("#nf-cntPerDay").data("kendoNumericTextBox").value();
						//일일총전송량
						interfaceObject.qttPerDay             = $("#nf-qttPerDay").data("kendoNumericTextBox").value();
						//중요도
						interfaceObject.importance            = $('input:radio[name="rb-important"]:checked').val();
						//지연임계치
						interfaceObject.maxDelayTime          = $('#nf-maxDelayTime').data("kendoNumericTextBox").value();
						interfaceObject.maxDelayUnit          = mint.common.isEmpty($('#cb-maxDelayUnit').data("kendoDropDownList").dataItem()) ? '' : $('#cb-maxDelayUnit').data("kendoDropDownList").dataItem().cd;
						interfaceObject.maxDelayUnitNm        = mint.common.isEmpty($('#cb-maxDelayUnit').data("kendoDropDownList").dataItem()) ? '' : $('#cb-maxDelayUnit').data("kendoDropDownList").dataItem().nm;
						//장애임계치
						interfaceObject.maxErrorTime          = $('#nf-maxErrorTime').data("kendoNumericTextBox").value();
						interfaceObject.maxErrorUnit          = mint.common.isEmpty($('#cb-maxErrorUnit').data("kendoDropDownList").dataItem()) ? '' : $('#cb-maxErrorUnit').data("kendoDropDownList").dataItem().cd;
						interfaceObject.maxErrorUnitNm        = mint.common.isEmpty($('#cb-maxErrorUnit').data("kendoDropDownList").dataItem()) ? '' : $('#cb-maxErrorUnit').data("kendoDropDownList").dataItem().nm;


						interfaceObject.startNodeCnt          = 0;//송신시스템카운트
						interfaceObject.endNodeCnt            = 0;//수신시스템카운트

						interfaceObject.channelChangeComments = '';
						interfaceObject.channelChangeCd       = '';
						interfaceObject.channelChangeNm       = '';



						interfaceObject.channel                = channelObject;
						interfaceObject.systemList             = systemList;
						interfaceObject.businessList           = businessList;
						interfaceObject.relUsers               = relUsersList;
						interfaceObject.interfaceMapping       = null;
						interfaceObject.refPattern             = null;
						interfaceObject.senderSystemInfoList   = [];
						interfaceObject.receiverSystemInfoList = [];
						interfaceObject.tagList                = [];



						interfaceObject.regDate                = mint.common.remakeYYMMDD(new Date());
						interfaceObject.regId                  = mint.session.getUserId();
						interfaceObject.modDate                = mint.common.remakeYYMMDD(new Date());
						interfaceObject.modId                  = mint.session.getUserId();

						//-----------------------------------------------------------------------
						// Interface 추가 속성 맵핑 (사이트별 /연계채널별)
						//-----------------------------------------------------------------------
						var propertiesList = [];
						// Channel Attribute
						var channelItem = $("#cb-channelNm").data("kendoDropDownList").dataItem();
						if( !mint.common.isEmpty(channelItem) ) {
							var relChlAttributes = channelItem.relChlAttributes;
							if( !mint.common.isEmpty(relChlAttributes) && relChlAttributes.length > 0 ) {
								for( var i = 0; i < relChlAttributes.length; i++ ) {
									var propertiesObject = new Object();
									propertiesObject.objectType = "InterfaceProperties";
									propertiesObject.attrId     = relChlAttributes[i].attrId;
									propertiesObject.attrCd     = relChlAttributes[i].attrCd;
									propertiesObject.type       = "0"; //is Channel attribute
									propertiesObject.attrValue  = mint.common.isEmpty($('#tf-chlattr-' + relChlAttributes[i].attrCd).val()) ? '' : $('#tf-chlattr-' + relChlAttributes[i].attrCd).val();

									propertiesList.push(propertiesObject);
								}
							}
						}

						// Interface Additional Attribute
						var additionalAttributeList = mint.common.getCommonCode('interfaceAdditionalAttributeList');

						if( !mint.common.isEmpty( additionalAttributeList ) && additionalAttributeList.length > 0 ) {
							for( var i = 0; i < additionalAttributeList.length; i++ ) {
								var propertiesObject = new Object();
								propertiesObject.objectType = "InterfaceProperties";
								propertiesObject.attrId     = additionalAttributeList[i].attrId;
								propertiesObject.attrCd     = additionalAttributeList[i].attrCd;
								propertiesObject.type       = "1"; //is Interface additional attribute
								propertiesObject.attrValue  = mint.common.isEmpty($('#tf-addattr-' + additionalAttributeList[i].attrCd).val()) ? '' : $('#tf-addattr-' + additionalAttributeList[i].attrCd).val();

								propertiesList.push(propertiesObject);
							}
							$('#tab-interface-info a:eq(2)').tab().show();
						}

						interfaceObject.properties = propertiesList;

						//-----------------------------------------------------------------------
						// Requirement - 첨부파일
						//-----------------------------------------------------------------------
						var attatchFileList = [];

						//기존 첨부파일
						if(0 < $('#fu-uploadFile').data("kendoUpload").options.files.length) {
							for(var i=0; i<$('#fu-uploadFile').data("kendoUpload").options.files.length; i++) {
								var attachFileObject = new Object();
								attachFileObject.objectType    = 'RequirementAttatchFile';
								attachFileObject.requirementId = $("#hd-requirementId").val();
								attachFileObject.fileId        = '';
								attachFileObject.fileNm        = $('#fu-uploadFile').data("kendoUpload").options.files[i].fileNm;
								attachFileObject.filePath      = $('#fu-uploadFile').data("kendoUpload").options.files[i].filePath;
								attachFileObject.regDate       = $('#fu-uploadFile').data("kendoUpload").options.files[i].regDate;
								attachFileObject.regId         = $('#fu-uploadFile').data("kendoUpload").options.files[i].regId;

								attatchFileList.push(attachFileObject);
							}
						}

						//새 첨부파일
						if( $.main_detail.uploadFileInfoList.length > 0 ) {
							for(var i=0; i<$.main_detail.uploadFileInfoList.length; i++) {
								var attachFileObject = new Object();
								attachFileObject.objectType    = 'RequirementAttatchFile';
								attachFileObject.requirementId = $("#hd-requirementId").val();
								attachFileObject.fileId        = '';
								attachFileObject.fileNm        = $.main_detail.uploadFileInfoList[i].fileNm;
								attachFileObject.filePath      = $.main_detail.uploadFileInfoList[i].filePath;
								attachFileObject.regDate       = mint.common.remakeYYMMDD(new Date());
								attachFileObject.regId         = mint.session.getUserId();

								attatchFileList.push(attachFileObject);
							}
				        }

						//-----------------------------------------------------------------------
						// Requirement - 등록유저
						//-----------------------------------------------------------------------
						var regUserObject = new Object();
						regUserObject.objectType = 'User';
						if( $.main_detail.isModify ) {
							regUserObject.userId    = $('#hd-regUserId').val();
							regUserObject.userNm    = $('#tf-regUserNm').val();
							regUserObject.cellPhone = $('#hd-regCellPhone').val();
							regUserObject.phone     = $('#hd-regPhone').val();
							regUserObject.email     = $('#hd-regEmail').val();
						} else {
							regUserObject.userId    = mint.session.getUserId();
							regUserObject.userNm    = mint.session.getUserNm();
							regUserObject.cellPhone = mint.session.getCellPhone();
							regUserObject.phone     = mint.session.getPhone();
							regUserObject.email     = mint.session.getEmail();

							var roleObject = new Object();
							roleObject.objectType   = 'UserRole';
							roleObject.roleId       = mint.session.getRoleId();
							roleObject.roleNm       = mint.session.getRoleNm();
							roleObject.isInterfaceAdmin      = mint.session.isInterfaceAdmin();// 2017-03-20 추가.

							regUserObject.role = roleObject;
						}

						//-----------------------------------------------------------------------
						// Requirement Object
						//-----------------------------------------------------------------------
						var requirementObject = new Object();

						requirementObject.objectType      = 'Requirement';
						requirementObject.requirementId   = $("#hd-requirementId").val();
						//요건명은 향후 필요시 개발하도록한다. 현재는 인터페이스명 = 요건명.
						//requirementObject.requirementNm   = $("#tf-requirementNm").val();
						requirementObject.requirementNm   = interfaceObject.interfaceNm;
						requirementObject.business        = requirementBusinessObject;
						requirementObject.comments        = $("#ta-description").data("kendoEditor").value();
						requirementObject.interface       = interfaceObject;
						requirementObject.devExpYmd       = mint.common.remakeYYMMDD($('#df-devExpYmd').data("kendoDatePicker").value()).substring(0, 8);
						requirementObject.devFinYmd       = mint.common.remakeYYMMDD($('#df-devFinYmd').data("kendoDatePicker").value()).substring(0, 8);
						requirementObject.testExpYmd      = mint.common.remakeYYMMDD($('#df-testExpYmd').data("kendoDatePicker").value()).substring(0, 8);
						requirementObject.testFinYmd      = mint.common.remakeYYMMDD($('#df-testFinYmd').data("kendoDatePicker").value()).substring(0, 8);
						requirementObject.realExpYmd      = mint.common.remakeYYMMDD($('#df-realExpYmd').data("kendoDatePicker").value()).substring(0, 8);
						requirementObject.realFinYmd      = mint.common.remakeYYMMDD($('#df-realFinYmd').data("kendoDatePicker").value()).substring(0, 8);
						requirementObject.status          = ( $.main_detail.isModify == true ) ?  $("#hd-statusCd").val() : 'A1';
						requirementObject.statusNm        = ( $.main_detail.isModify == true ) ?  $("#cb-statusNm").val() : mint.label.getLabel('lb-114');
						requirementObject.attatchFileList = attatchFileList;
						requirementObject.regUser         = regUserObject;
						requirementObject.commentList     = null;//TODO: 향후 필요시 개발하도록 한다.
						requirementObject.delYn           = 'N';
						requirementObject.regDate         = mint.common.remakeYYMMDD(new Date());
						requirementObject.regId           = mint.session.getUserId();
						requirementObject.modDate         = mint.common.remakeYYMMDD(new Date());
						requirementObject.modId           = mint.session.getUserId();

						return requirementObject;

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_getRequirementObject"});
					}
				},//end fn_getRequirementObject()

				//-----------------------------------------------------------------------
				// Description ::  Validation 체크
				//-----------------------------------------------------------------------
				fn_validationCheck : function() {
					try {

						//-----------------------------------------------------------------------
						// top-pannel
						//-----------------------------------------------------------------------
				 		if( mint.common.isEmpty($('#tf-businessDisplayNm').val()) ) {
							mint.common.alert('CW00001', mint.label.getLabel('lb-81'));
							mint.common.focus($('#tf-businessDisplayNm'));
							return;
						}

						if( mint.common.isEmpty($('#tf-interfaceNm').val()) ) {
							mint.common.alert('CW00001', mint.label.getLabel('lb-153'));
							mint.common.focus($('#tf-interfaceNm'));
							return;
						}

						if( !$.main_detail.autoCreateIntegrationID ) {
							if( mint.common.isEmpty($('#tf-integrationId').val()) ) {
								mint.common.alert('CW00001', mint.label.getLabel('lb-154'));
								mint.common.focus($('#tf-integrationId'));
								return;
							}
						}

						if( !mint.common.validate( $('#tf-integrationId').val() ) ) {
							mint.common.alert('CW00012', mint.label.getLabel('lb-154'));
							mint.common.focus($('#tf-integrationId'));
							return;
						}

						//-----------------------------------------------------------------------
						// [20170803]
						// 현대해상 고객 요청에 의한 체크로직 추가 ( 송/수신 담당자 )
						//-----------------------------------------------------------------------
						if( mint.common.isEmpty( $('#tf-addattr-Q0001').val() ) ) {
							mint.common.alert('CW00001', $('#tf-addattr-Q0001').data('name'));
							mint.common.focus($('#tf-addattr-Q0001'));
							return;
						}

						if( mint.common.isEmpty( $('#tf-addattr-Q0002').val() ) ) {
							mint.common.alert('CW00001', $('#tf-addattr-Q0002').data('name'));
							mint.common.focus($('#tf-addattr-Q0002'));
							return;
						}

						//-----------------------------------------------------------------------
						// [20171017]
						// 현대해상 고객 요청에 의한 체크로직 추가
						// - 인터페이스유형이 Routing/Mapping 일때 수신목적지 필수항목으로 체크
						// - 코드값으로 체크하지 않고 이름으로 체크함
						//-----------------------------------------------------------------------
						var interfaceType = $('#cb-hasDataMapNm').data("kendoDropDownList").dataItem().nm;

						if( !mint.common.isEmpty( interfaceType) ) {
							if( interfaceType == 'Routing' || interfaceType == 'Mapping' ) {

								//수신목적지_개발
								if( mint.common.isEmpty( $('#tf-chlattr-A0001').val() ) ) {
									mint.common.alert('CW00001', $('#tf-chlattr-A0001').data('name'));
									mint.common.focus($('#tf-chlattr-A0001'));
									return;
								}
								//수신목적지_검증
								if( mint.common.isEmpty( $('#tf-chlattr-A0002').val() ) ) {
									mint.common.alert('CW00001', $('#tf-chlattr-A0002').data('name'));
									mint.common.focus($('#tf-chlattr-A0002'));
									return;
								}
								//수신목적지_운영
								if( mint.common.isEmpty( $('#tf-chlattr-A0003').val() ) ) {
									mint.common.alert('CW00001', $('#tf-chlattr-A0003').data('name'));
									mint.common.focus($('#tf-chlattr-A0003'));
									return;
								}
							}
						}

						//-----------------------------------------------------------------------
						// tab0
						//-----------------------------------------------------------------------

						//-----------------------------------------------------------------------
						// tab1
						//-----------------------------------------------------------------------

						//-----------------------------------------------------------------------
						// Description :: 시스템 체크 로직
						//-----------------------------------------------------------------------
						var isSourceSystemContained = false;
						var isTargetSystemContained = false;
						var systemGridData = $("#gd-system").data("kendoGrid").dataSource.view();

						// 시스템을 선택하지 않았을 경우
						if( systemGridData.length == 0 ) {
							mint.common.alert('CW00001', mint.label.getLabel('lb-82'));
							//$('#tab-interface-info a:eq(1)').tab('show');
							mint.common.focus($('#gd-system'));
							return;
						}

						for(var i=0; i<systemGridData.length; i++){

							// 시스템 - 노드구분을 선택하지 않았을 경우
							if( mint.common.isEmpty(systemGridData[i].nodeTypeCd) ) {
								mint.common.alert('CW00003', systemGridData[i].systemDisplayNm + '-' + mint.label.getLabel('lb-469'));
								//$('#tab-interface-info a:eq(1)').tab('show');
								mint.common.focus($('#gd-system'));

								var editGrid = $('#gd-system').data('kendoGrid');
								editGrid.saveRow();
								editGrid.editRow($('#gd-system tr:eq(' + (i+1) + ')'));

								return;
							} else {
								if( systemGridData[i].nodeTypeCd == '0' )
									isSourceSystemContained = true;
								if( systemGridData[i].nodeTypeCd == '2' )
									isTargetSystemContained = true;
							}

							// 시스템 - 리소스를 선택하지 않았을 경우
							if( mint.common.isEmpty(systemGridData[i].resourceCd) ) {
								mint.common.alert('CW00003', systemGridData[i].systemDisplayNm + '-' + mint.label.getLabel('lb-86'));
								//$('#tab-interface-info a:eq(1)').tab('show');
								mint.common.focus($('#gd-system'));

								var editGrid = $('#gd-system').data('kendoGrid');
								editGrid.saveRow();
								editGrid.editRow($('#gd-system tr:eq(' + (i+1) + ')'));

								return;
							}
			           	}

						// 시스템 - Source System 이 없는 경우.
						if( !isSourceSystemContained ) {
							mint.common.alert('CW00010', mint.label.getLabel('lb-82') + '-' + mint.label.getLabel('lb-98'));
							//$('#tab-interface-info a:eq(1)').tab('show');
							mint.common.focus($('#gd-system'));
							return;
						}
						// 시스템 - Target System 이 없는 경우.
						if( !isTargetSystemContained ) {
							mint.common.alert('CW00010', mint.label.getLabel('lb-82') + '-' + mint.label.getLabel('lb-102'));
							//$('#tab-interface-info a:eq(1)').tab('show');
							mint.common.focus($('#gd-system'));
							return;
						}

						//-----------------------------------------------------------------------
						// tab2
						//-----------------------------------------------------------------------

						//-----------------------------------------------------------------------
						// Description :: 담당자 체크 로직
						//-----------------------------------------------------------------------
						/*
						var userGridData = $("#gd-user").data("kendoGrid").dataSource.view();

						for(var i=0; i < userGridData.length; i++) {

							// 담당자 - 역할을 선택하지 않았을 경우
							if( mint.common.isEmpty(userGridData[i].roleTypeCd) ) {
								mint.common.alert('CW00003', mint.label.getLabel('lb-209') + '-' + mint.label.getLabel('lb-210'));
								$('#tab-interface-info a:eq(2)').tab('show');
								mint.common.focus($('#gd-user'));

								var editGrid = $('#gd-user').data('kendoGrid');
								editGrid.saveRow();
								editGrid.editRow($('#gd-user tr:eq(' + (i+1) + ')'));

								return;
							}

							// 담당자 - 역할이 동일할 경우
							for(var j=0; j < userGridData.length; j++) {
								if(i != j && userGridData[i].userId == userGridData[j].userId && userGridData[i].roleTypeNm == userGridData[j].roleTypeNm) {
									mint.common.alert('BW00008',[userGridData[i].userNm, userGridData[j].roleTypeNm]);
									$('#tab-interface-info a:eq(2)').tab('show');
									mint.common.focus($('#gd-user'));
									return;
								}
							}
						}
						*/



						//-----------------------------------------------------------------------
						// tab3
						//-----------------------------------------------------------------------
						/*
						if( mint.common.isEmpty($('#df-devExpYmd').val()) ) {
							mint.common.alert('CW00001', mint.label.getLabel('lb-203'));
							$('#tab-interface-info a:eq(3)').tab('show');
							mint.common.focus($('#df-devExpYmd'));
							return;
						}

						if( mint.common.isEmpty($('#df-testExpYmd').val()) ) {
							mint.common.alert('CW00001', mint.label.getLabel('lb-205'));
							$('#tab-interface-info a:eq(3)').tab('show');
							mint.common.focus($('#df-testExpYmd'));
							return;
						}

						if( mint.common.isEmpty($('#df-realExpYmd').val()) ) {
							mint.common.alert('CW00001', mint.label.getLabel('lb-207'));
							$('#tab-interface-info a:eq(3)').tab('show');
							mint.common.focus($('#df-realExpYmd'));
							return;
						}
						*/

						return true;

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_validationCheck"});
					}
				},//end fn_validationCheck()

				//-----------------------------------------------------------------------
				// Description ::  일일총전송량 계산
				//-----------------------------------------------------------------------
				fn_setQttPerDay : function() {
					try {

						//건당사이즈
						var sizePerTran     = $("#nf-sizePerTran").data("kendoNumericTextBox").value();
						//주기별건수
						var cntPerFrequency = $("#nf-cntPerFrequency").data("kendoNumericTextBox").value();
						//일일발생횟수
						var cntPerDay       = $("#nf-cntPerDay").data("kendoNumericTextBox").value();

						var qttPerDay = sizePerTran * cntPerFrequency * cntPerDay;

						$("#nf-qttPerDay").data('kendoNumericTextBox').value(qttPerDay);

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_validationCheck"});
					}
				},//end fn_validationCheck()




				//-----------------------------------------------------------------------
				// Description :: 수정일 경우, 인터페이스 정보를 조회하여 셋팅.
				//-----------------------------------------------------------------------
				fn_setInterfaceInfo : function(jsonData) {
					try {
						$('#hd-requirementId').val( jsonData.requirementId );
						$('#hd-requirementNm').val( jsonData.requirementNm );
						$('#tf-statusNm').val( jsonData.statusNm );
						$('#hd-statusCd').val( jsonData.status);


						$('#tf-regDate').val( mint.common.isEmpty( jsonData.regDate) ? '' : mint.common.formatDate(jsonData.regDate) );
						$('#tf-modDate').val( mint.common.isEmpty( jsonData.modDate) ? '' : mint.common.formatDate(jsonData.modDate) );

						var businessObject = jsonData.business;
						$('#tf-businessDisplayNm').val( businessObject.businessNm + mint.lb + businessObject.businessCd + mint.rb );
						$('#hd-businessId').val( businessObject.businessId );
						$('#hd-businessCd').val( businessObject.businessCd );
						$('#hd-businessNm').val( businessObject.businessNm );


						var regUserObject = jsonData.regUser;
						$('#tf-regUserNm').val( regUserObject.userNm );
						$('#hd-regUserId').val( regUserObject.userId );
						$('#hd-regCellPhone').val( regUserObject.cellPhone );
						$('#hd-regPhone').val( regUserObject.phone );
						$('#hd-regEmail').val( regUserObject.email );




						var interfaceObject = jsonData.interface;
						$('#tf-interfaceNm').val( interfaceObject.interfaceNm );
						$('#hd-interfaceId').val( interfaceObject.interfaceId );
						$('#tf-integrationId').val( interfaceObject.integrationId );

						var channelObject = interfaceObject.channel;
						$('#cb-channelNm').data("kendoDropDownList").value(channelObject.channelNm);
						//TODO: event 처리가 이 방법밖에 없는것인가.
						$.main_detail.fn_channelAdditionalAttribute();


						$('#cb-dataPrDirNm').data("kendoDropDownList").value(interfaceObject.dataPrDirNm);
						$('#cb-dataPrMethodNm').data("kendoDropDownList").value(interfaceObject.dataPrMethodNm);
						$('#cb-appPrMethodNm').data("kendoDropDownList").value(interfaceObject.appPrMethodNm);

						$('#cb-hasDataMapNm').data("kendoDropDownList").value(interfaceObject.hasDataMapNm);

						//$('#cb-dataOrderYn').data("kendoDropDownList").value(interfaceObject.dataSeqYn == 'N' ? 'No' : 'Yes');
						$('#cb-dataOrderYn').data("kendoDropDownList").value(interfaceObject.dataSeqYn);
						$('#cb-dataFrequencyNm').data("kendoDropDownList").value(interfaceObject.dataFrequencyNm);
						$('#tf-dataFrequencyInput').val(interfaceObject.dataFrequencyInput);

						$('#nf-sizePerTran').data("kendoNumericTextBox").value(interfaceObject.sizePerTran);
						$('#nf-cntPerFrequency').data("kendoNumericTextBox").value(interfaceObject.cntPerFrequency);
						$('#nf-cntPerDay').data("kendoNumericTextBox").value(interfaceObject.cntPerDay);
						$('#nf-qttPerDay').data("kendoNumericTextBox").value(interfaceObject.qttPerDay);


						//-----------------------------------------------------------------------
						// System
						//-----------------------------------------------------------------------

						var systemObjectList = [];
						var senderSystemObject = interfaceObject.senderSystemInfoList;
						var receiverSystemObject = interfaceObject.receiverSystemInfoList;

						for( var i=0; i<senderSystemObject.length; i++ ) {
							senderSystemObject[i].systemDisplayNm = senderSystemObject[i].systemNm + mint.lb + senderSystemObject[i].systemCd + mint.rb;
							senderSystemObject[i].orgDisplayNm    = senderSystemObject[i].orgNm + mint.lb + senderSystemObject[i].orgCd + mint.rb;
							senderSystemObject[i].nodeTypeCd      = senderSystemObject[i].nodeType;
							senderSystemObject[i].reUseDelYn      = 'Y';
							systemObjectList.push(senderSystemObject[i]);
						}
						for( var i=0; i<receiverSystemObject.length; i++ ) {
							receiverSystemObject[i].systemDisplayNm = receiverSystemObject[i].systemNm + mint.lb + receiverSystemObject[i].systemCd + mint.rb;
							receiverSystemObject[i].orgDisplayNm    = receiverSystemObject[i].orgNm + mint.lb + receiverSystemObject[i].orgCd + mint.rb;
							receiverSystemObject[i].nodeTypeCd      = receiverSystemObject[i].nodeType;
							receiverSystemObject[i].reUseDelYn      = 'Y';
							systemObjectList.push(receiverSystemObject[i]);
						}

						$('#gd-system').data('kendoGrid').setDataSource( $.main_detail.fn_getSystemGridDataSource(systemObjectList) );

						//-----------------------------------------------------------------------
						// 담당자
						//-----------------------------------------------------------------------
						var relUserObjectList = interfaceObject.relUsers;
						for( var i = 0; i < relUserObjectList.length; i++ ){
							relUserObjectList[i].userNm     = relUserObjectList[i].user.userNm;
							relUserObjectList[i].cellPhone  = relUserObjectList[i].user.cellPhone;
							relUserObjectList[i].phone      = relUserObjectList[i].user.phone;
							relUserObjectList[i].email      = relUserObjectList[i].user.email;
							relUserObjectList[i].userId     = relUserObjectList[i].user.userId;
							relUserObjectList[i].roleTypeCd = relUserObjectList[i].roleType;
							relUserObjectList[i].reUseDelYn = 'Y';
						}

						$('#gd-user').data('kendoGrid').setDataSource( $.main_detail.fn_getUserGridDataSource(relUserObjectList) );

						$("#df-devExpYmd").data("kendoDatePicker").value( mint.common.isEmpty(jsonData.devExpYmd) ? '' : mint.common.formatDate( jsonData.devExpYmd ) );
						$("#df-devFinYmd").data("kendoDatePicker").value( mint.common.isEmpty(jsonData.devFinYmd) ? '' : mint.common.formatDate( jsonData.devFinYmd ) );
						$("#df-testExpYmd").data("kendoDatePicker").value( mint.common.isEmpty(jsonData.testExpYmd) ? '' : mint.common.formatDate( jsonData.testExpYmd ) );
						$("#df-testFinYmd").data("kendoDatePicker").value( mint.common.isEmpty(jsonData.testFinYmd) ? '' : mint.common.formatDate( jsonData.testFinYmd ) );
						$("#df-realExpYmd").data("kendoDatePicker").value( mint.common.isEmpty(jsonData.realExpYmd) ? '' : mint.common.formatDate( jsonData.realExpYmd ) );
						$("#df-realFinYmd").data("kendoDatePicker").value( mint.common.isEmpty(jsonData.realFinYmd) ? '' : mint.common.formatDate( jsonData.realFinYmd ) );

						//장애영향도 - 데이터 세팅

						$('input:radio[name=rb-important]:input[value='+interfaceObject.importance+']').prop("checked", true);
						$("#nf-maxDelayTime").data("kendoNumericTextBox").value(interfaceObject.maxDelayTime);
						$("#cb-maxDelayUnit").data("kendoDropDownList").value(interfaceObject.maxDelayUnitNm);

						$("#nf-maxErrorTime").data("kendoNumericTextBox").value(interfaceObject.maxErrorTime);
						$("#cb-maxErrorUnit").data("kendoDropDownList").value(interfaceObject.maxErrorUnitNm);


						//-----------------------------------------------------------------------
						// 인터페이스 - 채널별 연계 특성
						//-----------------------------------------------------------------------
						var propertiesList = interfaceObject.properties;
						for( var i = 0; i < propertiesList.length; i++ ) {
							var properties = propertiesList[i];
							if( !mint.common.isEmpty(properties) ) {
								if( properties.type == '0' ) {
									$('#tf-chlattr-' + properties.attrCd).val( properties.attrValue );
								} else if ( properties.type == '1' ) {
									$('#tf-addattr-' + properties.attrCd).val( properties.attrValue );
								}
							}
						}

						//-----------------------------------------------------------------------
						// 첨부파일
						//-----------------------------------------------------------------------
						var uploadFiles = [];

						if(0 < jsonData.attatchFileList.length) {
							for(var i=0; i<jsonData.attatchFileList.length; i++) {
								var fileObject = new Object;

								fileObject.name      = jsonData.attatchFileList[i].fileNm;
								fileObject.size      = '';
								fileObject.extension = '';
								fileObject.fileNm    = jsonData.attatchFileList[i].fileNm;
								fileObject.fileId    = jsonData.attatchFileList[i].fileId;
								fileObject.filePath  = jsonData.attatchFileList[i].filePath;
								fileObject.regId     = jsonData.attatchFileList[i].regId;
								fileObject.regDate   = jsonData.attatchFileList[i].regDate;

								uploadFiles.push(fileObject);
							}
						}

						$.main_detail.fn_initFileUpload( uploadFiles );

						//-----------------------------------------------------------------------
						// Description
						//-----------------------------------------------------------------------
						$("#ta-description").data("kendoEditor").value(jsonData.comments);

					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_setInterfaceInfo"});
					}
				},//end fn_setInterfaceInfo()


				//-----------------------------------------------------------------------
				// Description :: 시스템 검색 버튼 클릭 이벤트
				//-----------------------------------------------------------------------
				fn_btnSystemSearchClickEvent : function(jsonObject) {
					try {
						mint.common.setScreenParam("caller", "AN-01-00-002");
						mint.common.setScreenParam('callback', '$.main_detail.fn_setSystemInfo');
						mint.common.searchPopup('../sub-co/CO-01-00-903.html','CO-01-00-903');
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_btnSystemSearchClickEvent"});
					}
				},//end fn_btnSystemSearchClickEvent()

				//-----------------------------------------------------------------------
				// Description :: 사용자 검색 버튼 클릭 이벤트
				//-----------------------------------------------------------------------
				fn_btnUserSearchClickEvent : function(jsonObject) {
					try {
						mint.common.setScreenParam("caller", "AN-01-00-002");
						mint.common.setScreenParam('callback', '$.main_detail.fn_setUserInfo');
						mint.common.searchPopup('../sub-co/CO-01-00-004.html','CO-01-00-004');
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_btnUserSearchClickEvent"});
					}
				},//end fn_btnUserSearchClickEvent()


				//-----------------------------------------------------------------------
				// Description :: 사이트별 특성( 인터페이스 추가 속성 )
				//-----------------------------------------------------------------------
				fn_interfaceAdditionalAttribute : function() {
					try {
						$('#add-attr-div').html('');
						var additionalAttributeList = mint.common.getCommonCode('interfaceAdditionalAttributeList');

						if( !mint.common.isEmpty( additionalAttributeList ) && additionalAttributeList.length > 0 ) {
							for( var i = 0; i < additionalAttributeList.length; i++ ) {
								var htmlTemplate = kendo.template($('#template-additionalAttribute').html());
								$('#add-attr-div').append( htmlTemplate({attrCd: additionalAttributeList[i].attrCd, attrNm: additionalAttributeList[i].attrNm }) );
								if( (i+1) % 3  == 0 ) {
									$('#add-attr-div').append('<hr class="hr-space">');
								}
							}
							$('#tab-interface-info a:eq(2)').tab().show();
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_interfaceAdditionalAttribute"});
					}
				},

				//-----------------------------------------------------------------------
				// Description :: 연계 채널(방식) 체인지 이벤트
				//-----------------------------------------------------------------------
				fn_channelAdditionalAttribute : function() {
					try {
						$('#chl-attr-div').html('');
						var channelItem = $("#cb-channelNm").data("kendoDropDownList").dataItem();

						if( !mint.common.isEmpty(channelItem) ) {
							var relChlAttributes = channelItem.relChlAttributes;
							if( !mint.common.isEmpty(relChlAttributes) && relChlAttributes.length > 0 ) {
								for( var i = 0; i < relChlAttributes.length; i++ ) {
									var htmlTemplate = kendo.template($('#template-channelAttribute').html());
									$('#chl-attr-div').append( htmlTemplate({attrCd: relChlAttributes[i].attrCd, attrNm: relChlAttributes[i].attrNm }) );
									if( (i+1) % 3  == 0 ) {
										$('#chl-attr-div').append('<hr class="hr-space">');
									}
								}

								if( ! mint.common.isEmpty( $('#add-attr-div').html() ) ) {
									$('#division-line').show();
								} else {
									$('#division-line').hide();
								}
								$('#tab-interface-info a:eq(2)').tab().show();
							} else {
								if ( ! mint.common.isEmpty( $('#add-attr-div').html() ) ) {
									$('#division-line').hide();
								} else {
									$('#tab-interface-info a:eq(2)').tab().hide();
								}
							}
						}
					} catch( e ) {
						mint.common.errorLog(e, {"screenName" : screenName, "fnName" : "$.main_detail.fn_channelAdditionalAttribute"});
					}
				},


			}// end main
		});// end extends

		//=======================================================================
		// (4) 이벤트 핸들러 정의
		//=======================================================================
		//-----------------------------------------------------------------------
		// Description :: 시스템 그리드 클릭 이벤트
		//-----------------------------------------------------------------------
		$('#gd-system').on('click', 'tr[class*="k-state-selected"]', function (e) {
			if( $(this).attr('data-role') === 'editable' ) {
				e.preventDefault();
			} else {
				var editGrid = $('#gd-system').data('kendoGrid');
				editGrid.saveRow();
				editGrid.editRow($(this));
			}
		});

		//-----------------------------------------------------------------------
		// Description :: 담당자 그리드 클릭 이벤트
		//-----------------------------------------------------------------------
		$('#gd-user').on('click', 'tr[class*="k-state-selected"]', function (e) {
			if( $(this).attr('data-role') === 'editable' ) {
				e.preventDefault();
			} else {
				var editGrid = $('#gd-user').data('kendoGrid');
				editGrid.saveRow();
				editGrid.editRow($(this));
			}
		});

		//-----------------------------------------------------------------------
		// Description :: (팝업) 기관 검색 클릭 이벤트
		//-----------------------------------------------------------------------
		$('#tf-orgNm').on('click', function () {
			mint.common.setScreenParam('callback', '$.main_detail.fn_setOrgInfo');
			mint.common.searchPopup('../sub-co/CO-01-00-902.html','CO-01-00-902');
		});

		//-----------------------------------------------------------------------
		// Description :: (팝업) 업무 검색 클릭 이벤트
		//-----------------------------------------------------------------------
		$('#tf-businessDisplayNm').on('click', function () {
			mint.common.setScreenParam('callback', '$.main_detail.fn_setBusinessInfo');
			mint.common.searchPopup('../sub-co/CO-01-00-003.html','CO-01-00-003');
		});

		//-----------------------------------------------------------------------
		// Description :: 연계채널(방식) 체인지 이벤트
		//-----------------------------------------------------------------------
		$('#cb-channelNm').on('change', function(e) {
			$.main_detail.fn_channelAdditionalAttribute();
		});

		//-----------------------------------------------------------------------
		// Description :: 저장 버튼 Click 이벤트
		//-----------------------------------------------------------------------
		$('.btn-save').on('click', function() {
			$.main_detail.fn_save();
		});

		//-----------------------------------------------------------------------
		// Description :: 목록 버튼 Click 이벤트
		//-----------------------------------------------------------------------
		$('.btn-back').on('click', function(e) {
			mint.back(null);
		});

		//-----------------------------------------------------------------------
		// Description :: 취소 버튼 Click 이벤트
		//-----------------------------------------------------------------------
		$('.btn-cancel').click(function(e) {
			mint.setDetailView('Y');
			mint.common.setScreenParam("requirementId", $("#hd-requirementId").val());
			mint.move('../sub-an/AN-01-00-603');
		});

		//-----------------------------------------------------------------------
		// Description :: (팝업) 시스템 검색 클릭 이벤트
		//-----------------------------------------------------------------------
		$('.btn-systemSearch').on('click', function(e) {
			$.main_detail.fn_btnSystemSearchClickEvent(e);
		});

		//-----------------------------------------------------------------------
		// Description :: (팝업) 담당자 검색 클릭 이벤트
		//-----------------------------------------------------------------------
		$('.btn-userSearch').on('click', function(e) {
			$.main_detail.fn_btnUserSearchClickEvent(e);
		});


		//=======================================================================
		// (5) 기타 Function 정의
		//=======================================================================

		//=======================================================================
		// (6) 화면 로딩시 실행할 항목 기술
		//=======================================================================
		$.main_detail.fn_init();
		mint.label.attachLabel(null);
	});

</script>